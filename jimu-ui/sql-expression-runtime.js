define(["jimu-core","jimu-ui"],(function(e,t){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=800)}({0:function(t,o){t.exports=e},118:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=[r.ClauseSourceType.SingleSelectFromUnique,r.ClauseSourceType.MultipleSelectFromUnique];t.getClauseArrayByChange=function(e,t,o){var r=o.split("_"),n=parseInt(r[r.length-1]),a=e.slice(0,n);return t&&(a=a.concat(t)),a=a.concat(e.slice(n+1,e.length))},t.getCamelCase=function(e){return(e=e.toLowerCase()).replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))},t.getCascadeSQL=function(e,t,o,a){var s=null;if(n.indexOf(t.valueOptions.sourceType)>=0&&t.askForValueOptions&&t.askForValueOptions.cascade!==r.ClauseCascade.None){var i=function(e,t,o){var n={sql:"",logicalOperator:e.logicalOperator,parts:[]},a=t.askForValueOptions.cascade,s=o.split("_"),i=null,l=parseInt(s[1]);return s.length>2&&(i=parseInt(s[1]),l=parseInt(s[3])),a===r.ClauseCascade.Previous?e.parts.some((function(e,t){if(i)if(t<i)n.parts.push(e);else{if(t!==i)return!0;var o=e,r={type:o.type,logicalOperator:o.logicalOperator,parts:[]};o.parts.some((function(e,t){if(!(t<l))return!0;r.parts.push(e)})),n.parts.push(r)}else{if(!(t<l))return!0;n.parts.push(e)}})):a===r.ClauseCascade.All&&e.parts.some((function(e,t){if(i)if(t!==i)n.parts.push(e);else{var o=e,r={type:o.type,logicalOperator:o.logicalOperator,parts:[]};o.parts.some((function(e,t){t!==l&&r.parts.push(e)})),n.parts.push(r)}else t!==l&&n.parts.push(e)})),n}(e,t,o);s=r.dataSourceUtils.getArcGISSQL(r.Immutable(i),a).sql}return s};var a=["undefined","nan","null",""];t.queryValueLabelsByField=function(e,t,o,n){var s=[],i={where:n||"(1=1)",returnGeometry:!1,outFields:[e.name],orderByFields:[e.name],returnDistinctValues:!0};return t.query(i,{scope:r.QueryScope.InConfigView}).then((function(t){var r={};return t.records.map((function(t){var n=t,i=n.feature.attributes[e.jimuName];if(!(i in r)&&(r[i]=!0,0===a.filter((function(e){return(i+"").trim().toLowerCase()===e})).length)){var l=n.getFormattedFieldValue(e.jimuName,o);s.push({value:i,label:l})}})),s}))},t.getJimuFieldNamesBySqlExpression=function(e){if(!e)return[];var t={};return function e(o){o.parts&&o.parts.forEach((function(o){o.type===r.ClauseType.Set?e(o):t[o.jimuFieldName]=!0}))}(e),Object.keys(t).map((function(e){return e}))},t.isSqlExpressionValid=function(e){var t=!0;return e?(function e(o){o.parts&&o.parts.forEach((function(o){o.type===r.ClauseType.Set?e(o):o.valueOptions.isValid||(t=!1)}))}(e),t):t}},14:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={iconSize:"Icon size",vertical:"Vertical",horizontal:"Horizontal",expand:"Expand",space:"Spacing",appearance:"Appearance",textAlign:"Text alignment",alignment:"Alignment",type:"Type",states:"States",textColor:"Text color",background:"Background",borderColor:"Border color",next:"Next",previous:"Previous",edit:"Edit",circle:"Circle",rectangle:"Rectangle",more:"More",noContent:"No content",copy:"Copy",location:"Location",advance:"Advanced",reset:"Reset",play:"Play",pause:"Pause",inherit:"Inherit",clear:"Clear",sqlExprIncomplete:"SQL expression is incomplete. Please complete it first.",builderName:"SQL Expression Builder",and:"AND",andLowerCase:"and",or:"OR",orLowerCase:"or",noDataTip:"Please add data first.",noClauseTip:"No clause. Please add one.",addClause:"Add clause",addClauseSet:"Add clause set",deleteClause:"Delete clause",deleteClauseSet:"Delete clause set",selectInputEditor:"Select a display style for source type",sourceType:"Select source type",userInput:"User input",field:"Field",unique:"Unique",single:"Single",multiple:"Multiple",inputEditorType:"Select display style",textBox:"Text box",fieldSelector:"Field selector",doubleNumberSelector:"Double text box",simpleSelect:"Dropdown list",multipleSelect:"Dropdown list",datePicker:"Date Picker",dateTimePicker:"DateTime Picker",caseSensitive:"Case sensitive",askForValues:"Ask for values",label:"Label",hint:"Hint",cascade:"List values based on",noneCascadeTip:"All unique values of this field",previousCascadeTip:"Values filtered by previous expressions",allCascadeTip:"Values filtered by all other expressions",stringOperatorIs:"is",stringOperatorIsNot:"is not",stringOperatorContains:"contains",stringOperatorDoesNotContain:"does not contain",stringOperatorStartsWith:"starts with",stringOperatorEndsWith:"ends with",stringOperatorIsAnyOf:"is any of",stringOperatorIsNoneOf:"is none of",dateOperatorIsOn:"is on",dateOperatorIsNotOn:"is not on",numberOperatorIs:"is",numberOperatorIsNot:"is not",numberOperatorIsAtLeast:"is at least",numberOperatorIsAtMost:"is at most",numberOperatorIsLessThan:"is less than",numberOperatorIsGreaterThan:"is greater than",numberOperatorIsBetween:"is between",numberOperatorIsNotBetween:"is not between",numberOperatorIsAnyOf:"is any of",numberOperatorIsNoneOf:"is none of",linkToString:"Link to",data:"Data",fill:"Fill",image:"Image",color:"Color",browse:"Browse",clearImage:"Clear image",position:"Position",fit:"Fit",center:"Center",middle:"Middle",tile:"Tile",stretch:"Stretch",dashed:"Dashed",dotted:"Dotted",double:"Double",solid:"Solid",offsetX:"Offset X",offsetY:"Offset Y",blurRadius:"Blur radius",spreadRadius:"Spread radius",T:"Top",R:"Right",B:"Bottom",L:"Left",TL:"Top left",TR:"Top right",BR:"Bottom right",BL:"Bottom left",lock:"Lock",unlock:"Unlock",changeUnit:"Change unit",left:"Left",top:"Top",right:"Right",up:"Up",down:"Down",justify:"Justify",font:"Font",fontSize:"Font size",convert:"Convert",convertToRem:"Convert to rem",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strikethrough",highlight:"Highlight color",fontColor:"Font color",ordered:"Ordered",numbering:"Numbering",bullet:"Bullets",link:"Link",linkTo:"Link to",characterSpacing:"Character spacing",lineSpacing:"Line spacing",indentLeft:"Decrease indent",indentRight:"Increase indent",normal:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",clearAllFormats:"Clear all formatting",textFormat:"Text format",dynamicContent:"Dynamic content",direction:"Direction",style:"Style",default:"Default",tabs:"Tabs",pills:"Pills",select:"Selected",numSelected:"{number} Selected",regular:"Regular",hover:"Hover",views:"Views",auto:"Auto",custom:"Custom",viewsSelected:"{viewNumber} views selected",attribute:"Attribute",statistics:"Statistics",expression:"Expression",operator:"Operator",name:"Name",insert:"Insert",fields:"Fields",functions:"Functions",invalidExpression:"Invalid expression",static:"Static",openIn:"Open in",appWindow:"App window",topWindow:"Top window",newWindow:"New window",webAddress:"Web address",none:"None",chooseAPage:"Select a page",chooseViews:"Select views",setLink:"Set link",setLinkForTitle:"Set link for {title}",ascending:"Ascending",decending:"Descending",optionNamePlaceholder:"Please enter the option name.",addOption:"Add an option",option:"Option",addSortBtntext:"Add a sort",noOptionRemindText:"There is no option.",noSortRemindText:"There is no sort.",pleaceAddOne:"Please add one.",deleteOption:"Delete",featureLayer:"Feature Layer",featureSet:"Feature Set",hubAnnotations:"Hub Annotations",hubEvents:"Hub Events",map:"Map",simpleLocal:"Simple Local",webMap:"Web Map",webScene:"Web Scene",csv:"CSV",filters:"Filters",widgets:"Widgets",mapping:"Mapping",layers:"Layers",connectToData:"Connect to data",setDataSource:"Select data",addNewData:"Add new data",pleaseAddData:"Please add data.",added:"Added",outputs:"Outputs",noAddedDataSourceCanBeUsed:"No added data can be used.",noSelectedType:"No selected type.",noDataTypeInTheApp:"No {dataType} in the app.",noWidgetOutputOfDataType:"No widget output of {dataType}.",noWidgetOutputCanBeUsed:"No widget output can be used.",all:"All",selectData:"Select data",addData:"Add data",serviceType:"Service type",url:"URL",add:"Add",appData:"App Data",done:"Done",hub:"Hub",unSupported:"Unsupported",selected:"Selected",pleaseSelectData:"Please select data",folder:"Folder",remove:"Remove",sort:"Sort",modified:"Modified",title:"Title",numViews:"View numbers",myContent:"My content",myOrganization:"My organization",public:"Public",noItemFoundWarning:"We couldn't find what you were looking for. Please try another one.",details:"Details",description:"Description",commonModalOk:"OK",commonModalCancel:"Cancel",owner:"Owner",updated:"Updated",setAnImage:"Select an image",localImage:"Local",urlImage:"URL",uploadImage:"Upload",nextStepForImage:"Next",urlIsHereForImage:"Type URL here",uploadImageError:"Error",imageTypeError:"You have specified an image type that is not supported. Please use one of these types: PNG, GIF, JPG, JPEG, BMP, SVG or SVGZ.",padding:"Padding",waitForThemeList:"Getting themes list...",themeSectionColor:"Color",themeSectionFont:"Font",themeSettingThemeColors:"Theme colors",themeSettingThemeColorsDescription:"Change the look of your app by customizing your theme colors. When you change these colors here, they will affect where they are used",themeSettingColorMode:"Color mode",themeSettingColoration:"Coloration",themeSettingAppElements:"App elements",themeSettingAppElementsDescription:"Define the colors for: header, body, and footer specifically.",themeSettingAppElementsDescription2:"These colors can be overridden in the Page's settings panel.",themeSettingThemeFontset:"Theme font set",themeSettingSize:"Size",themeLight:"Light",themeDark:"Dark",themeColorationMinimal:"Minimal",themeColorationDefault:"Default",themeFontDummyHeading:"Heading",themeFontDummyParagraph:"Lorem ipsum dolor sitamet, tur adipiscing elit...",themeHeadingTitle:"Heading",themeBodyTitle:"Body",useSharedTheme:"Use organization  shared theme",sharedThemeOrgNamePrefix:"Shared theme from:",saveAs:"Save as",variableColorPrimary:"Primary",variableColorSecondary:"Secondary",variableColorThird:"Third",variableColorFourth:"Fourth",variableColorFifth:"Fifth",variableColorLight:"Light",variableColorDark:"Dark",variableColorSuccess:"Success",variableColorInfo:"Info",variableColorWarning:"Warning",variableColorDanger:"Danger",variableTypography:"Typography",variableBg:"Background",variableColor:"Text",variableFontFamilyBase:"Font family",variableFontSizeBase:"Base font size",variableHeader:"Header",variableBody:"Body",variableFooter:"footer",variableLink:"Link",variableButton:"Button",variableCustomPalette:"Customize palette colors",variableCustomFontset:"Customize font set",setIcon:"Select icon",iconViewerModalTitle:"Select an icon",removeIcon:"Remove icon",myIcons:"My icons",IconGroup_general:"General",IconGroup_arrows:"Arrows",iconBackground:"Icon background",themeColor:"Theme colors",customColor:"Custom colors",moreColor:"More colors",customize:"Custom",recent:"Recent",standard:"Standard",noColor:"No color",themeColorTip:"Select a color from your theme",customColorTip:"Customize your color. If you pick custom color, it will not be affected by theme setting.",orgColors:"Organization colors",sharedThemeColorTip:"Select a color defined in your organization shared theme",qrCodeSaveBtnLabel:"Save as image",width:"Width",height:"Height",myProfile:"My profile",accountHelp:"Help",switchAccount:"Switch accounts",signOut:"Sign out",signIn:"Sign in",share:"Share",sharelink:"Share link",email:"Email",embed:"Embed",facebook:"Facebook",qrcode:"QR code",twitter:"Twitter",mapFailure:"Creating map failed.",ZoomLabel:"Zoom",HomeLabel:"Home",NavigationLabel:"Navigation",LocateLabel:"Locate",CompassLabel:"Compass",SearchLabel:"Search",LayersLabel:"Layers",BaseMapLabel:"Basemap",MeasureLabel:"Measure",FullScreenLabel:"Fullscreen",ScaleBarLabel:"Scale bar",LayersLabelLayer:"Layer",LayersLabelLegend:"Legend",LegendLabel:"Legend",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomToFit:"Fit width to current window",openSettingPanel:"Open setting panel",closeSettingPanel:"Close setting panel",switchPage:"Switch page",basic:"Basic"}},3:function(e,o){e.exports=t},337:function(e,t,o){"use strict";var r,n,a,s,i,l,u,p,c,d,f,m,h,y,g,v,S,C,O,b,I;Object.defineProperty(t,"__esModule",{value:!0});var T,E=o(0);!function(e){e.All="ALL",e.Simple="SIMPLE"}(t.SqlExpressionMode||(t.SqlExpressionMode={})),function(e){e.TextInput="TEXT_BOX",e.FieldSelector="FIELD_SELECTOR",e.DoubleNumberSelector="DOUBLE_NUMBER_SELECTOR",e.SimpleSelect="SIMPLE_SELECT",e.MultipleSelect="MULTIPLE_SELECT",e.DatePicker="DATE_PICKER",e.DateTimePicker="DATE_TIME_PICKER"}(T=t.ClauseInputEditor||(t.ClauseInputEditor={}));var _=[T.FieldSelector],F=[T.SimpleSelect],D=[T.MultipleSelect],A=[T.TextInput],V=[T.TextInput],j=[T.DoubleNumberSelector];t.normalInputEditorsForValueAndDate=[T.DatePicker,T.DateTimePicker];var L=[T.SimpleSelect];t.ClauseRelationship=((r={})[E.ClauseOperator.StringOperatorIs]=((n={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,codedValueInputEditors:L,supportAskForValue:!0,supportCaseSensitive:!0},n[E.ClauseSourceType.Field]={normalInputEditors:_},n[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,codedValueInputEditors:L,supportAskForValue:!0,supportCaseSensitive:!0},n),r[E.ClauseOperator.StringOperatorIsNot]=((a={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,codedValueInputEditors:L,supportAskForValue:!0,supportCaseSensitive:!0},a[E.ClauseSourceType.Field]={normalInputEditors:_},a[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,codedValueInputEditors:L,supportAskForValue:!0,supportCaseSensitive:!0},a),r[E.ClauseOperator.StringOperatorContains]=((s={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,supportAskForValue:!0,supportCaseSensitive:!0},s),r[E.ClauseOperator.StringOperatorDoesNotContain]=((i={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,supportAskForValue:!0,supportCaseSensitive:!0},i),r[E.ClauseOperator.StringOperatorStartsWith]=((l={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,supportAskForValue:!0,supportCaseSensitive:!0},l),r[E.ClauseOperator.StringOperatorEndsWith]=((u={})[E.ClauseSourceType.UserInput]={normalInputEditors:A,supportAskForValue:!0,supportCaseSensitive:!0},u),r[E.ClauseOperator.StringOperatorIsAnyOf]=((p={})[E.ClauseSourceType.MultipleSelectFromUnique]={normalInputEditors:D,codedValueInputEditors:D,supportAskForValue:!0,supportCaseSensitive:!0},p),r[E.ClauseOperator.StringOperatorIsNoneOf]=((c={})[E.ClauseSourceType.MultipleSelectFromUnique]={normalInputEditors:D,codedValueInputEditors:D,supportAskForValue:!0,supportCaseSensitive:!0},c),r[E.ClauseOperator.NumberOperatorIs]=((d={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,codedValueInputEditors:L,supportAskForValue:!0},d[E.ClauseSourceType.Field]={normalInputEditors:_},d[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,codedValueInputEditors:L,supportAskForValue:!0},d),r[E.ClauseOperator.NumberOperatorIsNot]=((f={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,codedValueInputEditors:L,supportAskForValue:!0},f[E.ClauseSourceType.Field]={normalInputEditors:_},f[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,codedValueInputEditors:L,supportAskForValue:!0},f),r[E.ClauseOperator.NumberOperatorIsAtLeast]=((m={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,supportAskForValue:!0},m[E.ClauseSourceType.Field]={normalInputEditors:_},m[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,supportAskForValue:!0},m),r[E.ClauseOperator.NumberOperatorIsAtMost]=((h={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,supportAskForValue:!0},h[E.ClauseSourceType.Field]={normalInputEditors:_},h[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,supportAskForValue:!0},h),r[E.ClauseOperator.NumberOperatorIsLessThan]=((y={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,supportAskForValue:!0},y[E.ClauseSourceType.Field]={normalInputEditors:_},y[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,supportAskForValue:!0},y),r[E.ClauseOperator.NumberOperatorIsGreaterThan]=((g={})[E.ClauseSourceType.UserInput]={normalInputEditors:V,supportAskForValue:!0},g[E.ClauseSourceType.Field]={normalInputEditors:_},g[E.ClauseSourceType.SingleSelectFromUnique]={normalInputEditors:F,supportAskForValue:!0},g),r[E.ClauseOperator.NumberOperatorIsBetween]=((v={})[E.ClauseSourceType.UserInput]={normalInputEditors:j,supportAskForValue:!0},v),r[E.ClauseOperator.NumberOperatorIsNotBetween]=((S={})[E.ClauseSourceType.UserInput]={normalInputEditors:j,supportAskForValue:!0},S),r[E.ClauseOperator.NumberOperatorIsAnyOf]=((C={})[E.ClauseSourceType.MultipleSelectFromUnique]={normalInputEditors:D,codedValueInputEditors:D,supportAskForValue:!0},C),r[E.ClauseOperator.NumberOperatorIsNoneOf]=((O={})[E.ClauseSourceType.MultipleSelectFromUnique]={normalInputEditors:D,codedValueInputEditors:D,supportAskForValue:!0},O),r[E.ClauseOperator.DateOperatorIsOn]=((b={})[E.ClauseSourceType.UserInput]={normalInputEditors:t.normalInputEditorsForValueAndDate,supportAskForValue:!0},b[E.ClauseSourceType.Field]={normalInputEditors:_},b),r[E.ClauseOperator.DateOperatorIsNotOn]=((I={})[E.ClauseSourceType.UserInput]={normalInputEditors:t.normalInputEditorsForValueAndDate,supportAskForValue:!0},I[E.ClauseSourceType.Field]={normalInputEditors:_},I),r),t.getOperatorsByShortType=function(e,t){var o=[];return"STRING"===e?o=[E.ClauseOperator.StringOperatorIs,E.ClauseOperator.StringOperatorIsNot,E.ClauseOperator.StringOperatorStartsWith,E.ClauseOperator.StringOperatorEndsWith,E.ClauseOperator.StringOperatorContains,E.ClauseOperator.StringOperatorDoesNotContain,E.ClauseOperator.StringOperatorIsAnyOf,E.ClauseOperator.StringOperatorIsNoneOf]:"NUMBER"===e?o=[E.ClauseOperator.NumberOperatorIs,E.ClauseOperator.NumberOperatorIsNot,E.ClauseOperator.NumberOperatorIsAtLeast,E.ClauseOperator.NumberOperatorIsAtMost,E.ClauseOperator.NumberOperatorIsLessThan,E.ClauseOperator.NumberOperatorIsGreaterThan,E.ClauseOperator.NumberOperatorIsBetween,E.ClauseOperator.NumberOperatorIsNotBetween,E.ClauseOperator.NumberOperatorIsAnyOf,E.ClauseOperator.NumberOperatorIsNoneOf]:"DATE"===e&&(o=[E.ClauseOperator.DateOperatorIsOn,E.ClauseOperator.DateOperatorIsNotOn]),o}},437:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(14),i=o(82),l=o(118),u=o(438),p=function(e){function t(t){var o=e.call(this,t)||this;return o.i18nMessage=function(e){return o.props.intl.formatMessage({id:e,defaultMessage:s.default[e]})},o.getLabel=function(){var e=o.props.config.askForValueOptions;return e&&e.label?e.label:(o.fieldObj.alias||o.fieldObj.name)+" "+o.i18nMessage(l.getCamelCase(o.props.config.operator))},o.getCodedValues=function(){var e=null;o.props.config.valueOptions.sourceType===a.ClauseSourceType.UserInput&&(e=i.getInputEditorListByOperatorAndSourceType(o.props.config.operator,o.props.config.valueOptions.sourceType,o.props.selectedDs,o.props.config.jimuFieldName).codedValues);return e},o.onValueOptsChange=function(e){var t=Object.assign({},o.props.config,{valueOptions:e});o.props&&o.props.onChange(t,o.props.id)},o.state={},o}return n(t,e),t.prototype.render=function(){this.fieldObj=a.Immutable(this.props.selectedDs.getSchema().fields[this.props.config.jimuFieldName]);var e=this.getLabel(),t=this.props.config.askForValueOptions&&this.props.config.askForValueOptions.hint;return a.jsx("div",{className:this.props.className?this.props.className:""},this.props.config.askForValueOptions&&a.jsx("div",{className:"sql-expression-single form-custom-inline"},a.jsx("div",{className:"w-100 p-1 overflow-hidden sql-expression-label",title:e},e),a.jsx("div",{className:t?"w-100":"w-100 pb-2"},a.jsx(u.InputEditorRender,{onChange:this.onValueOptsChange,selectedDs:this.props.selectedDs,codedValues:this.getCodedValues(),valueOptions:this.props.config.valueOptions,fieldObj:this.fieldObj,runtime:!0,sql:this.props.sql})),t&&a.jsx("div",{className:"w-100 p-1 pb-0 overflow-hidden sql-expression-hint",title:t},t)))},t}(a.React.PureComponent);t._SqlExprClauseRuntime=p;var c=a.themeUtils.withStyles(a.injectIntl(p),"SqlExpressionClauseRuntime");t.default=c},438:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(82),i=function(e){function t(t){var o=e.call(this,t)||this;return o._setStateForInputEditor=function(){o.setState({inputEditor:s.getInputEditor(o.props.valueOptions,o.props.fieldObj,o.props.onChange,o.props.selectedDs,o.props.codedValues,o.props.runtime,o.props.sql)})},o.state={inputEditor:null},o}return n(t,e),t.prototype.componentDidMount=function(){this._setStateForInputEditor()},t.prototype.componentDidUpdate=function(e,t){this.props.fieldObj===e.fieldObj&&this.props.valueOptions===e.valueOptions&&this.props.codedValues===e.codedValues&&this.props.sql===e.sql||this._setStateForInputEditor()},t.prototype.render=function(){return a.React.createElement("div",{className:"w-100 h-100"},this.state.inputEditor)},t}(a.React.PureComponent);t._InputEditorRender=i,t.InputEditorRender=i},800:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(801);o(0).ThemeManager.getInstance().registerJimuThemeStyleModule("jimu-ui/sql-expression-runtime/",{componentStyles:r});var n=o(337);t.SqlExpressionMode=n.SqlExpressionMode,t.ClauseInputEditor=n.ClauseInputEditor,t.ClauseRelationship=n.ClauseRelationship,t.getOperatorsByShortType=n.getOperatorsByShortType;var a=o(118);t.getClauseArrayByChange=a.getClauseArrayByChange,t.getCamelCase=a.getCamelCase,t.queryValueLabelsByField=a.queryValueLabelsByField,t.getJimuFieldNamesBySqlExpression=a.getJimuFieldNamesBySqlExpression,t.isSqlExpressionValid=a.isSqlExpressionValid;var s=o(82);t.getInputEditor=s.getInputEditor,t.getCodedValuesFromDs=s.getCodedValuesFromDs,t.getDefaultClauseValObj=s.getDefaultClauseValObj,t.getDefaultSingleClause=s.getDefaultSingleClause,t.getDefaultClauseSet=s.getDefaultClauseSet,t.isCaseSensitiveSupportedByOperatorAndSourceType=s.isCaseSensitiveSupportedByOperatorAndSourceType,t.isAskForValueSupportedByOperatorAndSourceType=s.isAskForValueSupportedByOperatorAndSourceType,t.getCodedValueInputEditorsByOperatorAndSourceType=s.getCodedValueInputEditorsByOperatorAndSourceType,t.getClauseValObjByOperator=s.getClauseValObjByOperator,t.getDisplayTypes=s.getDisplayTypes,t.getInputEditorListByOperatorAndSourceType=s.getInputEditorListByOperatorAndSourceType,t.getJimuFieldTypeByEsriType=s.getJimuFieldTypeByEsriType,t.getOperatorsByEsriType=s.getOperatorsByEsriType;var i=o(809);t.SqlExpressionRuntime=i.default;var l=o(438);t.InputEditorRender=l.InputEditorRender},801:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(802);t.SqlExpressionClauseRuntime=r.sqlExpressionClauseRuntimeStyles},802:function(e,t,o){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var n,a=o(0);t.sqlExpressionClauseRuntimeStyles=function(e){var t=e.theme;return a.css(n||(n=r(["\n    .sql-expression-single {\n      .sql-expression-label{\n        font-size: ",";\n        color: ",";\n        text-overflow: ellipsis;\n      }\n      .sql-expression-hint{\n        font-size: ",";\n        color: ",";\n        font-style: italic;\n        text-overflow: ellipsis;\n      }\n    }\n  "],["\n    .sql-expression-single {\n      .sql-expression-label{\n        font-size: ",";\n        color: ",";\n        text-overflow: ellipsis;\n      }\n      .sql-expression-hint{\n        font-size: ",";\n        color: ",";\n        font-style: italic;\n        text-overflow: ellipsis;\n      }\n    }\n  "])),a.polished.rem(12),t.colors.black,a.polished.rem(12),t.colors.palette.dark[300])}},803:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(3),i=o(82),l=function(e){function t(t){var o=e.call(this,t)||this;return o._setStateForDisplayUI=function(){var e=o.props.fieldObj?o.props.fieldObj.type:null;o.setState({displayUI:o.getDisplayUI(e)})},o.getDisplayUI=function(e){var t="";switch(e){case a.JimuFieldType.Number:t="number";break;case a.JimuFieldType.String:case null:t="text"}return t},o.onChange=function(e){if(o.props.fieldObj){var t=null!==e&&e+""!=""?[{value:e,label:e+""}]:null,r=i.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,t);o.props&&o.props.onChange(r)}},o.state={displayUI:null},o}return n(t,e),t.prototype.componentDidMount=function(){var e=this.props.fieldObj?this.props.fieldObj.type:null;this.setState({displayUI:this.getDisplayUI(e)})},t.prototype.componentDidUpdate=function(e,t){this.props.fieldObj===e.fieldObj&&this.props.value.sourceType===e.value.sourceType&&this.props.value.inputEditor===e.value.inputEditor||this._setStateForDisplayUI()},t.prototype.render=function(){var e,t=this,o=(null===(e=this.props.value)||void 0===e?void 0:e.value)?this.props.value.value[0].value:"";return"number"===this.state.displayUI?a.React.createElement(s.NumericInput,{value:o,onChange:this.onChange}):a.React.createElement(s.TextInput,{type:"text",value:o,onChange:function(e){return t.onChange(e.target.value)}})},t}(a.React.PureComponent);t._VITextBox=l;var u=l;t.default=u},804:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(82),i=function(e){function t(t){var o=e.call(this,t)||this;return o.getSelectedFields=function(){var e=o.props.value.value;return e?a.Immutable([e[0].value]):null},o.onChange=function(e,t){var r={value:t.jimuName,label:t.alias?t.alias:t.name},n=s.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,[r]);o.props&&o.props.onChange(n)},o.state={FieldSelector:null,type:o.props.fieldObj.type},o}return n(t,e),t.prototype.componentDidMount=function(){var e=this;this.__unmount=!1,a.moduleLoader.loadModule("jimu-ui/data-source-selector").then((function(t){e.__unmount||e.setState({FieldSelector:t.FieldSelector})}))},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.componentDidUpdate=function(e,t){this.props.fieldObj!==e.fieldObj&&this.setState({type:this.props.fieldObj.type})},t.prototype.render=function(){return this.state.FieldSelector?a.React.createElement(this.state.FieldSelector,{types:a.Immutable([this.state.type]),dataSources:[this.props.selectedDs],onSelect:this.onChange,selectedFields:this.getSelectedFields(),isDataSourceDropDownHidden:!0,isSearchInputHidden:!0,useDropdown:!0}):null},t}(a.React.PureComponent);t._VIFieldSelector=i;var l=i;t.default=l},805:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(82),i=o(3),l=o(14),u=function(e){function t(t){var o=e.call(this,t)||this;return o.i18nMessage=function(e){return o.props.intl.formatMessage({id:e,defaultMessage:l.default[e]})},o.onChange=function(){var e=[],t=null!==o.value1?{value:o.value1,label:o.value1+""}:null,r=null!==o.value2?{value:o.value2,label:o.value2+""}:null;e.push(t),e.push(r);var n=s.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,e);o.props&&o.props.onChange(n)},o}return n(t,e),t.prototype.render=function(){var e,t,o=this;return this.value1=(null===(e=this.props.value)||void 0===e?void 0:e.value)&&this.props.value.value[0]?this.props.value.value[0].value:null,this.value2=(null===(t=this.props.value)||void 0===t?void 0:t.value)&&this.props.value.value[1]?this.props.value.value[1].value:null,a.React.createElement("div",{className:"double-number-selector d-flex"},a.React.createElement(i.NumericInput,{value:this.value1,onChange:function(e){o.value1=e,o.onChange()}}),a.React.createElement("div",{className:"m-2 text-nowrap"},this.i18nMessage("andLowerCase")),a.React.createElement(i.NumericInput,{value:this.value2,onChange:function(e){o.value2=e,o.onChange()}}))},t}(a.React.PureComponent);t._VIDoubleNumberSelector=u;var p=a.injectIntl(u);t.default=p},806:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(3),i=o(82),l=o(118),u=function(e){function t(t){var o=e.call(this,t)||this;return o.updateList=function(e){void 0===e&&(e=o.props.fieldObj),o._isMounted&&!o.props.codedValues&&e&&l.queryValueLabelsByField(e,o.props.selectedDs,o.props.intl,o.props.sql).then((function(e){o._isMounted&&o.setState({list:e})}))},o.onValueChange=function(e,t){var r,n,s=e.target.value,l=null===(n=null===(r=t)||void 0===r?void 0:r.props)||void 0===n?void 0:n.children;s&&o.props.fieldObj.type===a.JimuFieldType.Number&&(s=parseFloat(s));var u=s+""!=""?[{value:s,label:l}]:null,p=i.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,u);o.props&&o.props.onChange(p)},o.stopPropagation=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},o.state={list:[]},o._isMounted=!1,o}return n(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this.updateList()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidUpdate=function(e){!this.props.runtime||this.props.fieldObj===e.fieldObj&&this.props.codedValues===e.codedValues&&this.props.sql===e.sql||this.updateList()},t.prototype.render=function(){var e=this.props.value&&this.props.value.value?this.props.value.value[0].value:"",t=this.props.codedValues?this.props.codedValues:this.state.list;return a.React.createElement(s.Select,{value:e,onChange:this.onValueChange,menuProps:{onClick:this.stopPropagation}},a.React.createElement("option",{key:0,value:""}," "),t.map((function(e,t){return null!==e.value?a.React.createElement("option",{key:t,value:e.value},e.label):null})))},t}(a.React.PureComponent);t._VISimpleSelect=u;var p=a.injectIntl(u);t.default=p},807:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(3),i=o(82),l=o(118),u=o(14),p=function(e){function t(t){var o=e.call(this,t)||this;return o.i18nMessage=function(e,t){return o.props.intl.formatMessage({id:e,defaultMessage:u.default[e]},t)},o.updateList=function(e){void 0===e&&(e=o.props.fieldObj),o.keyLabel={},o.props.codedValues?o.props.codedValues.map((function(e){o.keyLabel[e.value]=e.label})):o._isMounted&&e&&l.queryValueLabelsByField(o.props.fieldObj,o.props.selectedDs,o.props.intl,o.props.sql).then((function(e){o._isMounted&&(e.map((function(e){o.keyLabel[e.value]=e.label})),o.setState({list:e}))}))},o.onClickItem=function(e,t,r){var n=[];r.map((function(e){if(o.props.fieldObj.type!==a.JimuFieldType.Number||!e&&0!==e||(e=parseFloat(e)),e+""!=""){var t={value:e,label:o.keyLabel[e]};n.push(t)}})),n=n.length?n:null;var s=i.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,n);o.props&&o.props.onChange(s)},o.getValues=function(){var e=[];return o.props.value&&o.props.value.value&&o.props.value.value.map((function(t){e.push(t.value)})),a.Immutable(e)},o.getDisplayLabel=function(e){var t=e?e.length:0;return o.i18nMessage("numSelected",{number:t})},o.stopPropagation=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},o.state={list:[]},o.keyLabel={},o._isMounted=!1,o}return n(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this.updateList()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidUpdate=function(e,t){!this.props.runtime||this.props.fieldObj===e.fieldObj&&this.props.sql===e.sql||this.updateList()},t.prototype.render=function(){var e=this.props.codedValues?this.props.codedValues:this.state.list;return a.React.createElement(s.MultiSelect,{fluid:!0,items:a.Immutable(e),onClickItem:this.onClickItem,menuProps:{onClick:this.stopPropagation},values:this.getValues(),displayByValues:this.getDisplayLabel})},t}(a.React.PureComponent);t._VIMultipleSelect=p;var c=a.injectIntl(p);t.default=c},808:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(337),i=o(82),l=function(e){function t(t){var o=e.call(this,t)||this;return o._setStateForInputEditor=function(){var e=o.props.value.inputEditor?o.props.value.inputEditor:null;o.setState({displayUI:o.getInputEditor(e)})},o.getInputEditor=function(e){var t="";switch(e){case s.ClauseInputEditor.DatePicker:t="date";break;case s.ClauseInputEditor.DateTimePicker:t="datetime-local"}return t},o.getFormatedValue=function(){var e;if(o.state.displayUI&&o.props.value&&o.props.value.value){var t=new Date(o.props.value.value[0].value),r=a.dataSourceUtils.getLocalTimes(t),n=new Date(r);if(o.state.displayUI.indexOf("time")<0&&0!==n.getHours())return o.onChange(r),null;e=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2),o.state.displayUI.indexOf("time")>=0&&(e=e+"T"+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2)),e=new Date(e)}return e||new Date},o.checkIfTimezoneChanged=function(){var e=!1;if(o.state.displayUI&&o.props.value&&o.props.value.value){var t=new Date(o.props.value.value[0].value),r=a.dataSourceUtils.getLocalTimes(t),n=new Date(r);o.state.displayUI.indexOf("time")<0&&0!==n.getHours()&&(o.onChange(t.getTime()),e=!0)}return e},o.onChange=function(e,t){var r=e?[{value:e,label:""}]:null,n=i.getDefaultClauseValObj(o.props.value.sourceType,o.props.value.inputEditor,r);o.props&&o.props.onChange(n)},o.state={DatePicker:null,displayUI:null},o}return n(t,e),t.prototype.componentDidMount=function(){var e=this;this.__unmount=!1,a.moduleLoader.loadModule("jimu-ui/date-picker").then((function(t){e.__unmount||(e.setState({DatePicker:t.DatePicker}),e.props.value.inputEditor&&e._setStateForInputEditor())}))},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.componentDidUpdate=function(e,t){this.props.fieldObj===e.fieldObj&&this.props.value.sourceType===e.value.sourceType&&this.props.value.inputEditor===e.value.inputEditor||this._setStateForInputEditor()},t.prototype.render=function(){var e,t,o,r=this;if(!this.state.DatePicker)return null;var n=null,i=null===(t=null===(e=this.props.fieldObj)||void 0===e?void 0:e.format)||void 0===t?void 0:t.dateFormat,l=!1,u=!1,p=!1;return this.state.displayUI&&((null===(o=this.props.value)||void 0===o?void 0:o.value)&&(n=new Date(this.props.value.value[0].value),l=!0),this.props.value.inputEditor===s.ClauseInputEditor.DatePicker?i?i.indexOf("Time")>0&&(i=i.split("24")[0].split("ShortTime")[0].split("LongTime")[0]):i=a.dateUtils.DATE_TIME_DEFAULT_FORMAT.date:this.props.value.inputEditor===s.ClauseInputEditor.DateTimePicker&&(u=!0,i?i.indexOf("Time")<0&&(i=i+" "+a.dateUtils.DATE_TIME_DEFAULT_FORMAT.time):i=a.dateUtils.DATE_TIME_DEFAULT_FORMAT.dateTime,i.indexOf("LongTime")>=0&&(p=!0))),a.React.createElement(this.state.DatePicker,{startDate:n,showTimeInput:u,isTimeLong:p,isUTCDate:l,format:i,appendToPopper:this.props.runtime,monthsShown:this.props.runtime?2:1,hasDoneButton:!0,onChange:function(e,t){return r.onChange(e,t)}})},t}(a.React.PureComponent);t._VIDateTimePicker=l;var u=l;t.default=u},809:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(437),i=o(14),l=o(118),u=o(810),p=function(e){function t(t){var o=e.call(this,t)||this;o.i18nMessage=function(e){return o.props.intl.formatMessage({id:e,defaultMessage:i.default[e]})},o.onChange=function(e,t){var r=l.getClauseArrayByChange(o.props.config.parts,e,t),n=a.Immutable({sql:o.props.config.sql,displaySQL:o.props.config.displaySQL,logicalOperator:o.props.config.logicalOperator,parts:r.asMutable({deep:!0})}),s=a.dataSourceUtils.getArcGISSQL(n,o.props.selectedDs,o.props.intl);n=n.set("sql",s.sql).set("displaySQL",s.displaySQL),o.props.onChange&&o.props.onChange(n)};var r=o.props.selectedDs;return r&&(o.isHosted=a.dataSourceUtils.isHostedService(r.dataSourceJson.url||r.layer.url)),o.state={},o}return n(t,e),t.prototype.render=function(){var e=this;return a.jsx("div",{className:this.props.className?this.props.className:""},a.jsx("div",{style:this.props.style,className:"sql-expression-builder"},this.props.config?a.jsx("div",{className:"sql-expression-container"},0===this.props.config.parts.length?a.jsx("div",{className:"no-data-tip"},this.i18nMessage("noClauseTip")):this.props.config.parts.map((function(t,o){return t.type===a.ClauseType.Single?(t=t).askForValueOptions&&a.jsx(s.default,{key:o,id:"clause_"+o,config:t,isHosted:e.isHosted,selectedDs:e.props.selectedDs,onChange:e.onChange,sql:l.getCascadeSQL(e.props.config,t,"clause_"+o,e.props.selectedDs)}):a.jsx(u.default,{key:o,id:"clauseset_"+o,sqlExprObj:e.props.config,config:t,isHosted:e.isHosted,selectedDs:e.props.selectedDs,onChange:e.onChange})}))):a.jsx("div",{className:"no-data-tip"},this.i18nMessage("noAddedDataSourceCanBeUsed"))))},t}(a.React.PureComponent);t.SqlExpressionRuntime=a.themeUtils.withStyles(a.injectIntl(p),"SqlExpressionRuntime"),t.default=t.SqlExpressionRuntime},810:function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(118),i=o(14),l=o(437),u=function(e){function t(t){var o=e.call(this,t)||this;return o.i18nMessage=function(e){return o.props.intl.formatMessage({id:e,defaultMessage:i.default[e]})},o.onClauseChange=function(e,t){var r=s.getClauseArrayByChange(o.state.partsArray,e,t),n=0===o.state.partsArray.length?null:{type:a.ClauseType.Set,logicalOperator:o.props.config.logicalOperator,parts:r};o.props.onChange&&o.props.onChange(n,o.props.id),o.setState({partsArray:r})},o.state={partsArray:o.props.config&&o.props.config.parts?o.props.config.parts:a.Immutable([])},o}return n(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.config!==e.config&&this.setState({partsArray:this.props.config.parts})},t.prototype.render=function(){var e=this;return a.jsx("div",{className:this.props.className?this.props.className:""},0===this.state.partsArray.length?null:a.jsx("div",{className:"sql-expression-set"},this.state.partsArray.map((function(t,o){var r=e.props.id+"_clause_"+o;return a.jsx(l.default,{key:o.toString(),id:r,config:t,isHosted:e.props.isHosted,sql:s.getCascadeSQL(e.props.sqlExprObj,t,r,e.props.selectedDs),selectedDs:e.props.selectedDs,onChange:e.onClauseChange})}))))},t}(a.React.PureComponent);t._SqlExprClauseSetRuntime=u;var p=a.themeUtils.withStyles(a.injectIntl(u),"SqlExpressionClauseSetRuntime");t.default=p},82:function(e,t,o){"use strict";var r,n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=o(337),i=o(803),l=o(804),u=o(805),p=o(806),c=o(807),d=o(808),f=((r={})[s.ClauseInputEditor.TextInput]=i.default,r[s.ClauseInputEditor.DoubleNumberSelector]=u.default,r[s.ClauseInputEditor.FieldSelector]=l.default,r[s.ClauseInputEditor.SimpleSelect]=p.default,r[s.ClauseInputEditor.MultipleSelect]=c.default,r[s.ClauseInputEditor.DatePicker]=d.default,r[s.ClauseInputEditor.DateTimePicker]=d.default,r);function m(e,t){e.getLayerDefinition();return e.getFieldCodedValueList(t)}function h(e,t,o,r){return{isValid:void 0===r||r,sourceType:e||a.ClauseSourceType.UserInput,inputEditor:t||s.ClauseInputEditor.TextInput,value:o||null}}function y(){return{type:a.ClauseType.Single,jimuFieldName:"",askForValueOptions:null,operator:null,valueOptions:h(null,null,null,!1)}}function g(e,t,o,r){t=t||a.ClauseSourceType.UserInput;var n=s.ClauseRelationship[e],i=[],l=null;if(n){var u=n[t];i=u.normalInputEditors,u.codedValueInputEditors&&o&&r&&(l=m(o,r))&&l.length>0&&(i=u.codedValueInputEditors)}else i=[s.ClauseInputEditor.TextInput];return{inputEditorTypes:i,codedValues:l}}function v(e){var t=null;if("esriFieldTypeString"===e)t=a.JimuFieldType.String;else if("esriFieldTypeDate"===e)t=a.JimuFieldType.Date;else{["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(e)>=0&&(t=a.JimuFieldType.Number)}return t}t.getInputEditor=function(e,t,o,r,s,i,l){var u=f[e.inputEditor],p={value:e,fieldObj:t,selectedDs:r,codedValues:s||null,runtime:i||!1,sql:l||null};return a.React.createElement(u,n({},p,{onChange:o}))},t.getCodedValuesFromDs=m,t.getDefaultClauseValObj=h,t.getDefaultSingleClause=y,t.getDefaultClauseSet=function(){var e=y(),t=y();return{type:a.ClauseType.Set,logicalOperator:a.ClauseLogic.And,parts:a.Immutable([e,t])}},t.isCaseSensitiveSupportedByOperatorAndSourceType=function(e,t){var o=s.ClauseRelationship[e][t].supportCaseSensitive;return o||!1},t.isAskForValueSupportedByOperatorAndSourceType=function(e,t){var o=s.ClauseRelationship[e][t].supportAskForValue;return o||!1},t.getCodedValueInputEditorsByOperatorAndSourceType=function(e,t){var o=s.ClauseRelationship[e][t].codedValueInputEditors;return o||null},t.getClauseValObjByOperator=function(e,t,o){var r=a.ClauseSourceType.UserInput;return h(r,g(e,r,t,o)[0])},t.getDisplayTypes=function(e,t,o,r,n){var i={},l=null,u=null,p=s.ClauseInputEditor.TextInput,c=s.ClauseRelationship[o];if(c){for(var d in c)i[d]=[],u=u||d;Object.keys(i).map((function(c){var d;l&&(r=null);var f=g(o,c,r,n);i[c]=f.inputEditorTypes,l=l||f.codedValues,c===u&&(p=f.inputEditorTypes[0],c===a.ClauseSourceType.UserInput&&(null===(d=t.format)||void 0===d?void 0:d.dateFormat)&&t.format.dateFormat.indexOf("Time")>=0&&[a.ClauseOperator.DateOperatorIsOn,a.ClauseOperator.DateOperatorIsNotOn].indexOf(o)>=0&&(p=f.inputEditorTypes[1])),e===s.SqlExpressionMode.Simple&&(i[c]=[c===u?p:f.inputEditorTypes[0]])}))}else u=a.ClauseSourceType.UserInput,i[u]=[p];return{displayTypes:i,codedValues:l,defaultSourceType:u,defaultInputEditorType:p}},t.getInputEditorListByOperatorAndSourceType=g,t.getJimuFieldTypeByEsriType=v,t.getOperatorsByEsriType=function(e,t){var o=v(e);return s.getOperatorsByShortType(o,t)}}})}));