define(["jimu-core","jimu-ui","jimu-arcgis","jimu-arcgis/arcgis-data-source"],(function(e,t,n,i){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1348)}({0:function(t,n){t.exports=e},1348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1349);n(0).ThemeManager.getInstance().registerJimuThemeStyleModule("jimu-ui/map/",{componentStyles:i}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1351))},1349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1350);t.JimuMap=i.jimuMapStyle},1350:function(e,t,n){"use strict";var i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.jimuMapStyle=function(e){return a.css(o||(o=i(["\n    position: relative;\n\n    .map-is-live-mode {\n      .is-widget {\n        pointer-events: auto !important;\n      }\n    }\n\n    .widget-map-usemask {\n      pointer-events: auto !important;\n    }\n\n    .map-is-design-mode {\n      .exbmap-ui {\n        pointer-events: none !important;\n      }\n\n      .is-widget {\n        pointer-events: auto !important;\n      }\n    }\n\n    .widget-map{\n      padding: 0;\n      margin: 0;\n      height: 100%;\n      width: 100%;\n      z-index: -1;\n      .overview-container{\n        position: absolute;\n        top: 12px;\n        right: 12px;\n        width: 300px;\n        height: 200px;\n        border: 1px solid black;\n        z-index: 1;\n      }\n    \n      .extent-container{\n        background-color: rgba(0, 0, 0, 0.5);\n        position: absolute;\n        z-index: 2;\n      }\n    \n      .extent-btn-container{\n        button{\n          outline: none;\n        }\n        .previous-extent-btn{\n          color: #111;\n        }\n        .next-extent-btn{\n          color: #222;\n        }\n      }\n    }\n\n    .exbmap-ui-layout{\n      z-index: 0;\n    }\n\n    .mapswitch-container {\n      position: absolute;\n      z-index: 7;\n      width: 32px;\n      height: 32px;\n      bottom: 10px;\n      left: 10px;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)\n    }\n\n    .mapswitch-icon {\n      fill: black;\n      left: 8px;\n      top: 8px;\n      position: absolute;\n      display: block;\n    }\n\n    .widget-map-background {\n      background-color: ",";\n      position: absolute;\n      z-index: 1;\n    }\n\n    @keyframes appear {\n      0%{opacity:0}\n      25%{opacity:.25}\n      50%{opacity:.5;}\n      75%{opacity:.75}\n      100%{opacity:1;}\n    }\n\n    @keyframes disappear {\n      0%{opacity:1}\n      25%{opacity:.75}\n      50%{opacity:.5;}\n      75%{opacity:.25}\n      100%{opacity:0;}\n    }\n\n    .multisourcemap-item-appear {\n      animation: appear 300ms;\n      -webkit-animation: appear 300ms;\n      -moz-animation: appear 300ms;\n      animation-fill-mode: forwards;\n      -webkit-animation-fill-mode: forwards;\n      -moz-animation-fill-mode: forwards;\n      animation-timing-function: ease-in;\n      -webkit-animation-timing-function: ease-in;\n      -moz-animation-timing-function: ease-in;\n    }\n\n    .multisourcemap-item-disappear {\n      animation: disappear 300ms;\n      -webkit-animation: disappear 300ms;\n      -moz-animation: disappear 300ms;\n      animation-fill-mode: forwards;\n      -webkit-animation-fill-mode: forwards;\n      -moz-animation-fill-mode: forwards;\n      animation-timing-function: ease-in;\n      -webkit-animation-timing-function: ease-in;\n      -moz-animation-timing-function: ease-in;\n    }\n\n    .multisourcemap-item-appear-noanimate {\n      opacity: 1;\n    }\n\n    .multisourcemap-item-disappear-noanimate {\n      opacity: 0;\n    }\n  "],["\n    position: relative;\n\n    .map-is-live-mode {\n      .is-widget {\n        pointer-events: auto !important;\n      }\n    }\n\n    .widget-map-usemask {\n      pointer-events: auto !important;\n    }\n\n    .map-is-design-mode {\n      .exbmap-ui {\n        pointer-events: none !important;\n      }\n\n      .is-widget {\n        pointer-events: auto !important;\n      }\n    }\n\n    .widget-map{\n      padding: 0;\n      margin: 0;\n      height: 100%;\n      width: 100%;\n      z-index: -1;\n      .overview-container{\n        position: absolute;\n        top: 12px;\n        right: 12px;\n        width: 300px;\n        height: 200px;\n        border: 1px solid black;\n        z-index: 1;\n      }\n    \n      .extent-container{\n        background-color: rgba(0, 0, 0, 0.5);\n        position: absolute;\n        z-index: 2;\n      }\n    \n      .extent-btn-container{\n        button{\n          outline: none;\n        }\n        .previous-extent-btn{\n          color: #111;\n        }\n        .next-extent-btn{\n          color: #222;\n        }\n      }\n    }\n\n    .exbmap-ui-layout{\n      z-index: 0;\n    }\n\n    .mapswitch-container {\n      position: absolute;\n      z-index: 7;\n      width: 32px;\n      height: 32px;\n      bottom: 10px;\n      left: 10px;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)\n    }\n\n    .mapswitch-icon {\n      fill: black;\n      left: 8px;\n      top: 8px;\n      position: absolute;\n      display: block;\n    }\n\n    .widget-map-background {\n      background-color: ",";\n      position: absolute;\n      z-index: 1;\n    }\n\n    @keyframes appear {\n      0%{opacity:0}\n      25%{opacity:.25}\n      50%{opacity:.5;}\n      75%{opacity:.75}\n      100%{opacity:1;}\n    }\n\n    @keyframes disappear {\n      0%{opacity:1}\n      25%{opacity:.75}\n      50%{opacity:.5;}\n      75%{opacity:.25}\n      100%{opacity:0;}\n    }\n\n    .multisourcemap-item-appear {\n      animation: appear 300ms;\n      -webkit-animation: appear 300ms;\n      -moz-animation: appear 300ms;\n      animation-fill-mode: forwards;\n      -webkit-animation-fill-mode: forwards;\n      -moz-animation-fill-mode: forwards;\n      animation-timing-function: ease-in;\n      -webkit-animation-timing-function: ease-in;\n      -moz-animation-timing-function: ease-in;\n    }\n\n    .multisourcemap-item-disappear {\n      animation: disappear 300ms;\n      -webkit-animation: disappear 300ms;\n      -moz-animation: disappear 300ms;\n      animation-fill-mode: forwards;\n      -webkit-animation-fill-mode: forwards;\n      -moz-animation-fill-mode: forwards;\n      animation-timing-function: ease-in;\n      -webkit-animation-timing-function: ease-in;\n      -moz-animation-timing-function: ease-in;\n    }\n\n    .multisourcemap-item-appear-noanimate {\n      opacity: 1;\n    }\n\n    .multisourcemap-item-disappear-noanimate {\n      opacity: 0;\n    }\n  "])),"white")}},1351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1352);t.JimuMap=i.JimuMap},1352:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),r=n(1353),p=n(1383),c=n(22),l=n(1384),u=function(e){function t(t){var n=e.call(this,t)||this;return n.startRenderMap=function(){setTimeout((function(){n.setState({startLoadModules:!0})}),100)},n.getPlaceHolderImage=function(){var e,t=n.props.jimuMapConfig.placeholderImage;if(t){var i=new RegExp("^(.)+/sharing/rest/content/items/(.)+/info/(.)+"),o=a.SessionManager.getInstance().getMainSession();i.test(t)&&(t=o?t+"?token="+(null===(e=o)||void 0===e?void 0:e.token):t)}return t},n.fullScreenMap=function(){if(a.utils.isTouchDevice())if("fixed"===n.container.style.position)n.container.style.height=n.containerClientRect.height+"px",n.container.style.width=n.containerClientRect.width+"px",n.container.style.top=n.containerClientRect.top+"px",n.container.style.left=n.containerClientRect.left+"px",setTimeout((function(){n.container.style.transition=null,n.container.style.position="relative",n.container.style.zIndex="0",n.container.style.height="100%",n.container.style.width="100%",n.container.style.top="0",n.container.style.left="0",n.container.style.backgroundColor="none",n.parentContainer.appendChild(n.container)}),100);else{var e=n.container.getBoundingClientRect();n.containerClientRect=e,n.container.style.height=e.height+"px",n.container.style.width=e.width+"px",n.container.style.position="fixed",n.container.style.top=e.top+"px",n.container.style.left=e.left+"px",s.MobilePanelManager.getInstance().checkDomIsContained(n.container)?n.container.style.zIndex="502":n.container.style.zIndex="105",document&&document.body.appendChild(n.container),setTimeout((function(){n.container.style.transition="top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s",n.container.style.top="0px",n.container.style.left="0px",n.container.style.right="0px",n.container.style.bottom="0px",n.container.style.height=null,n.container.style.width=null,n.container.style.backgroundColor="#fff"}),100)}else{var t=n.container;if(!document)return;document.fullscreenElement===t&&document.exitFullscreen();var i=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(i)i.call(t);else if(void 0!==window.ActiveXObject){var o=new ActiveXObject("WScript.Shell");null!==o&&o.SendKeys("{F11}")}}},n.state={},n}return o(t,e),t.prototype.componentDidMount=function(){this.state.startLoadModules||!window.jimuConfig.isInBuilder&&this.props.jimuMapConfig.canPlaceHolder||this.startRenderMap()},t.prototype.render=function(){var e=this;return this.state.startLoadModules?this.props.useDataSources&&this.props.useDataSources[0]&&this.props.useDataSources[0].dataSourceId?a.React.createElement("div",{className:"jimu-widget",ref:function(t){e.parentContainer=t}},a.React.createElement("div",{className:a.classNames(this.props.className,"jimu-widget"),ref:function(t){e.container=t}},a.React.createElement("div",{className:a.classNames("jimu-widget",{"map-is-design-mode":!p.checkIsLive(this.props.appMode)})},a.React.createElement(r.default,{fullScreenMap:this.fullScreenMap,baseWidgetProps:this.props,startLoadModules:this.state.startLoadModules,onViewPointChanged:this.props.onViewPointChanged,onExtentChanged:this.props.onExtentChanged,onActiveViewChange:this.props.onActiveViewChange})))):c.portalUtils.checkDefaultBaseMapIsExist()?a.React.createElement("div",{className:"jimu-widget",ref:function(t){e.parentContainer=t}},a.React.createElement("div",{className:a.classNames(this.props.className,"jimu-widget"),ref:function(t){e.container=t}},a.React.createElement("div",{className:a.classNames("jimu-widget",{"map-is-design-mode":!p.checkIsLive(this.props.appMode)})},a.React.createElement(r.default,{fullScreenMap:this.fullScreenMap,baseWidgetProps:this.props,startLoadModules:this.state.startLoadModules,isDefaultMap:!0,onViewPointChanged:this.props.onViewPointChanged,onExtentChanged:this.props.onExtentChanged,onActiveViewChange:this.props.onActiveViewChange})))):a.React.createElement("div",{className:a.classNames(this.props.className,"jimu-widget")},a.React.createElement(s.WidgetPlaceholder,{icon:l,message:"Map",widgetId:this.props.id})):a.React.createElement("div",{className:a.classNames(this.props.className,"jimu-widget")},a.React.createElement("div",{className:"widget-map jimu-widget"},a.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"})))},t}(a.React.PureComponent);t.__JimuMap=u;var d=a.ReactRedux.connect((function(e){return window.jimuConfig.isBuilder?{appMode:a.AppMode.Run}:{appMode:e&&e.appRuntimeInfo&&e.appRuntimeInfo.appMode}}))(a.injectIntl(u));t.JimuMap=a.themeUtils.withStyles(d,"JimuMap")},1353:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1354),r=n(168),p=n(22),c={firstMapVisible:[{zIndex:6,opacity:1},{zIndex:5,opacity:0}],secondMapVisible:[{zIndex:5,opacity:0},{zIndex:6,opacity:1}]},l=function(e){function t(t){var n=e.call(this,t)||this;return n.mutableStatePropsMap={},n.reInitWidgetInstance=function(e){n.state=e,n.isReIniting=!0},n.changeInitialMapDataSourceID=function(e,t){if(n.props.baseWidgetProps.useDataSources.length>1){var i=n.refs.firstMapInstance,o=n.refs.secondMapInstance;n.state.currentMapIndex?n.state.firstMapDsId&&n.state.firstMapDsId===e?(n.startChangeInitialMapAnimation(t),i.goHome(!1)):o.goHome(!1):n.state.secondMapDsId&&n.state.secondMapDsId===e?(n.startChangeInitialMapAnimation(t),o.goHome(!1)):i.goHome(!1)}},n.startChangeInitialMapAnimation=function(e){var t,i=Object.assign({},n.state),o=n.refs.firstMapInstance,a=n.refs.secondMapInstance;n.state.currentMapIndex?(i.currentMapIndex=0,i.multiMapStyle=c.firstMapVisible,(t=a&&a.getViewPoint&&a.getViewPoint())&&o&&o.setViewPoint&&o.setViewPoint(t),n.setState(i,(function(){e()}))):(i.currentMapIndex=1,i.multiMapStyle=c.secondMapVisible,(t=o&&o.getViewPoint&&o.getViewPoint())&&a&&a.setViewPoint&&a.setViewPoint(t),n.setState(i,(function(){e()})))},n.switchMap=function(){var e=Object.assign({},n.state);e.useAnimation=!0;var t,i=n.refs.firstMapInstance,o=n.refs.secondMapInstance;n.state.currentMapIndex?(e.currentMapIndex=0,e.multiMapStyle=c.firstMapVisible,(t=o&&o.getViewPoint&&o.getViewPoint())&&i&&i.setViewPoint&&i.setViewPoint(t)):(e.currentMapIndex=1,e.multiMapStyle=c.secondMapVisible,(t=i&&i.getViewPoint&&i.getViewPoint())&&o&&o.setViewPoint&&o.setViewPoint(t));if(i&&o){var a=i.getViewType(),s=o.getViewType();a&&s&&a!==s&&(i.goToTilt(0),o.goToTilt(0),n.state.currentMapIndex?setTimeout((function(){i.goToTilt(45)}),300):setTimeout((function(){o.goToTilt(45)}),300))}n.setState(e,(function(){n.confirmJimuMapViewIsActive(),setTimeout((function(){n.setState({useAnimation:!1})}),500)}))},n.handleMutableStatePropsChanged=function(e,t,n){},n.handleViewChanged=function(e){if(null===e.viewpoint){var t=n.refs.firstMapInstance,i=n.refs.secondMapInstance;return t&&t.goHome(!1),void(i&&i.goHome(!1))}var o=n.getCurrentVisibleDsId();if(o===e.dataSourceId){if(n.state.firstMapDsId&&n.state.firstMapDsId!==o)(t=n.refs.firstMapInstance)&&t.setViewPoint(e.viewpoint);if(n.state.secondMapDsId&&n.state.secondMapDsId!==o)(i=n.refs.secondMapInstance)&&i.setViewPoint(e.viewpoint);n.props.onViewPointChanged&&n.props.onViewPointChanged(e.viewpoint)}},n.handleExtentChanged=function(e,t){n.getCurrentVisibleDsId()===e&&(a.MessageManager.getInstance().publishMessage(t),n.props.onExtentChanged&&n.props.onExtentChanged(t.extent))},n.handleMapLoaded=function(e,t){n.forceUpdate()},n.handleJimuMapViewCreated=function(){n.confirmJimuMapViewIsActive()},n.confirmJimuMapViewIsActive=function(){if(n.props.isDefaultMap){var e=n.props.baseWidgetProps.id+"-null";(a=p.MapViewManager.getInstance().getJimuMapViewById(e))&&n.setActiveJimuMapView(a,!0)}else{var t=[];n.state.firstMapDsId&&t.push(n.state.firstMapDsId),n.state.secondMapDsId&&t.push(n.state.secondMapDsId);for(var i=n.getCurrentVisibleDsId(),o=0;o<t.length;o++){var a;e=n.props.baseWidgetProps.id+"-"+t[o];(a=p.MapViewManager.getInstance().getJimuMapViewById(e))&&(t[o]===i?n.setActiveJimuMapView(a,!0):n.setActiveJimuMapView(a,!1))}}},n.isShowMapSwitchBtn=function(){var e=n.refs.firstMapInstance,t=n.refs.secondMapInstance;return!(!e||!t)&&(e.getMapLoadStatus()!==s.MapLoadStatus.Loading&&t.getMapLoadStatus()!==s.MapLoadStatus.Loading||void 0)},n.getCurrentVisibleDsId=function(){return 1===n.state.multiMapStyle[0].opacity?n.state.firstMapDsId:n.state.secondMapDsId},n.state={currentMapIndex:0,multiMapStyle:c.firstMapVisible,firstMapDsId:null,secondMapDsId:null,useAnimation:!1,useDataSources:null,currentJimuMapView:null},n.mutableStatePropsMap={},n}return o(t,e),t.prototype.componentDidMount=function(){if(!this.isReIniting&&this.props.baseWidgetProps.useDataSources){var e=this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID;e?e===(this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId)?this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId}):e===(this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId)?this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId}):this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId}):this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId})}},t.getDerivedStateFromProps=function(e,n){return e.baseWidgetProps.useDataSources!==n.useDataSources?t.getChangedState(n.firstMapDsId,n.secondMapDsId,e.baseWidgetProps.useDataSources):null},t.prototype.componentDidUpdate=function(e,t,n){this.isReIniting?this.isReIniting=!1:(this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID!==e.baseWidgetProps.jimuMapConfig.initialMapDataSourceID&&this.changeInitialMapDataSourceID(this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID,this.confirmJimuMapViewIsActive),this.props.baseWidgetProps.useDataSources!==e.baseWidgetProps.useDataSources&&this.confirmJimuMapViewIsActive())},t.prototype.setActiveJimuMapView=function(e,t){t?(e.setIsActive(t),this.setState({currentJimuMapView:e}),this.props.onActiveViewChange&&this.props.onActiveViewChange(e)):e.setIsActive(t)},t.prototype.render=function(){var e=this;return a.React.createElement(r.MultiSourceMapContext.Provider,{value:{isShowMapSwitchBtn:this.props.baseWidgetProps.useDataSources&&this.props.baseWidgetProps.useDataSources.length>1&&this.isShowMapSwitchBtn(),dataSourceIds:[this.state.firstMapDsId,this.state.secondMapDsId],activeDataSourceId:this.getCurrentVisibleDsId(),switchMap:this.switchMap,fullScreenMap:this.props.fullScreenMap,initialMapState:this.props.baseWidgetProps.jimuMapConfig&&this.props.baseWidgetProps.jimuMapConfig.initialMapState}},!this.props.isDefaultMap&&a.React.createElement("div",{className:"jimu-widget",style:{position:"relative"}},a.React.createElement("div",{className:a.classNames("jimu-widget",{"multisourcemap-item-appear":this.state.useAnimation&&this.state.multiMapStyle[0].opacity,"multisourcemap-item-disappear":this.state.useAnimation&&!this.state.multiMapStyle[0].opacity,"multisourcemap-item-appear-noanimate":this.state.multiMapStyle[0].opacity,"multisourcemap-item-disappear-noanimate":!this.state.multiMapStyle[0].opacity}),style:{position:"absolute",zIndex:this.state.multiMapStyle[0].zIndex}},this.state.firstMapDsId&&a.React.createElement(s.default,{ref:"firstMapInstance",onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,onExtentChanged:function(t,n){e.handleExtentChanged(t,n)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules,dataSourceId:this.state.firstMapDsId})),a.React.createElement("div",{className:a.classNames("jimu-widget",{"multisourcemap-item-appear":this.state.useAnimation&&this.state.multiMapStyle[1].opacity,"multisourcemap-item-disappear":this.state.useAnimation&&!this.state.multiMapStyle[1].opacity,"multisourcemap-item-appear-noanimate":this.state.multiMapStyle[1].opacity,"multisourcemap-item-disappear-noanimate":!this.state.multiMapStyle[1].opacity}),style:{position:"absolute",zIndex:this.state.multiMapStyle[1].zIndex}},this.state.secondMapDsId&&a.React.createElement(s.default,{ref:"secondMapInstance",onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,onExtentChanged:function(t,n){e.handleExtentChanged(t,n)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules,dataSourceId:this.state.secondMapDsId}))),this.props.isDefaultMap&&a.React.createElement("div",{className:"jimu-widget",style:{position:"relative"}},a.React.createElement("div",{className:a.classNames("jimu-widget multisourcemap-item-appear-noanimate"),style:{position:"absolute",zIndex:6}},a.React.createElement(s.default,{ref:"firstMapInstance",isDefaultMap:this.props.isDefaultMap,onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,dataSourceId:null,onExtentChanged:function(t,n){e.handleExtentChanged(t,n)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules}))))},t.getChangedState=function(e,t,n){var i={};if(n&&n[0]){for(var o=[],a=[],s=0;s<n.length;s++)e!==n[s].dataSourceId?o.push(n[s].dataSourceId):a.push(n[s].dataSourceId);a.length>0?(i.firstMapDsId=e,i.secondMapDsId=o[0]):0===a.length&&(o.indexOf(t)>-1?(o.splice(o.indexOf(t),1),i.firstMapDsId=o[0],i.secondMapDsId=t):(i.firstMapDsId=o[0],i.secondMapDsId=o[1]))}else i.firstMapDsId=null,i.secondMapDsId=null;return i.firstMapDsId!==e?i.firstMapDsId?(i.multiMapStyle=c.firstMapVisible,i.currentMapIndex=0):i.secondMapDsId?(i.multiMapStyle=c.secondMapVisible,i.currentMapIndex=1):(i.multiMapStyle=c.firstMapVisible,i.currentMapIndex=0):i.secondMapDsId?i.secondMapDsId!==t&&(i.multiMapStyle=c.secondMapVisible,i.currentMapIndex=1):(i.multiMapStyle=c.firstMapVisible,i.currentMapIndex=0),i},t}(a.React.PureComponent);t.default=l},1354:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),r=n(1355),p=n(22),c=n(3),l=n(1356),u=n(1381),d=n(1382),m=n(3),g=n(168),M=n(497);!function(e){e.Loading="LOADING",e.Loadok="LOADOK",e.LoadError="LOADERROR"}(a=t.MapLoadStatus||(t.MapLoadStatus={}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.highLightHandles={},n.mapBaseViewEventHandles={},n.dsManager=s.DataSourceManager.getInstance(),n.onExtented=null,n.isReceiveExtentChange=!1,n.startRenderMap=function(){p.loadArcGISJSAPIModules(["esri/geometry/Extent","esri/Viewpoint"]).then((function(e){n.Extent=e[0],n.Viewpoint=e[1],n.setState({isModulesLoaded:!0})}))},n.analysisMapView=function(){return n.mapView?Promise.resolve():n.MapView?(n.initMapView(),Promise.resolve()):p.loadArcGISJSAPIModules(["esri/geometry/Geometry","esri/webmap/InitialViewProperties","esri/Basemap","esri/layers/TileLayer","esri/views/MapView","esri/WebMap","esri/portal/Portal","esri/portal/PortalItem"]).then((function(e){return n.Geometry=e[0],n.InitialViewProperties=e[1],n.Basemap=e[2],n.TileLayer=e[3],n.MapView=e[4],n.WebMap=e[5],n.Portal=e[6],n.PortalItem=e[7],n.initMapView(),Promise.resolve()}))},n.analysisSceneView=function(){return n.sceneView?Promise.resolve():n.SceneView?(n.initSceneView(),Promise.resolve()):p.loadArcGISJSAPIModules(["esri/views/SceneView","esri/WebScene","esri/portal/Portal","esri/portal/PortalItem"]).then((function(e){return n.SceneView=e[0],n.WebScene=e[1],n.Portal=e[2],n.PortalItem=e[3],n.initSceneView(),Promise.resolve()}))},n.generateViewPointFromInitialMapState=function(e){return"2d"===e.viewType?new n.Viewpoint({targetGeometry:n.Extent.fromJSON(e.extent),rotation:e.rotation}):n.Viewpoint.fromJSON(e.viewPoint)},n.cloneMap=function(e){var t=null,i=e.dataSourceJson,o=null;if(i.type===r.DataSourceTypes.WebMap&&(o=n.WebMap),i.type===r.DataSourceTypes.WebScene&&(o=n.WebScene),i.portalUrl){var a=new n.Portal({url:s.portalUrlUtils.getHostUrlByOrgUrl(i.portalUrl)});t=new o({portalItem:new n.PortalItem({id:i.itemId,portal:a})})}else t=new o({portalItem:new n.PortalItem({id:i.itemId})});return t},n.getInitViewPointForDefaultWebMap=function(){var e=s.getAppStore().getState().portalSelf,t=e&&e.defaultExtent;return n.props.baseWidgetProps.jimuMapConfig.initialMapState&&n.props.baseWidgetProps.jimuMapConfig.initialMapState.viewPoint?n.generateViewPointFromInitialMapState(n.props.baseWidgetProps.jimuMapConfig.initialMapState):new n.Viewpoint({targetGeometry:new n.Extent({xmin:t&&t.xmin,ymin:t&&t.ymin,xmax:t&&t.xmax,ymax:t&&t.ymax,spatialReference:{wkid:t.spatialReference.wkid}})})},n.getDefaultWebMap=function(){var e,t=s.getAppStore().getState().portalSelf,i=t&&t.defaultBasemap&&t.defaultBasemap.baseMapLayers&&t.defaultBasemap.baseMapLayers[0],o=t&&t.defaultExtent;return e=new n.Viewpoint({targetGeometry:new n.Extent({xmin:o&&o.xmin,ymin:o&&o.ymin,xmax:o&&o.xmax,ymax:o&&o.ymax,spatialReference:{wkid:o.spatialReference.wkid}})}),new n.WebMap({basemap:new n.Basemap({baseLayers:[new n.TileLayer({url:i&&i.url})],title:"basemap",id:"basemap"}),initialViewProperties:new n.InitialViewProperties({spatialReference:o&&o.spatialReference,viewpoint:e})})},n.initMapView=function(){if(n.extentWatch=null,!n.mapView){var e;if(n.props.isDefaultMap){e={map:n.getDefaultWebMap(),container:n.mapContainer,viewpoint:n.getInitViewPointForDefaultWebMap(),rotation:n.props.baseWidgetProps.jimuMapConfig.initialMapState&&n.props.baseWidgetProps.jimuMapConfig.initialMapState.rotation}}else{var t=n.cloneMap(n.state.mapDs);e=n.props.baseWidgetProps.jimuMapConfig.initialMapState?{map:t,container:n.mapContainer,viewpoint:n.props.baseWidgetProps.jimuMapConfig.initialMapState&&n.generateViewPointFromInitialMapState(n.props.baseWidgetProps.jimuMapConfig.initialMapState)}:{map:t,container:n.mapContainer}}n.mapView=new n.MapView(e),n.mapView.popup.spinnerEnabled=!1,n.mapView.ui.exbMapTools={},p.MapViewManager.getInstance().createJimuMapView({mapWidgetId:n.props.baseWidgetProps.id,datasourceId:n.props.dataSourceId,view:n.mapView}),n.mapView.when((function(){n.setState({mapLoadStatus:a.Loadok},(function(){n.props.onMapLoaded(n.props.dataSourceId,a.Loadok)}));var e=n.props.baseWidgetProps.id+"-"+n.props.dataSourceId,t=p.MapViewManager.getInstance().getJimuMapViewById(e);t&&(n.props.onJimuMapViewCreated(),n.setState({mapBaseJimuMapView:t})),n.extentWatch||(n.extentWatch=n.mapView.watch("extent",(function(e){e&&(clearTimeout(n.onExtented),n.onExtented=setTimeout((function(){if(e)if(n.isReceiveExtentChange)n.isReceiveExtentChange=!1;else{var t=new s.ExtentChangeMessage(n.props.baseWidgetProps.id,e);t.addRelatedWidgetId(n.props.baseWidgetProps.id),n.props.onExtentChanged(n.props.dataSourceId,t)}}),200))}))),setTimeout((function(){n.goHome(!1).then((function(){var e=new s.ExtentChangeMessage(n.props.baseWidgetProps.id,n.mapView.extent);e.addRelatedWidgetId(n.props.baseWidgetProps.id),n.props.onExtentChanged(n.props.dataSourceId,e),n.props.onViewChanged&&n.props.onViewChanged({dataSourceId:n.props.dataSourceId,viewpoint:n.mapView.viewpoint.clone()})}))}),500)})),n.bindMapBaseViewEvent(n.mapView)}},n.initSceneView=function(){if(n.extentWatch=null,!n.sceneView){var e,t=n.cloneMap(n.state.mapDs);e=n.props.baseWidgetProps.jimuMapConfig.initialMapState?{map:t,container:n.mapContainer,qualityProfile:"low",viewpoint:n.props.baseWidgetProps.jimuMapConfig.initialMapState&&n.generateViewPointFromInitialMapState(n.props.baseWidgetProps.jimuMapConfig.initialMapState)}:{map:t,container:n.mapContainer,qualityProfile:"low"},n.sceneView=new n.SceneView(e),n.sceneView.popup.spinnerEnabled=!1,n.sceneView.ui.exbMapTools={},p.MapViewManager.getInstance().createJimuMapView({mapWidgetId:n.props.baseWidgetProps.id,datasourceId:n.props.dataSourceId,view:n.sceneView}),n.sceneView.when((function(){n.setState({mapLoadStatus:a.Loadok},(function(){n.props.onMapLoaded(n.props.dataSourceId,a.Loadok)}));var e=n.props.baseWidgetProps.id+"-"+n.props.dataSourceId,t=p.MapViewManager.getInstance().getJimuMapViewById(e);t&&(n.props.onJimuMapViewCreated(),n.setState({mapBaseJimuMapView:t})),n.extentWatch||(n.extentWatch=n.sceneView.watch("extent",(function(e){e&&(clearTimeout(n.onExtented),n.onExtented=setTimeout((function(){if(e)if(n.isReceiveExtentChange)n.isReceiveExtentChange=!1;else{var t=new s.ExtentChangeMessage(n.props.baseWidgetProps.id,e);t.addRelatedWidgetId(n.props.baseWidgetProps.id),n.props.onExtentChanged(n.props.dataSourceId,t)}}),200))}))),setTimeout((function(){n.goHome(!1).then((function(){var e=new s.ExtentChangeMessage(n.props.baseWidgetProps.id,n.sceneView.extent);e.addRelatedWidgetId(n.props.baseWidgetProps.id),n.props.onExtentChanged(n.props.dataSourceId,e),n.props.onViewChanged&&n.props.onViewChanged({dataSourceId:n.props.dataSourceId,viewpoint:n.sceneView.viewpoint.clone()})}))}),500)})),n.bindMapBaseViewEvent(n.sceneView)}},n.updateMapView=function(e){e.disablePopUp?(n.mapView.popup.close(),n.mapView.popup.autoOpenEnabled=!1):n.mapView.popup.autoOpenEnabled=!0,n.mapView.ui&&(n.mapView.ui.components=[])},n.updateSceneView=function(e){e.disablePopUp?(n.sceneView.popup.close(),n.sceneView.popup.autoOpenEnabled=!1):n.sceneView.popup.autoOpenEnabled=!0,n.sceneView.ui&&(n.sceneView.ui.components=[])},n.bindMapBaseViewEvent=function(e){e&&(n.mapBaseViewEventHandles["mouse-wheel"]&&(n.mapBaseViewEventHandles["mouse-wheel"].remove(),n.mapBaseViewEventHandles["mouse-wheel"]=null),n.mapBaseViewEventHandles["mouse-wheel"]=e.on("mouse-wheel",(function(t){if(n.props.baseWidgetProps.jimuMapConfig.disableScroll)return t.stopPropagation(),void n.handleDisableWheel();n.props.onViewChanged&&n.props.onViewChanged({dataSourceId:n.props.dataSourceId,viewpoint:e.viewpoint.clone()})})),n.mapBaseViewEventHandles.drag&&(n.mapBaseViewEventHandles.drag.remove(),n.mapBaseViewEventHandles.drag=null),n.mapBaseViewEventHandles.drag=e.on("drag",(function(){n.props.onViewChanged&&n.props.onViewChanged({dataSourceId:n.props.dataSourceId,viewpoint:e.viewpoint.clone()})})),n.mapBaseViewEventHandles.click&&(n.mapBaseViewEventHandles.click.remove(),n.mapBaseViewEventHandles.click=null),n.mapBaseViewEventHandles.click=e.on("click",(function(){for(var e in n.highLightHandles)n.highLightHandles[e].remove()})))},n.getMapDsId=function(){return n.state.mapDs&&n.state.mapDs.id},n.onDataSourceCreated=function(e){n.setState({mapDs:e,preMapDs:n.state.mapDs})},n.onCreateDataSourceFailed=function(e){console.warn(e),n.setState({mapLoadStatus:a.LoadError,mapDs:null,preMapDs:n.state.mapDs},(function(){n.props.onMapLoaded(n.props.dataSourceId,a.LoadError),p.MapViewManager.getInstance().createJimuMapView({mapWidgetId:n.props.baseWidgetProps.id,datasourceId:n.props.dataSourceId,view:null})}))},n.setViewPoint=function(e){e&&n.state.mapDs&&(n.state.mapDs.type===r.DataSourceTypes.WebMap&&n.mapView&&(n.mapView.viewpoint=e),n.state.mapDs.type===r.DataSourceTypes.WebScene&&n.sceneView&&(n.sceneView.viewpoint=e))},n.getMapLoadStatus=function(){return n.state.mapLoadStatus},n.getViewPoint=function(){return n.state.mapDs?n.state.mapDs.type===r.DataSourceTypes.WebMap?n.mapView&&n.mapView.viewpoint?n.mapView.viewpoint.clone():null:n.state.mapDs.type===r.DataSourceTypes.WebScene?n.sceneView&&n.sceneView.viewpoint?(n.sceneView.goTo(n.sceneView.viewpoint.camera,{animate:!1}),n.sceneView.viewpoint.clone()):null:void 0:null},n.getViewType=function(){return n.state.mapDs&&n.state.mapDs.type},n.goToTilt=function(e){n.sceneView&&n.sceneView.goTo({tilt:e})},n.goHome=function(e){if(!n.state.mapDs)return Promise.resolve();var t=n.getMapBaseInitViewPoint();return n.state.mapDs.type===r.DataSourceTypes.WebMap&&n.mapView?n.mapView.goTo(t,{animate:e}):n.state.mapDs.type===r.DataSourceTypes.WebScene&&n.sceneView?n.sceneView.goTo(t,{animate:e}):Promise.resolve()},n.getMapBaseInitViewPoint=function(){return n.props.isDefaultMap?n.getInitViewPointForDefaultWebMap():n.props.baseWidgetProps.jimuMapConfig.initialMapState?n.generateViewPointFromInitialMapState(n.props.baseWidgetProps.jimuMapConfig.initialMapState):n.state.mapDs.map.initialViewProperties.viewpoint.clone()},n.formatMessage=function(e){return n.props.baseWidgetProps.intl.formatMessage({id:e,defaultMessage:c.defaultMessages[e]})},n.handleDisableWheel=function(){n.widgetContainer.style.pointerEvents="none",setTimeout((function(){n.widgetContainer.style.pointerEvents="auto"}),50)},n.getLayoutConfig=function(){return"xsmall"===n.state.widthBreakpoint?d.default[0]:n.props.baseWidgetProps.jimuMapConfig.layoutIndex?u.default[n.props.baseWidgetProps.jimuMapConfig.layoutIndex]:u.default[0]},n.onResize=function(e,t){e&&t&&(e<=545&&e>0?n.setState({widthBreakpoint:"xsmall",widgetHeight:t}):n.setState({widthBreakpoint:"other",widgetHeight:t}))},n.getMapSwitchForErrorMap=function(){return s.React.createElement(g.MultiSourceMapContext.Consumer,null,(function(e){var t=e.isShowMapSwitchBtn,i=(e.dataSourceIds,e.activeDataSourceId,e.switchMap);return s.React.createElement("div",{className:"mapswitch-container",style:{display:t?"block":"none",marginBottom:"xsmall"===n.state.widthBreakpoint?10:0}},s.React.createElement("div",{onClick:function(e){e.preventDefault(),i()},className:"border-0 jimu-widget esri-widget--button"},s.React.createElement(m.Icon,{icon:M,width:16,height:16,className:"mapswitch-icon"})))}))},n.state={mapLoadStatus:a.Loading,widthBreakpoint:null,mapBaseJimuMapView:null,dataSourceId:null,widgetHeight:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;0===this.widgetContainer.getElementsByClassName("widget-map").length&&(this.mapContainer||(this.mapContainer=document&&document.createElement("div"),this.mapContainer.className="jimu-widget widget-map"),this.widgetContainer.appendChild(this.mapContainer)),!this.props.startLoadModules||this.state.isModulesLoaded?(this.getMapDsId()||this.props.isDefaultMap)&&(this.state.mapDs||this.props.isDefaultMap)&&(this.props.isDefaultMap?this.analysisMapView().then((function(){e.updateMapView(e.props.baseWidgetProps.jimuMapConfig)})):(this.state.mapDs.type===r.DataSourceTypes.WebMap&&this.analysisMapView().then((function(){e.updateMapView(e.props.baseWidgetProps.jimuMapConfig)})),this.state.mapDs.type===r.DataSourceTypes.WebScene&&this.analysisSceneView().then((function(){e.updateSceneView(e.props.baseWidgetProps.jimuMapConfig)})))):this.startRenderMap()},t.prototype.componentDidUpdate=function(){var e=this;if(this.state.isModulesLoaded){var t=this.getMapDsId(),n=this.state.preMapDs&&this.state.preMapDs.id,i=this.state.mapDs&&this.state.mapDs.dataSourceJson.itemId,o=this.state.preMapDs&&this.state.preMapDs.dataSourceJson.itemId;if(t!==n||i!==o){this.mapView=null,this.sceneView=null;var s=this.state.preMapDs&&this.props.baseWidgetProps.id+"-"+this.state.preMapDs.id;if(s&&p.MapViewManager.getInstance().destroyJimuMapView(s),this.state.mapLoadStatus===a.LoadError&&!this.state.mapDs)return void this.setState({preMapDs:this.state.mapDs});this.setState({preMapDs:this.state.mapDs,mapLoadStatus:a.Loading})}this.props.isDefaultMap&&(this.sceneView=null,this.analysisMapView().then((function(){e.updateMapView(e.props.baseWidgetProps.jimuMapConfig)}))),this.state.mapDs&&(this.state.mapDs.type===r.DataSourceTypes.WebMap&&(this.sceneView=null,this.analysisMapView().then((function(){e.updateMapView(e.props.baseWidgetProps.jimuMapConfig)}))),this.state.mapDs.type===r.DataSourceTypes.WebScene&&(this.mapView=null,this.analysisSceneView().then((function(){e.updateSceneView(e.props.baseWidgetProps.jimuMapConfig)}))))}},t.getDerivedStateFromProps=function(e,t){return e.dataSourceId!==t.dataSourceId?{dataSourceId:e.dataSourceId,mapLoadStatus:a.Loading}:null},t.prototype.componentWillUnmount=function(){this.props.onViewChanged&&this.props.onViewChanged({dataSourceId:this.props.dataSourceId,viewpoint:null});var e=this.props.baseWidgetProps.id+"-"+this.props.dataSourceId;p.MapViewManager.getInstance().destroyJimuMapView(e),this.mapView&&!this.mapView.destroyed&&(this.mapView.container=null,this.mapView=null),this.sceneView&&!this.sceneView.destroyed&&(this.sceneView.container=null,this.sceneView=null),this.highLightHandles={},this.extentWatch=null},t.prototype.render=function(){var e=this,t=null;if(this.props.baseWidgetProps.useDataSources)for(var n=0;n<this.props.baseWidgetProps.useDataSources.length;n++)this.props.baseWidgetProps.useDataSources[n].dataSourceId==this.props.dataSourceId&&(t=this.props.baseWidgetProps.useDataSources[n]);return s.React.createElement("div",{className:"jimu-widget",style:{position:"relative"},ref:function(t){e.widgetContainer=t}},this.state.mapLoadStatus===a.Loading&&s.React.createElement("div",{className:"jimu-widget widget-map-background"},s.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"})),this.state.mapLoadStatus===a.LoadError&&s.React.createElement("div",{className:"jimu-widget widget-map-background"},this.getMapSwitchForErrorMap(),s.React.createElement("div",{className:"jimu-widget d-flex justify-content-center align-items-center"},"map failed")),this.state.mapBaseJimuMapView&&this.state.widthBreakpoint&&s.React.createElement(l.default,{isMobile:"xsmall"===this.state.widthBreakpoint,jimuMapView:this.state.mapBaseJimuMapView,appMode:this.props.baseWidgetProps.appMode,intl:this.props.baseWidgetProps.intl,layoutConfig:this.getLayoutConfig(),toolConfig:this.props.baseWidgetProps.jimuMapConfig.toolConifg?this.props.baseWidgetProps.jimuMapConfig.toolConifg:{},widgetHeight:"xsmall"===this.state.widthBreakpoint?null:this.state.widgetHeight}),!this.props.isDefaultMap&&s.React.createElement("div",{style:{position:"absolute",display:"none"}},s.React.createElement(s.DataSourceComponent,{useDataSource:t,onDataSourceCreated:this.onDataSourceCreated,onCreateDataSourceFailed:this.onCreateDataSourceFailed})),s.React.createElement(s.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}))},t}(s.React.PureComponent);t.default=h},1355:function(e,t){e.exports=i},1356:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(0),p=n(1357),c=function(e){function t(t){var n=e.call(this,t)||this;return n.getMaxHeightForPcExpand=function(e){if(e){if(e<65)return null;var t=e-65;return t<300?t:300}return null},n.handleActiveNameChange=function(e){n.setState({activeToolName:e})},n.handSetHiddenElementNames=function(e){n.setState({hiddenElementNames:e})},n.getLayoutContent=function(e){return e&&n.props.toolConfig?r.jsx("div",{css:n.getStyle()},Object.keys(e.layout).map((function(t,i){return e.elements[t]&&"GROUP"===e.elements[t].type&&e.layout[t].position?r.jsx(p.default,{className:e.elements[t].className,style:e.elements[t].style,isResponsive:e.elements[t].isResponsive,isMobile:n.props.isMobile,isMainGroup:!0,key:i,layoutConfig:e,toolConfig:n.props.toolConfig,onActiveToolNameChange:n.handleActiveNameChange,jimuMapView:n.props.jimuMapView,groupName:t,activeToolName:n.state.activeToolName,hiddenElementNames:e.mobileResponsiveStrategy&&n.state.hiddenElementNames,intl:n.props.intl,onSetHiddenElementNames:n.handSetHiddenElementNames}):null}))):null},n.state={activeToolName:null,toolsContentInMobileExpandPanel:null,hiddenElementNames:[]},n.contentRef=document.createElement("div"),n.contentRef.className="exbmap-ui esri-ui-inner-container exbmap-ui-layout",n}return o(t,e),t.prototype.getStyle=function(){return r.css(s||(s=a(['\n      z-index: 0;\n\n      .expand-panel-transition {\n        transition: opacity 0.3s, right 0.3s;\n      }\n\n      .scale-attribution-xy-group {\n        > div:first-of-type:nth-last-of-type(1) {\n          width: 100%;\n          max-width: 100% !important;\n        }\n      }\n\n      .exbmap-ui-hidden-element {\n        display: none !important;\n      }\n\n      .exbmap-basetool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: "";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:after {\n        background-color: #6e6e6e;\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: "";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-ui-pc-expand-maxheight {\n        max-height: ',"px;\n        overflow: auto\n      }\n      "],['\n      z-index: 0;\n\n      .expand-panel-transition {\n        transition: opacity 0.3s, right 0.3s;\n      }\n\n      .scale-attribution-xy-group {\n        > div:first-of-type:nth-last-of-type(1) {\n          width: 100%;\n          max-width: 100% !important;\n        }\n      }\n\n      .exbmap-ui-hidden-element {\n        display: none !important;\n      }\n\n      .exbmap-basetool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: "";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:after {\n        background-color: #6e6e6e;\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: "";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-ui-pc-expand-maxheight {\n        max-height: ',"px;\n        overflow: auto\n      }\n      "])),this.getMaxHeightForPcExpand(this.props.widgetHeight))},t.prototype.componentDidMount=function(){this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.ui&&this.props.jimuMapView.view.ui.container&&this.props.jimuMapView.view.ui.container.appendChild(this.contentRef)},t.prototype.render=function(){return this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.ui&&this.props.jimuMapView.view.ui.container?r.jsx("div",null,r.ReactDOM.createPortal(this.getLayoutContent(this.props.layoutConfig),this.contentRef)):null},t}(r.React.PureComponent);t.default=c},1357:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(0),p=n(382),c=n(1358),l=n(496),u=function(e){function t(n){var i=e.call(this,n)||this;return i.moveY=0,i.startY=0,i.sliding=!1,i.startDrag=!1,i.currentBottomPanelHeight=0,i.thumbMapElementNames=["FullScreen","Zoom","MapSwitch"],i.checkIsHiddenElement=function(e){return!!i.props.hiddenElementNames&&i.props.hiddenElementNames.indexOf(e)>-1},i.start=function(e,t){if(i.startDrag=!0,"touch"===t){i.moveY=0;var n=e.touches[0];i.startY=n.clientY}"mouse"===t&&(i.moveY=0,i.startY=e.clientY),document.getElementById(i.props.jimuMapView.id+"-bottom-panel").classList.remove("expand-mobile-panel-transition")},i.move=function(e,t){if("touch"===t){i.sliding=!0;var n=e.touches[0];i.moveY=-1*(n.clientY-i.startY)}if("mouse"===t&&i.startDrag&&(i.sliding=!0,i.moveY=-1*(e.clientY-i.startY)),"mouse"!==t||i.startDrag){var o=150;i.state.bottomPanelHeight+i.moveY>o&&(o=i.state.bottomPanelHeight+i.moveY),document.getElementById(i.props.jimuMapView.id+"-bottom-panel").style.height=o+"px",i.currentBottomPanelHeight=o;var a=i.state.widgetHeight-o;a>360&&i.props.onSetHiddenElementNames([]),a>200&&a<=360&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage1),a>54&&a<=200&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage2),a<54&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage3)}},i.end=function(e,t){if("mouse"!==t||i.startDrag){if(i.startDrag=!1,i.sliding=!1,document.getElementById(i.props.jimuMapView.id+"-bottom-panel").classList.add("expand-mobile-panel-transition"),"touch"===t&&Math.abs(i.moveY)<10)return document.getElementById(i.props.jimuMapView.id+"-bottom-panel").style.height=i.state.bottomPanelHeight+"px",void(i.currentBottomPanelHeight=i.state.bottomPanelHeight);if(i.moveY>=0){var n=0;n=i.currentBottomPanelHeight>=150&&i.currentBottomPanelHeight<.6*i.state.widgetHeight?.6*i.state.widgetHeight:i.currentBottomPanelHeight>=.6*i.state.widgetHeight&&i.currentBottomPanelHeight<i.state.widgetHeight?i.state.widgetHeight-20:150,i.setState({bottomPanelHeight:n},(function(){i.checkResponsive()})),i.currentBottomPanelHeight=n}else{n=0;n=i.currentBottomPanelHeight>150&&i.currentBottomPanelHeight<.6*i.state.widgetHeight?150:i.currentBottomPanelHeight>=.6*i.state.widgetHeight&&i.currentBottomPanelHeight<i.state.widgetHeight?.6*i.state.widgetHeight:150,i.setState({bottomPanelHeight:n},(function(){i.checkResponsive()})),i.currentBottomPanelHeight=n}}},i.checkResponsive=function(){if(i.state.isThumbMap)i.props.onSetHiddenElementNames([]);else{if(0===i.state.bottomPanelHeight)return i.props.onActiveToolNameChange(null),void i.props.onSetHiddenElementNames([]);var e=i.state.widgetHeight-i.state.bottomPanelHeight;e>360&&i.props.onSetHiddenElementNames([]),e>200&&e<=360&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage1),e>54&&e<=200&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage2),e<54&&i.props.onSetHiddenElementNames(i.props.layoutConfig.mobileResponsiveStrategy.stage3)}},i.onResize=function(e,t){e<320&&t<380?i.setState({widgetWidth:e,widgetHeight:t,isThumbMap:!0},(function(){i.checkResponsive()})):i.setState({widgetWidth:e,widgetHeight:t,isThumbMap:!1},(function(){i.checkResponsive()}))},i.returnNullNode=function(e){return i.props.isMobile?r.jsx("span",{key:e}):null},i.checkIsLastElement=function(e,t){var n=t.toolName,o=i.props.layoutConfig,a=o.layout[e.groupName].children,s=a.indexOf(n);if(s===a.length-1)return!0;if(s<a.length-1){for(var r=!0,p=s+1;p<a.length;p++){var c=a[p];if("GROUP"!==o.elements[a[p]].type&&(!l.default[c].getIsNeedSetting()||i.props.toolConfig&&i.props.toolConfig["can"+c]||o.lockToolNames&&o.lockToolNames.indexOf(c)>-1)){r=!1;break}}return r}},i.getGroupContent=function(e){if(e){var n=e.layout[i.props.groupName]&&e.layout[i.props.groupName].children;return i.checkIsShowGroup(e,n)?r.jsx("div",{css:i.getStyle(),className:r.classNames("exbmap-ui exbmap-ui-group",i.props.className,{"exbmap-ui-hidden-element":i.props.isHidden}),style:i.props.style},n.map((function(n,o){return e.elements[n]?"GROUP"===e.elements[n].type?r.jsx(t,{isHidden:i.checkIsHiddenElement(n),className:e.elements[n].className,style:e.elements[n].style,key:o,layoutConfig:e,toolConfig:i.props.toolConfig,isMobile:i.props.isMobile,intl:i.props.intl,jimuMapView:i.props.jimuMapView,groupName:n,activeToolName:i.props.activeToolName,hiddenElementNames:i.props.hiddenElementNames,onActiveToolNameChange:i.props.onActiveToolNameChange,isThumbMap:i.props.isMainGroup?i.state.isThumbMap:i.props.isThumbMap}):"TOOL"===e.elements[n].type&&(!l.default[n].getIsNeedSetting()||i.props.toolConfig&&i.props.toolConfig["can"+n]||e.lockToolNames&&e.lockToolNames.indexOf(n)>-1)?r.jsx(c.default,{isHidden:i.checkIsHiddenElement(n),key:o,layoutConfig:e,activeToolName:i.props.activeToolName,toolConfig:i.props.toolConfig,jimuMapView:i.props.jimuMapView,toolName:n,onActiveToolNameChange:i.props.onActiveToolNameChange,intl:i.props.intl,isMobile:i.props.isMobile,isLastElement:i.checkIsLastElement(e.elements[i.props.groupName],e.elements[n])}):i.returnNullNode(o):i.returnNullNode(o)})),i.props.isMobile&&i.props.isMainGroup&&r.jsx(r.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:i.onResize}),i.props.isMainGroup&&r.jsx("div",{className:"exbmap-ui w-100",style:{position:"relative",pointerEvents:"auto",overflow:"hidden",touchAction:"none",display:!i.props.isMobile||i.state.isThumbMap||i.props.isThumbMap?"none":"block"},ref:function(e){e&&e.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1})}},r.jsx("div",{id:i.props.jimuMapView.id+"-bottom-panel",className:"exbmap-ui w-100 expand-mobile-panel expand-mobile-panel-transition",style:{overflow:"hidden",pointerEvents:"auto",position:"relative",backgroundColor:"#fff",touchAction:"none",height:(i.sliding?i.currentBottomPanelHeight:i.state.bottomPanelHeight)+"px"}}),i.props.activeToolName&&r.jsx("div",{style:{touchAction:"none"},className:"expand-mobile-panel-touch-container d-flex justify-content-center align-items-center",onMouseDown:function(e){return i.start(e,"mouse")},onMouseMove:function(e){i.move(e,"mouse")},onMouseLeave:function(e){i.end(e,"mouse")},onMouseUp:function(e){i.end(e,"mouse")},onTouchStart:function(e){return i.start(e,"touch")},onTouchMove:function(e){i.move(e,"touch")},onTouchEnd:function(e){i.end(e,"touch")}},r.jsx("div",{className:"expand-mobile-panel-bar"})))):i.returnNullNode()}return i.returnNullNode()},i.checkIsShowGroup=function(e,t){if(t&&0!==t.length){var n=[];i.findAllToolNames(e,t,n);for(var o=!1,a=0;a<n.length;a++)if(i.props.toolConfig["can"+n[a]]||!l.default[n[a]].getIsNeedSetting()||e.lockToolNames&&e.lockToolNames.indexOf(n[a])>-1){o=!0;break}return o}return!1},i.findAllToolNames=function(e,t,n){if(t&&0!==t.length)for(var o=0;o<t.length;o++)if("GROUP"===e.elements[t[o]].type){var a=e.elements[t[o]].groupName;i.findAllToolNames(e,e.layout[a]&&e.layout[a].children,n)}else n.push(t[o])},i.state={bottomPanelHeight:0,isThumbMap:!!i.props.isMobile},i}return o(t,e),t.prototype.getStyle=function(){var e=this.props.layoutConfig.layout[this.props.groupName]&&this.props.layoutConfig.layout[this.props.groupName].position,t=this.props.layoutConfig.elements[this.props.groupName].direction;return r.css(s||(s=a(["\n      position: ",";\n      top: ","px;\n      bottom: ","px;\n      left: ","px;\n      right: ","px;\n      display: flex;\n      flex-flow: ",";\n      align-items: flex-start;\n\n      > .exbmap-ui {\n        margin-bottom: ",";\n        margin-right: ",";\n      }\n\n      > .exbmap-ui:last-child {\n        margin-bottom: 0;\n        margin-right: 0;\n      }\n\n      .exbmap-ui-group-expand-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .expand-mobile-panel {\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;\n        border-radius: 10px 10px 0px 0px;\n      }\n\n      .expand-mobile-panel-transition {\n        transition: height 0.3s;\n      }\n\n      .expand-mobile-panel-touch-container {\n        top: 0;\n        position: absolute;\n        width: 100%;\n        height: 31px;\n      }\n\n      .expand-mobile-panel-bar {\n        width: 36px;\n        height: 4px;\n        background-color: #434343;\n        border-radius: 2px;\n      }\n      "],["\n      position: ",";\n      top: ","px;\n      bottom: ","px;\n      left: ","px;\n      right: ","px;\n      display: flex;\n      flex-flow: ",";\n      align-items: flex-start;\n\n      > .exbmap-ui {\n        margin-bottom: ",";\n        margin-right: ",";\n      }\n\n      > .exbmap-ui:last-child {\n        margin-bottom: 0;\n        margin-right: 0;\n      }\n\n      .exbmap-ui-group-expand-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .expand-mobile-panel {\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;\n        border-radius: 10px 10px 0px 0px;\n      }\n\n      .expand-mobile-panel-transition {\n        transition: height 0.3s;\n      }\n\n      .expand-mobile-panel-touch-container {\n        top: 0;\n        position: absolute;\n        width: 100%;\n        height: 31px;\n      }\n\n      .expand-mobile-panel-bar {\n        width: 36px;\n        height: 4px;\n        background-color: #434343;\n        border-radius: 2px;\n      }\n      "])),e?"absolute":"relative",e?e.top:null,e?e.bottom:null,e?e.left:null,e?e.right:null,"vertical"===t?"column":"row","vertical"===t?"10px":0,"horizontal"===t?"10px":0)},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.props.activeToolName!==e.activeToolName){if(this.props.activeToolName&&e.activeToolName)return;this.props.activeToolName&&!e.activeToolName&&this.props.isMobile&&this.props.isMainGroup&&(this.setState({bottomPanelHeight:150},(function(){n.checkResponsive()})),this.currentBottomPanelHeight=150),!this.props.activeToolName&&e.activeToolName&&this.props.isMobile&&this.props.isMainGroup&&(this.setState({bottomPanelHeight:0},(function(){n.checkResponsive()})),this.currentBottomPanelHeight=0)}},t.prototype.render=function(){return this.getGroupContent(this.props.layoutConfig)},t}(p.UIComponent);t.default=u},1358:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(382),r=n(496),p=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.componentDidMount=function(){var e=this.refs.baseToolInstance;(!r.default[this.props.toolName].getIsNeedSetting()||this.props.toolConfig&&this.props.toolConfig["can"+this.props.toolName])&&(this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName]=e)},t.prototype.componentWillUnmount=function(){if(r.default[this.props.toolName].getIsNeedSetting()){var e=this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.ui&&this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName];e&&e.destroy&&(e.destroy(),delete this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName])}},t.prototype.render=function(){var e=r.default[this.props.toolName];return e?a.jsx("div",{className:a.classNames(this.props.className+" exbmap-ui exbmap-ui-tool-shell divitem",this.props.layoutConfig.elements[this.props.toolName].className,{"exbmap-ui-hidden-element":this.props.isHidden,"mb-0 mr-0":this.props.isLastElement})},a.jsx(e,{ref:"baseToolInstance",toolJson:this.props.layoutConfig.elements[this.props.toolName],toolName:this.props.toolName,isMobile:this.props.isMobile,jimuMapView:this.props.jimuMapView,activeToolName:this.props.activeToolName,onActiveToolNameChange:this.props.onActiveToolNameChange,intl:this.props.intl})):this.props.isMobile?a.jsx("span",null):null},t}(s.UIComponent);t.default=p},1359:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=n(3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Zoom",n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"ZoomLabel",defaultMessage:p.defaultMessages.ZoomLabel})},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(l,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.Zoom=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Zoom"]).then((function(t){e.Zoom=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.ZoomBtn=new this.Zoom({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.ZoomBtn&&(this.ZoomBtn.destroy(),this.ZoomBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1360:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(0),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveY=0,t.startY=0,t.isRegisted=!1,t.registerTouchEvent=function(e){e&&!t.isRegisted&&(e.addEventListener("touchstart",(function(e){t.moveY=0;var n=e.touches[0];t.startY=n.clientY}),{passive:!1}),e.addEventListener("touchmove",(function(n){var i=n.touches[0];t.moveY=-1*(i.clientY-t.startY),t.startY=i.clientY,e.scrollTop=e.scrollTop+t.moveY}),{passive:!1}),e.addEventListener("touchend",(function(e){t.moveY=0,t.startY=0}),{passive:!1}),t.isRegisted=!0)},t}return o(t,e),t.prototype.getStyle=function(){return r.css(s||(s=a(["\n      overflow: auto;\n      pointer-events: auto;\n      "],["\n      overflow: auto;\n      pointer-events: auto;\n      "])))},t.prototype.render=function(){var e=this;return r.jsx("div",{css:this.getStyle(),className:this.props.className,style:this.props.style,ref:function(t){e.registerTouchEvent(t)}},this.props.children)},t}(r.React.PureComponent);t.default=p},1361:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentWillUnmount=function(){this.props.onDestroyed&&this.props.onDestroyed()},t.prototype.render=function(){return a.React.createElement(a.React.Fragment,null,this.props.children)},t}(a.React.PureComponent);t.default=s},1362:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE0cHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDE0IDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNiAoNjc0OTEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5jbG9zZS0xMjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IlN0eWxlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjAtVUktaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05ODkuMDAwMDAwLCAtNDk0LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0iY2xvc2UtMTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk5MC4wMDAwMDAsIDQ5NS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi43NDU0Nzc5Miw2IEwxMC44NDU2MDY1LDEwLjEwMDEyODUgQzExLjA1MTQ2NDUsMTAuMzA1OTg2NiAxMS4wNTE0NjQ1LDEwLjYzOTc0ODQgMTAuODQ1NjA2NSwxMC44NDU2MDY1IEMxMC42Mzk3NDg0LDExLjA1MTQ2NDUgMTAuMzA1OTg2NiwxMS4wNTE0NjQ1IDEwLjEwMDEyODUsMTAuODQ1NjA2NSBMNiw2Ljc0NTQ3NzkyIEwxLjg5OTg3MTQ1LDEwLjg0NTYwNjUgQzEuNjk0MDEzNDEsMTEuMDUxNDY0NSAxLjM2MDI1MTU3LDExLjA1MTQ2NDUgMS4xNTQzOTM1MywxMC44NDU2MDY1IEMwLjk0ODUzNTQ4OSwxMC42Mzk3NDg0IDAuOTQ4NTM1NDg5LDEwLjMwNTk4NjYgMS4xNTQzOTM1MywxMC4xMDAxMjg1IEw1LjI1NDUyMjA4LDYgTDEuMTU0MzkzNTMsMS44OTk4NzE0NSBDMC45NDg1MzU0ODksMS42OTQwMTM0MSAwLjk0ODUzNTQ4OSwxLjM2MDI1MTU3IDEuMTU0MzkzNTMsMS4xNTQzOTM1MyBDMS4zNjAyNTE1NywwLjk0ODUzNTQ4OSAxLjY5NDAxMzQxLDAuOTQ4NTM1NDg5IDEuODk5ODcxNDUsMS4xNTQzOTM1MyBMNiw1LjI1NDUyMjA4IEwxMC4xMDAxMjg1LDEuMTU0MzkzNTMgQzEwLjMwNTk4NjYsMC45NDg1MzU0ODkgMTAuNjM5NzQ4NCwwLjk0ODUzNTQ4OSAxMC44NDU2MDY1LDEuMTU0MzkzNTMgQzExLjA1MTQ2NDUsMS4zNjAyNTE1NyAxMS4wNTE0NjQ1LDEuNjk0MDEzNDEgMTAuODQ1NjA2NSwxLjg5OTg3MTQ1IEw2Ljc0NTQ3NzkyLDYgWiIgZmlsbD0iIzAwMDAwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiI+PC9yZWN0Pg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},1363:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=n(3),c=n(168),l=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Home",n.getHomeContent=function(e){return a.React.createElement(u,{jimuMapView:n.props.jimuMapView,initialMapState:e})},n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"HomeLabel",defaultMessage:p.defaultMessages.HomeLabel})},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){var e=this;return a.React.createElement(c.MultiSourceMapContext.Consumer,null,(function(t){var n=t.initialMapState;return e.getHomeContent(n)}))},t}(s.BaseTool);t.default=l;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.Home=null,n.generateViewPointFromInitialMapState=function(e){return"2d"===e.viewType?new n.Viewpoint({targetGeometry:n.Extent.fromJSON(e.extent),rotation:e.rotation}):n.Viewpoint.fromJSON(e.viewPoint)},n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Home","esri/geometry/Extent","esri/Viewpoint"]).then((function(t){e.Home=t[0],e.Extent=t[1],e.Viewpoint=t[2],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(e){this.state.apiLoaded&&this.container&&(this.homeBtn&&(this.container.innerHTML=""),this.homeBtn=new this.Home({container:this.container,view:this.props.jimuMapView.view,viewpoint:this.props.initialMapState?this.generateViewPointFromInitialMapState(this.props.initialMapState):this.props.jimuMapView.view.map.initialViewProperties.viewpoint}),e.initialMapState!==this.props.initialMapState&&this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint,{animate:!1}))},t.prototype.componentWillUnmount=function(){this.homeBtn&&(this.homeBtn.destroy(),this.homeBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{className:"esri-widget--button",ref:function(t){e.container||(e.container=t)}})},t}(a.React.PureComponent)},1364:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=n(3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Compass",n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"CompassLabel",defaultMessage:p.defaultMessages.CompassLabel})},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(l,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.Compass=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Compass"]).then((function(t){e.Compass=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.CompassBtn=new this.Compass({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.CompassBtn&&(this.CompassBtn.destroy(),this.CompassBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1365:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Locate",n}return o(t,e),t.prototype.getTitle=function(){return"Locate"},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(c,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=p;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.Locate=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Locate"]).then((function(t){e.Locate=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.LocateBtn=new this.Locate({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.LocateBtn&&(this.LocateBtn.destroy(),this.LocateBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{className:"esri-widget--button",ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1366:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Navigation",n}return o(t,e),t.prototype.getTitle=function(){return"Navigation"},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(c,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=p;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.Navigation=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/NavigationToggle"]).then((function(t){e.Navigation=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.NavigationBtn=new this.Navigation({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.NavigationBtn&&(this.NavigationBtn.destroy(),this.NavigationBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1367:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),r=n(46),p=n(22),c=n(3),l=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Search",n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"SearchLabel",defaultMessage:c.defaultMessages.SearchLabel})},t.prototype.getIcon=function(){return{icon:n(1368)}},t.prototype.getExpandPanel=function(){return this.props.isMobile?s.jsx("div",{style:{minHeight:"32px",position:"relative",width:"100%"}},s.jsx(d,{jimuMapView:this.props.jimuMapView})):s.jsx("div",{style:{minWidth:"250px",minHeight:"32px",position:"relative"}},s.jsx(d,{jimuMapView:this.props.jimuMapView}))},t}(r.BaseTool);t.default=l;var u,d=function(e){function t(t){var n=e.call(this,t)||this;return n.Search=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.getStyle=function(){return s.css(u||(u=a(["\n      border: solid 1px rgba(110,110,110,0.3);\n    "],["\n      border: solid 1px rgba(110,110,110,0.3);\n    "])))},t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||p.loadArcGISJSAPIModules(["esri/widgets/Search"]).then((function(t){e.Search=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.SearchBtn=new this.Search({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.SearchBtn&&(this.SearchBtn.destroy(),this.SearchBtn=null)},t.prototype.render=function(){var e=this;return s.jsx("div",{css:this.getStyle(),className:"w-100",ref:function(t){e.container=t}},!this.state.apiLoaded&&s.jsx("div",{className:"exbmap-basetool-loader"}))},t}(s.React.PureComponent)},1368:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTUuMiAoNzgxODEpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5zZWFyY2gtMTYtaG92ZXI8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSJNYXB0b29sc192MC4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9Imljb25zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQ0LjAwMDAwMCwgLTM1Mi4wMDAwMDApIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9InNlYXJjaC0xNi1ob3ZlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ0LjAwMDAwMCwgMzUyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS43NTcsMTMuOTA3IEwxMi43NDgsMTAuODk3IEMxMi40OTIxMzA4LDEwLjY0MjYyNjggMTIuMDc4ODY5MiwxMC42NDI2MjY4IDExLjgyMywxMC44OTcgTDExLjgxNCwxMC45MDUgTDEwLjU4NSw5LjY3NiBDMTIuNTQ0NzcwNyw3LjIzMzI2Mzc2IDEyLjI1NjY5NDgsMy42ODU0MjA1NiA5LjkyODUwNjY4LDEuNTkwODU1NzYgQzcuNjAwMzE4NTcsLTAuNTAzNzA5MDM4IDQuMDQxODY5NzgsLTAuNDE2NDA4OTIgMS44MTkxOTM0NywxLjc4OTgwMzEyIEMtMC40MDM0ODI4NDIsMy45OTYwMTUxNyAtMC41MTcyMzcwNSw3LjU1MzcxNjU0IDEuNTU5OTYwMTUsOS44OTc0MTMwNiBDMy42MzcxNTczNSwxMi4yNDExMDk2IDcuMTgyNzYwNjksMTIuNTU1NTU1MiA5LjY0LDEwLjYxNCBMMTAuODc3LDExLjg1MiBDMTAuNjQzNzg4NiwxMi4xMDgyNTkgMTAuNjUyNTg2NSwxMi41MDI0MDIzIDEwLjg5NywxMi43NDggTDEzLjkwNywxNS43NTcgQzE0LjAyOTQzLDE1Ljg4MDQ4MTEgMTQuMTk2MTEyOSwxNS45NDk5NDEyIDE0LjM3LDE1Ljk0OTk0MTIgQzE0LjU0Mzg4NzEsMTUuOTQ5OTQxMiAxNC43MTA1NywxNS44ODA0ODExIDE0LjgzMywxNS43NTcgTDE1Ljc1NywxNC44MzMgQzE1Ljg4MDIzMzQsMTQuNzEwNDM3OCAxNS45NDk1MjIsMTQuNTQzODA0NCAxNS45NDk1MjIsMTQuMzcgQzE1Ljk0OTUyMiwxNC4xOTYxOTU2IDE1Ljg4MDIzMzQsMTQuMDI5NTYyMiAxNS43NTcsMTMuOTA3IEwxNS43NTcsMTMuOTA3IFogTTkuMDA2LDkuMDA0IEM3Ljc5MDU1Mzg2LDEwLjIxOTYxMSA1Ljk2MjUwNzg2LDEwLjU4MzMyODYgNC4zNzQzMjA5Myw5LjkyNTU0MzE2IEMyLjc4NjEzNDAxLDkuMjY3NzU3NjkgMS43NTA1OTIzNyw3LjcxODAxNyAxLjc1MDU5MjM3LDUuOTk5IEMxLjc1MDU5MjM3LDQuMjc5OTgzIDIuNzg2MTM0MDEsMi43MzAyNDIzMSA0LjM3NDMyMDkzLDIuMDcyNDU2ODQgQzUuOTYyNTA3ODYsMS40MTQ2NzEzNyA3Ljc5MDU1Mzg2LDEuNzc4Mzg4OTkgOS4wMDYsMi45OTQgQzEwLjY2NTQ1NjUsNC42NTM2ODE2IDEwLjY2NTQ1NjUsNy4zNDQzMTg0IDkuMDA2LDkuMDA0IEw5LjAwNiw5LjAwNCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},1369:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=n(3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Layers",n.handleTabIndexChange=function(e){n.setState({activeTabIndex:e})},n.state={activeTabIndex:0},n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"LayersLabel",defaultMessage:p.defaultMessages.LayersLabel})},t.prototype.getIcon=function(){return{icon:n(1370)}},t.prototype.getExpandPanel=function(){var e=this;return a.React.createElement("div",{style:{width:this.props.isMobile?"100%":"250px",minHeight:"32px",position:"relative"},className:a.classNames({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},a.React.createElement(p.Nav,{tabs:!0},a.React.createElement(p.NavItem,null,a.React.createElement(p.NavLink,{active:0===this.state.activeTabIndex,onClick:function(){e.handleTabIndexChange(0)}},this.props.intl.formatMessage({id:"LayersLabelLayer",defaultMessage:p.defaultMessages.LayersLabelLayer}))),a.React.createElement(p.NavItem,null,a.React.createElement(p.NavLink,{active:1===this.state.activeTabIndex,onClick:function(){e.handleTabIndexChange(1)}},this.props.intl.formatMessage({id:"LayersLabelLegend",defaultMessage:p.defaultMessages.LayersLabelLegend})))),a.React.createElement("div",{className:"mt-1"}),0===this.state.activeTabIndex&&a.React.createElement(l,{jimuMapView:this.props.jimuMapView}),1===this.state.activeTabIndex&&a.React.createElement(u,{jimuMapView:this.props.jimuMapView}))},t}(s.BaseTool);t.default=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.LayerList=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/LayerList"]).then((function(t){e.LayerList=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.LayerListBtn=new this.LayerList({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.LayerListBtn&&(this.LayerListBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t},style:{width:"100%",minHeight:"32px",position:"relative"}},!this.state.apiLoaded&&a.React.createElement("div",{className:"exbmap-basetool-loader"}))},t}(a.React.PureComponent),u=function(e){function t(t){var n=e.call(this,t)||this;return n.Legend=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Legend"]).then((function(t){e.Legend=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.LegendBtn=new this.Legend({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.LegendBtn&&(this.LegendBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t},style:{width:"100%",minHeight:"32px",position:"relative"}},!this.state.apiLoaded&&a.React.createElement("div",{className:"exbmap-basetool-loader"}))},t}(a.React.PureComponent)},1370:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTUuMiAoNzgxODEpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5sYXllcnMtMTYtaG92ZXI8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSJNYXB0b29sc192MC4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9Imljb25zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjAwMDAwMCwgLTM1Mi4wMDAwMDApIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9ImxheWVycy0xNi1ob3ZlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMyLjAwMDAwMCwgMzUyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS43MSwxMS40ODcgTDguMzEsMTUuOTI4IEM4LjEwOTE1NDUyLDE2LjAyMzcxOCA3Ljg3NTg0NTQ4LDE2LjAyMzcxOCA3LjY3NSwxNS45MjggTDAuMjcsMTEuNDg3IEMwLjE2NDc3ODE3NCwxMS40NDY2OTExIDAuMDk1MzAzNjQ4NCwxMS4zNDU2Nzg1IDAuMDk1MzAzNjQ4NCwxMS4yMzMgQzAuMDk1MzAzNjQ4NCwxMS4xMjAzMjE1IDAuMTY0Nzc4MTc0LDExLjAxOTMwODkgMC4yNywxMC45NzkgTDEuMTgzLDEwLjQzMiBMNy42NzMsMTQuMzI3IEM3Ljg3Mzg0NTQ4LDE0LjQyMjcxOCA4LjEwNzE1NDUyLDE0LjQyMjcxOCA4LjMwOCwxNC4zMjcgTDE0Ljc5OCwxMC40MzIgTDE1LjcxLDEwLjk3OSBDMTUuODE2MTI4MywxMS4wMTg0NzMxIDE1Ljg4NjUyNzgsMTEuMTE5NzY4NiAxNS44ODY1Mjc4LDExLjIzMyBDMTUuODg2NTI3OCwxMS4zNDYyMzE0IDE1LjgxNjEyODMsMTEuNDQ3NTI2OSAxNS43MSwxMS40ODcgTDE1LjcxLDExLjQ4NyBaIE0xNS43MSw3Ljc0NyBMMTQuOCw3LjIgTDguMzEsMTEuMDk0IEM4LjEwOTE1NDUyLDExLjE4OTcxOCA3Ljg3NTg0NTQ4LDExLjE4OTcxOCA3LjY3NSwxMS4wOTQgTDEuMTg0LDcuMiBMMC4yNzEsNy43NDcgQzAuMTY2NDU4MDg5LDcuNzg3NjYxNjIgMC4wOTc1OTg5MzUxLDcuODg4MzI4OCAwLjA5NzU5ODkzNTEsOC4wMDA1IEMwLjA5NzU5ODkzNTEsOC4xMTI2NzEyIDAuMTY2NDU4MDg5LDguMjEzMzM4MzggMC4yNzEsOC4yNTQgTDcuNjc0LDEyLjY5NiBDNy44NzQ4NDU0OCwxMi43OTE3MTggOC4xMDgxNTQ1MiwxMi43OTE3MTggOC4zMDksMTIuNjk2IEwxNS43MTEsOC4yNTQgQzE1LjgxNjQzMTksOC4yMTQxNTM4OSAxNS44ODYxOTQyLDguMTEzMjEwMjYgMTUuODg2MTk0Miw4LjAwMDUgQzE1Ljg4NjE5NDIsNy44ODc3ODk3NCAxNS44MTY0MzE5LDcuNzg2ODQ2MTEgMTUuNzExLDcuNzQ3IEwxNS43MSw3Ljc0NyBaIE0wLjI3Miw1LjAyMiBMNy42NzUsOS40NjMgQzcuODc1ODQ1NDgsOS41NTg3MTgwMSA4LjEwOTE1NDUyLDkuNTU4NzE4MDEgOC4zMSw5LjQ2MyBMMTUuNzEyLDUuMDIyIEMxNS44MTgxMjgzLDQuOTgyNTI2ODUgMTUuODg4NTI3OCw0Ljg4MTIzMTQxIDE1Ljg4ODUyNzgsNC43NjggQzE1Ljg4ODUyNzgsNC42NTQ3Njg1OSAxNS44MTgxMjgzLDQuNTUzNDczMTUgMTUuNzEyLDQuNTE0IEw4LjMwOSwwLjA3MyBDOC4xMDgxNTQ1MiwtMC4wMjI3MTgwMTI3IDcuODc0ODQ1NDgsLTAuMDIyNzE4MDEyNyA3LjY3NCwwLjA3MyBMMC4yNyw0LjUxNCBDMC4xNjQ3NzgxNzQsNC41NTQzMDg5MyAwLjA5NTMwMzY0ODQsNC42NTUzMjE1MSAwLjA5NTMwMzY0ODQsNC43NjggQzAuMDk1MzAzNjQ4NCw0Ljg4MDY3ODQ5IDAuMTY0Nzc4MTc0LDQuOTgxNjkxMDcgMC4yNyw1LjAyMiBMMC4yNzIsNS4wMjIgWiIgaWQ9IlNoYXBlIj48L3BhdGg+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},1371:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=n(3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="BaseMap",n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"BaseMapLabel",defaultMessage:p.defaultMessages.BaseMapLabel})},t.prototype.getIcon=function(){return{icon:n(1372)}},t.prototype.getExpandPanel=function(){return a.React.createElement(l,{jimuMapView:this.props.jimuMapView,isMobile:this.props.isMobile})},t}(s.BaseTool);t.default=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.BaseMap=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/BasemapGallery"]).then((function(t){e.BaseMap=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.BaseMapBtn=new this.BaseMap({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.BaseMapBtn&&(this.BaseMapBtn.destroy(),this.BaseMapBtn=null)},t.prototype.render=function(){var e=this;return this.props.isMobile?a.React.createElement("div",{ref:function(t){e.container=t},style:{width:"100%",minHeight:"32px",maxWidth:"none",maxHeight:"none",overflowY:"auto",position:"relative"}},!this.state.apiLoaded&&a.React.createElement("div",{className:"exbmap-basetool-loader"})):a.React.createElement("div",{ref:function(t){e.container=t},style:{width:"250px",minHeight:"32px",position:"relative"},className:"exbmap-ui-pc-expand-maxheight"},!this.state.apiLoaded&&a.React.createElement("div",{className:"exbmap-basetool-loader"}))},t}(a.React.PureComponent)},1372:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTUuMiAoNzgxODEpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5iYXNlbWFwLTE2LWhvdmVyPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iTWFwdG9vbHNfdjAuMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJpY29ucyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMxOC4wMDAwMDAsIC0zNTIuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJiYXNlbWFwLTE2LWhvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTguMDAwMDAwLCAzNTIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTksMCBMOSw3IEwxNiw3IEwxNiwwIEw5LDAgWiBNMTUsNiBMMTAsNiBMMTAsNSBMMTIuMzY0LDUgTDExLjg3Niw0LjM3NyBDMTEuNzk1ODU5NCw0LjI3MzQxNjU0IDExLjcyOTYyOTYsNC4xNTk3ODM2NCAxMS42NzksNC4wMzkgQzEyLjQ3MzE1MjYsMy45NTU0OTc4IDEzLjA3NzcwMTgsMy4yODg1MTI5MyAxMy4wODMsMi40OSBDMTMuMDY5OTEwMSwyLjQzODAzMzI4IDEzLjA4MDkyOTgsMi4zODI5MzQ3IDEzLjExMywyLjM0IEMxMy4xNDUsMi4zMDQgMTMuMjgzLDIuMTgyIDEzLjc1NSwyLjE0NSBDMTQuMTc5NzgxNCwyLjE0OTM3NzA2IDE0LjU4MTA5ODQsMS45NTA1NzY1MSAxNC44MzUsMS42MSBDMTQuOTUwOTE2MSwxLjQyODI0OTI1IDE1LjAwODQ4OTcsMS4yMTU0MDE0OSAxNSwxIEwxNSw2IFogTTAsMCBMMCw3IEw3LDcgTDcsMCBMMCwwIFogTTYsMy43NyBDNS42MDg5OTc4OSwzLjg1NjE3MTg0IDUuMjY0Mzk4NDgsNC4wODU1NDgwNSA1LjAzNCw0LjQxMyBDNS4yOTk3MTY0Miw0LjcxNjI1MjM5IDUuNjI5NzI5MTgsNC45NTY0MTY5NiA2LDUuMTE2IEw2LDYuMDE1IEM1LjMzNzg5MDA1LDUuODA2Mjk3MDUgNC43Mzc3MTc0MSw1LjQzNjk4NjQ3IDQuMjUzLDQuOTQgQzQuMDA3ODExNDUsNS4yNDg5MjMyMiAzLjg0MTA2MTQ2LDUuNjEyNjE2NjMgMy43NjcsNiBMMi45ODMsNiBDMy4wNjY1NjU4NSw1LjQxODM5NDIxIDMuMzA2ODE0NjMsNC44NzA0ODg3MiAzLjY3OCw0LjQxNSBDMy4zMTUwNTEzMSw0LjAyMzM1NjU4IDIuOTkxNDk0NDYsMy41OTY5NzE2MSAyLjcxMiwzLjE0MiBDMi4zMDA1NzQzOSwzLjY2ODc1MzA1IDEuNjY4Mzc4MDcsMy45NzUyNTAwOSAxLDMuOTcyIEwxLDMgQzEuNTYyMjA5MDUsMy4wMDUxMTYwMSAyLjA4MDQ1MzU0LDIuNjk2NjM3MTUgMi4zNDQsMi4yIEMyLjE5OTY0MDU1LDEuODA5MTE0NjggMi4wODQ2NTQ1NCwxLjQwODAwMDcyIDIsMSBMMy4wMSwxIEMzLjA5NTU3MDU5LDIuMTExMTg5MTcgMy42MTIzOTEwMiwzLjE0NDgzMDAyIDQuNDUsMy44OCBDNC44NjcwNTc0MywzLjQzNDA3MjUzIDUuNDA2MTEyNiwzLjEyMDcyNDk4IDYsMi45NzkgTDYsMy43NyBaIE0wLDkgTDAsMTYgTDcsMTYgTDcsOSBMMCw5IFogTTYsMTUgTDEsMTUgTDEsMTMgTDUsMTMgTDUsMTIuMDc0IEw2LDExIEw2LDE1IFogTTksOSBMOSwxNiBMMTYsMTYgTDE2LDkgTDksOSBaIE0xNSwxMy42MiBMMTMuNDY3LDEyLjA3NyBMMTIuMDU1LDEzLjQ4OSBMMTMuMjc3LDE1IEwxMi4yODcsMTUgTDExLjAyMiwxMy40MzQgTDEyLjkyNSwxMS41MzEgTDExLjQwNSwxMCBMMTIuNDksMTAgTDE1LDEyLjUyNyBMMTUsMTMuNjIgWiIgaWQ9IlNoYXBlIj48L3BhdGg+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},1373:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(0),p=n(3),c=n(46),l=n(168),u=n(1374),d=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="MapSwitch",n.switchMap=function(){},n.getContent=function(e,t,i,o){if(e){if(n.props.isMobile)return r.jsx("div",{className:"exbmap-ui-tool border-0 esri-widget--button",onClick:o,style:{marginTop:"10px"}},r.jsx(p.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:n.getIcon().icon}));var a=null;return a=window.jimuConfig.isBuilder?r.getAppStore().getState().appStateInBuilder.appConfig.dataSources:r.getAppStore().getState().appConfig.dataSources,r.jsx("div",{css:n.getStyle(),onClick:o},r.jsx("div",{title:a[t[0]]?a[t[0]].label:null,className:r.classNames("mapthumb-item",{front:t[0]!==i},{back:t[0]===i})},r.jsx(u.default,{mapItemId:a[t[0]]?a[t[0]].itemId:null,portUrl:a[t[0]]?a[t[0]].portalUrl:null})),r.jsx("div",{title:a[t[1]]?a[t[1]].label:null,className:r.classNames("mapthumb-item",{front:t[1]!==i},{back:t[1]===i})},r.jsx(u.default,{mapItemId:a[t[1]]?a[t[1]].itemId:null,portUrl:a[t[1]]?a[t[1]].portalUrl:null})))}return null},n.getIconContent=function(t,i,o,a){return t?(n.switchMap=a,e.prototype.render.call(n)):null},n}return o(t,e),t.getIsNeedSetting=function(){return!1},t.prototype.getStyle=function(){return r.css(s||(s=a(["\n      width: ",";\n      height: ",";\n      cursor: pointer;\n      position: relative;\n\n      .mapthumb-item {\n        position: absolute;\n        width: ",";\n        height: ",";\n        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;\n      }\n\n      .front {\n        z-index: 1;\n        bottom: 0;\n        left: 0;\n      }\n\n      .back {\n        z-index: 0;\n        top: 0;\n        right: 0;\n      }\n    "],["\n      width: ",";\n      height: ",";\n      cursor: pointer;\n      position: relative;\n\n      .mapthumb-item {\n        position: absolute;\n        width: ",";\n        height: ",";\n        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;\n      }\n\n      .front {\n        z-index: 1;\n        bottom: 0;\n        left: 0;\n      }\n\n      .back {\n        z-index: 0;\n        top: 0;\n        right: 0;\n      }\n    "])),r.polished.rem(68),r.polished.rem(52),r.polished.rem(64),r.polished.rem(48))},t.prototype.getTitle=function(){return"MapSwitch"},t.prototype.getIcon=function(){var e=this;return{icon:n(497),onIconClick:function(){e.switchMap()}}},t.prototype.getExpandPanel=function(){var e=this;return this.props.toolJson.isOnlyExpanded?r.jsx(l.MultiSourceMapContext.Consumer,null,(function(t){var n=t.isShowMapSwitchBtn,i=t.dataSourceIds,o=t.activeDataSourceId,a=t.switchMap;return e.getContent(n,i,o,a)})):null},t.prototype.render=function(){var t=this;return this.props.toolJson.isOnlyExpanded?e.prototype.render.call(this):r.jsx(l.MultiSourceMapContext.Consumer,null,(function(e){var n=e.isShowMapSwitchBtn,i=e.dataSourceIds,o=e.activeDataSourceId,a=e.switchMap;return t.getIconContent(n,i,o,a)}))},t}(c.BaseTool);t.default=d},1374:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),r=function(e){function t(t){var n=e.call(this,t)||this;return n.unmount=!1,n.setMapThumbUrl=function(e){if(e||n.setState({mapThumbUrl:null}),n.props.portUrl&&n.props.portUrl!==a.getAppStore().getState().portalUrl)a.esri.restPortal.searchItems({q:"id:"+e,portal:n.props.portUrl+"/sharing/rest"}).then((function(e){if(!n.unmount)if(e.results[0]){var t=n.props.portUrl+"/sharing/rest/content/items/"+e.results[0].id+"/info/"+e.results[0].thumbnail;n.setState({mapThumbUrl:t})}else n.setState({mapThumbUrl:null})}));else{var t=a.getAppStore().getState().portalUrl;a.esri.restPortal.searchItems({q:"id:"+e,authentication:a.SessionManager.getInstance().getMainSession(),portal:t+"/sharing/rest"}).then((function(e){var i,o;if(!n.unmount)if(e.results[0]){var s=a.SessionManager.getInstance().getMainSession(),r=null;r=s&&(null===(i=s)||void 0===i?void 0:i.token)?t+"/sharing/rest/content/items/"+e.results[0].id+"/info/"+e.results[0].thumbnail+"?token="+(null===(o=s)||void 0===o?void 0:o.token):t+"/sharing/rest/content/items/"+e.results[0].id+"/info/"+e.results[0].thumbnail,n.setState({mapThumbUrl:r})}else n.setState({mapThumbUrl:null})}))}},n.state={mapThumbUrl:null},n}return o(t,e),t.prototype.componentDidMount=function(){this.unmount=!1,this.setMapThumbUrl(this.props.mapItemId)},t.prototype.componentDidUpdate=function(e,t){e.mapItemId!==this.props.mapItemId&&this.setMapThumbUrl(this.props.mapItemId)},t.prototype.componentWillUnmount=function(){this.unmount=!0},t.prototype.render=function(){return this.state.mapThumbUrl?a.React.createElement(s.ImageWithParam,{imageParam:{url:this.state.mapThumbUrl}}):a.React.createElement(s.ImageWithParam,{imageParam:{}})},t}(a.React.PureComponent);t.default=r},1375:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(168),p=n(3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Fullscreen",n.fullScreenMap=function(){},n.getContent=function(t){return n.fullScreenMap=t,e.prototype.render.call(n)},n}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"FullScreenLabel",defaultMessage:p.defaultMessages.FullScreenLabel})},t.prototype.getIcon=function(){var e=this;return{icon:n(1376),onIconClick:function(t){e.fullScreenMap()}}},t.prototype.getExpandPanel=function(){return null},t.prototype.render=function(){var e=this;return a.React.createElement(r.MultiSourceMapContext.Consumer,null,(function(t){var n=t.fullScreenMap;return e.getContent(n)}))},t}(s.BaseTool);t.default=c},1376:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE0cHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDE0IDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTUuMiAoNzgxODEpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5mdWxsU2NyZWVuLTE2LWhvdmVyPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iTWFwdG9vbHNfdjAuMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJpY29ucyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc3Ny4wMDAwMDAsIC0xNDYuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJmdWxsU2NyZWVuLTE2LWhvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NzcuMDAwMDAwLCAxNDYuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LDAgTDE0LDUgTDEyLDUgTDEyLDEuOTQgTDksMS45NCBMOSwwIEwxNCwwIFogTTEuOTQsMS45NCBMNSwxLjk0IEw1LDAgTDAsMCBMMCw1IEwxLjk0LDUgTDEuOTQsMS45NCBaIE0xLjk0LDEyIEwxLjk0LDkgTDAsOSBMMCwxNCBMNSwxNCBMNSwxMiBMMS45NCwxMiBaIE0xMiwxMiBMOSwxMiBMOSwxNCBMMTQsMTQgTDE0LDkgTDEyLDkgTDEyLDEyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},1377:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="ScaleBar",n}return o(t,e),t.prototype.getTitle=function(){return"ScaleBar"},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(c,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=p;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.ScaleBar=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/ScaleBar"]).then((function(t){e.ScaleBar=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.ScaleBarBtn=new this.ScaleBar({container:this.container,view:this.props.jimuMapView.view,unit:"metric"}))},t.prototype.componentWillUnmount=function(){this.ScaleBarBtn&&(this.ScaleBarBtn.destroy(),this.ScaleBarBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1378:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(46),r=n(22),p=function(e){function t(t){var n=e.call(this,t)||this;return n.toolName="Attribution",n}return o(t,e),t.getIsNeedSetting=function(){return!1},t.prototype.getTitle=function(){return"Attribution"},t.prototype.getIcon=function(){return null},t.prototype.getExpandPanel=function(){return a.React.createElement(c,{jimuMapView:this.props.jimuMapView})},t}(s.BaseTool);t.default=p;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.Attribution=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||r.loadArcGISJSAPIModules(["esri/widgets/Attribution"]).then((function(t){e.Attribution=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(){this.state.apiLoaded&&this.container&&(this.AttributionBtn=new this.Attribution({container:this.container,view:this.props.jimuMapView.view}))},t.prototype.componentWillUnmount=function(){this.AttributionBtn&&(this.AttributionBtn.destroy(),this.AttributionBtn=null)},t.prototype.render=function(){var e=this;return a.React.createElement("div",{style:{position:"relative"},ref:function(t){e.container=t}})},t}(a.React.PureComponent)},1379:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),r=n(46),p=n(22),c=n(3),l=function(e){function t(t){var i=e.call(this,t)||this;return i.toolName="Measure",i.measureModules2D=[{name:"Line",title:"Line",path:"DistanceMeasurement2D",src:n(498)},{name:"Polygon",title:"Polygon",path:"AreaMeasurement2D",src:n(499)}],i.measureModules3D=[{name:"Line",title:"Line",path:"DirectLineMeasurement3D",src:n(498)},{name:"Polygon",title:"Polygon",path:"AreaMeasurement3D",src:n(499)}],i.handleMeasurceInstanceCreated=function(e,t){var n=i.state.measureInstances;n[t]=e,i.setState({measureInstances:n})},i.onTabClick=function(e){if(i.state.activeTabIndex!==e){i.setState({activeTabIndex:e});for(var t=0;t<i.state.measureInstances.length;t++)t!==e&&i.state.measureInstances[t]&&(i.state.measureInstances[t].visible=!1),t===e&&i.state.measureInstances[t]&&(i.state.measureInstances[t].visible=!0)}},i.onClosePanel=function(){for(var e=0;e<i.state.measureInstances.length;e++)i.state.measureInstances[e]&&(i.state.measureInstances[e].visible=!1)},i.onShowPanel=function(){for(var e=0;e<i.state.measureInstances.length;e++)e!==i.state.activeTabIndex&&i.state.measureInstances[e]&&(i.state.measureInstances[e].visible=!1),e===i.state.activeTabIndex&&i.state.measureInstances[e]&&(i.state.measureInstances[e].visible=!0)},i.state={activeTabIndex:0,measureInstances:[null,null]},i}return o(t,e),t.prototype.getTitle=function(){return this.props.intl.formatMessage({id:"MeasureLabel",defaultMessage:c.defaultMessages.MeasureLabel})},t.prototype.getIcon=function(){return{icon:n(1380)}},t.prototype.destroy=function(){for(var e=0;e<this.state.measureInstances.length;e++)this.state.measureInstances[e]&&!this.state.measureInstances[e].destroyed&&this.state.measureInstances[e].destroy()},t.prototype.getExpandPanel=function(){var e=this;return"2d"===this.props.jimuMapView.view.type?a.React.createElement("div",{style:{width:this.props.isMobile?"100%":"250px",position:"relative"},className:a.classNames({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},a.React.createElement(c.Nav,{tabs:!0},this.measureModules2D.map((function(t,n){return a.React.createElement(c.NavItem,{key:n},a.React.createElement(c.NavLink,{active:e.state.activeTabIndex===n,onClick:function(){e.onTabClick(n)}},a.React.createElement(s.Icon,{width:16,height:16,className:"",icon:t.src})))}))),a.React.createElement(u,{activeTabIndex:this.state.activeTabIndex,jimuMapView:this.props.jimuMapView,measureModule:this.measureModules2D[this.state.activeTabIndex],measureInstance:this.state.measureInstances[this.state.activeTabIndex],onMeasurceInstanceCreated:this.handleMeasurceInstanceCreated})):"3d"===this.props.jimuMapView.view.type?a.React.createElement("div",{style:{width:this.props.isMobile?"100%":"250px",position:"relative"},className:a.classNames({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},a.React.createElement(c.Nav,{tabs:!0},this.measureModules3D.map((function(t,n){return a.React.createElement(c.NavItem,{key:n},a.React.createElement(c.NavLink,{active:e.state.activeTabIndex===n,onClick:function(){e.onTabClick(n)}},a.React.createElement(s.Icon,{width:16,height:16,className:"",icon:t.src})))}))),a.React.createElement(u,{activeTabIndex:this.state.activeTabIndex,jimuMapView:this.props.jimuMapView,measureModule:this.measureModules3D[this.state.activeTabIndex],measureInstance:this.state.measureInstances[this.state.activeTabIndex],onMeasurceInstanceCreated:this.handleMeasurceInstanceCreated})):null},t}(r.BaseTool);t.default=l;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.MeasureInstance=null,n.state={apiLoaded:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||p.loadArcGISJSAPIModules(["esri/widgets/"+this.props.measureModule.path]).then((function(t){e.MeasureClass=t[0],e.setState({apiLoaded:!0})}))},t.prototype.componentDidUpdate=function(e){if(e.activeTabIndex===this.props.activeTabIndex&&e.measureModule===this.props.measureModule){if(this.state.apiLoaded&&this.parentContainer&&this.container)if(this.props.measureInstance)this.parentContainer.innerHTML="",this.parentContainer.appendChild(this.props.measureInstance.container),"measured"!==this.props.measureInstance.viewModel.state&&"measuring"!==this.props.measureInstance.viewModel.state&&this.props.measureInstance.viewModel.newMeasurement();else{var t=new this.MeasureClass({container:this.container,view:this.props.jimuMapView.view});t.viewModel.newMeasurement(),this.props.onMeasurceInstanceCreated(t,this.props.activeTabIndex)}}else this.reload()},t.prototype.reload=function(){var e=this;this.setState({apiLoaded:!1},(function(){p.loadArcGISJSAPIModules(["esri/widgets/"+e.props.measureModule.path]).then((function(t){e.MeasureClass=t[0],e.setState({apiLoaded:!0})}))}))},t.prototype.render=function(){var e=this;return a.React.createElement("div",{className:"w-100",style:{width:"250px",position:"relative",minHeight:"32px"},ref:function(t){e.parentContainer=t}},a.React.createElement("div",{ref:function(t){e.container=t}},!this.state.apiLoaded&&a.React.createElement("div",{className:"exbmap-basetool-loader"})))},t}(a.React.PureComponent)},1380:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDE2IDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTUuMiAoNzgxODEpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5tZWFzdXJlLTE2LWhvdmVyPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iTWFwdG9vbHNfdjAuMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJpY29ucyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQwNS4wMDAwMDAsIC0zNTMuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJtZWFzdXJlLTE2LWhvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDUuMDAwMDAwLCAzNTMuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTMuNjQ2LDYuMzU0IEwwLjc5NSwzLjUwMiBMMy42MTUsMC42NDggTDQuMzI3LDEuMzUyIEwyLjY5NywzIEw3LDMgTDcsNCBMMi43MDcsNCBMNC4zNTQsNS42NDYgTDMuNjQ2LDYuMzU0IFogTTExLjc3Myw1LjY0OCBMMTIuNDgzLDYuMzUyIEwxNS4zMDUsMy40OTggTDEyLjQ1NCwwLjY0NiBMMTEuNzQ3LDEuMzUzIEwxMy4zOTMsMyBMOS4xLDMgTDkuMSw0IEwxMy40MDMsNCBMMTEuNzczLDUuNjQ4IFogTTE2LDggTDE2LDE0IEwwLDE0IEwwLDggTDE2LDggWiBNMywxMSBMMiwxMSBMMiwxMyBMMywxMyBMMywxMSBaIE01LDEwIEw0LDEwIEw0LDEzIEw1LDEzIEw1LDEwIFogTTcsMTEgTDYsMTEgTDYsMTMgTDcsMTMgTDcsMTEgWiBNOSwxMCBMOCwxMCBMOCwxMyBMOSwxMyBMOSwxMCBaIE0xMSwxMSBMMTAsMTEgTDEwLDEzIEwxMSwxMyBMMTEsMTEgWiBNMTMsMTAgTDEyLDEwIEwxMiwxMyBMMTMsMTMgTDEzLDEwIFogTTE1LDExIEwxNCwxMSBMMTQsMTMgTDE1LDEzIEwxNSwxMSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},1381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{elements:{navigator:{type:"GROUP",groupName:"navigator",direction:"vertical"},interact:{type:"GROUP",groupName:"interact",direction:"vertical",isResponsive:!0},bottom:{type:"GROUP",groupName:"bottom",direction:"vertical",className:"w-100"},"bottom-line1":{type:"GROUP",groupName:"bottom-line1",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100 scale-attribution-xy-group",style:{marginBottom:0}},"bottom-line2":{type:"GROUP",groupName:"bottom-line2",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100",style:{paddingLeft:"15px",paddingRight:"15px",marginBottom:"10px"}},attributionGroup:{type:"GROUP",groupName:"attributionGroup",direction:"horizontal",style:{maxWidth:"60%"}},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1},Navigation:{type:"TOOL",toolName:"Navigation",isOnlyExpanded:!0,isShowIconTitle:!1},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},ScaleBar:{type:"TOOL",toolName:"ScaleBar",isOnlyExpanded:!0,isShowIconTitle:!1},Attribution:{type:"TOOL",toolName:"Attribution",isOnlyExpanded:!0,isShowIconTitle:!1,className:"w-100"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"}},layout:{navigator:{children:["Zoom","Home","Navigation","Locate","Compass"],position:{top:15,left:15}},interact:{children:["Search","Layers","BaseMap","Measure"],position:{top:15,right:15}},"bottom-line1":{children:["ScaleBar","attributionGroup"]},"bottom-line2":{children:["MapSwitch","FullScreen"]},bottom:{children:["bottom-line2","bottom-line1"],position:{bottom:0,left:0}},attributionGroup:{children:["Attribution"]}}},{elements:{navigator:{type:"GROUP",groupName:"navigator",direction:"vertical"},interact:{type:"GROUP",groupName:"interact",direction:"horizontal",isResponsive:!0},fullScreenGroup:{type:"GROUP",groupName:"fullScreenGroup",direction:"horizontal"},bottom:{type:"GROUP",groupName:"bottom",direction:"vertical",className:"w-100"},"bottom-line1":{type:"GROUP",groupName:"bottom-line1",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100 scale-attribution-xy-group",style:{marginBottom:0}},"bottom-line2":{type:"GROUP",groupName:"bottom-line2",direction:"horizontal",className:"d-flex align-items-end justify-content-between w-100",style:{paddingLeft:"15px",paddingRight:"15px",marginBottom:"10px"}},attributionGroup:{type:"GROUP",groupName:"attributionGroup",direction:"horizontal",style:{maxWidth:"60%"},className:"attibute-group"},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1},Navigation:{type:"TOOL",toolName:"Navigation",isOnlyExpanded:!0,isShowIconTitle:!1},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},ScaleBar:{type:"TOOL",toolName:"ScaleBar",isOnlyExpanded:!0,isShowIconTitle:!1},Attribution:{type:"TOOL",toolName:"Attribution",isOnlyExpanded:!0,isShowIconTitle:!1,className:"w-100"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"}},layout:{navigator:{children:["Compass","Locate","Navigation","Zoom","Home"]},interact:{children:["Search","Layers","BaseMap","Measure"],position:{top:15,left:15}},fullScreenGroup:{children:["FullScreen"],position:{top:15,right:15}},"bottom-line1":{children:["ScaleBar","attributionGroup"]},"bottom-line2":{children:["MapSwitch","navigator"]},bottom:{children:["bottom-line2","bottom-line1"],position:{bottom:0,left:0}},attributionGroup:{children:["Attribution"]}}}];t.default=i},1382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{elements:{mainGroup:{type:"GROUP",groupName:"mainGroup",direction:"vertical",style:{position:"absolute"},className:"d-flex flex-column"},topGroup:{type:"GROUP",groupName:"topGroup",direction:"horizontal",className:"d-flex w-100 align-items-center justify-content-between",style:{padding:"10px"}},midGroup:{type:"GROUP",groupName:"midGroup",direction:"horizontal",className:"flex-grow-1 d-flex w-100 justify-content-between"},"midGroup-left":{type:"GROUP",groupName:"midGroup-left",direction:"vertical",className:"h-100 d-flex flex-column-reverse",style:{paddingLeft:"10px",paddingRight:"10px"}},"midGroup-left-content":{type:"GROUP",groupName:"midGroup-left-content",direction:"vertical"},"midGroup-right":{type:"GROUP",groupName:"midGroup-right",direction:"vertical",className:"h-100 d-flex flex-column justify-content-between",style:{paddingRight:"10px",paddingLeft:"10px"}},"midGroup-right-content-top":{type:"GROUP",groupName:"midGroup-right-content-top",direction:"vertical"},"midGroup-right-content-bottom":{type:"GROUP",groupName:"midGroup-right-content-bottom",direction:"vertical"},bottomGroup:{type:"GROUP",groupName:"bottomGroup",direction:"vertical"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!0,isShowIconTitle:!1,className:"flex-grow-1"},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1,className:"mb-0"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"}},layout:{mainGroup:{children:["topGroup","midGroup","bottomGroup"],position:{top:0,left:0,bottom:0,right:0}},topGroup:{children:["Search","FullScreen"]},midGroup:{children:["midGroup-left","midGroup-right"]},"midGroup-left":{children:["midGroup-left-content"]},"midGroup-left-content":{children:["Compass","MapSwitch"]},"midGroup-right":{children:["midGroup-right-content-top","midGroup-right-content-bottom"]},"midGroup-right-content-top":{children:["Layers","BaseMap","Measure"]},"midGroup-right-content-bottom":{children:["Zoom","Home","Locate"]}},mobileResponsiveStrategy:{stage1:["midGroup-left-content","midGroup-right-content-bottom"],stage2:["midGroup-left-content","midGroup-right-content-bottom","midGroup-right-content-top"],stage3:["topGroup","midGroup-left-content","midGroup-right-content-bottom","midGroup-right-content-top"]},lockToolNames:[]}];t.default=i},1383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(22);function a(e,t,n){return new Promise((function(i,a){return o.loadArcGISJSAPIModules(["esri/layers/FeatureLayer"]).then((function(o){if(t.features.length<1)return i();var a=void 0;a=o[0];for(var s=t.features[0].layer,r=[],p={},c=0;c<s.fields.length;c++){var l=(g=s.fields[c],void 0,{name:g.name.replace(/\./g,"_").replace(/\(/g,"_").replace(/\)/g,"_"),alias:g.alias,type:g.type});p[s.fields[c].name]=l.name,r.push(l)}var u=[];for(var d in t.features[0].attributes)if(p[d]){l={fieldName:p[d],label:d};u.push(l)}var m=[];t.features.forEach((function(e,t){var n=e;if(n.attributes){for(var i in n.attributes)n.attributes[p[i]]=n.attributes[i];n.attributes.exbfid=t}else n.attributes={exbfid:t};m.push(n)}));var g,M=new a({id:n,title:s.title,source:m,fields:r,outFields:["*"],objectIdField:"exbfid",renderer:s.renderer,popupEnabled:!0,popupTemplate:{title:"information",content:[{type:"fields",fieldInfos:u}]}});e.map.add(M),M.on("layerview-create",(function(e){return i()}))}))}))}function s(e){return o.loadArcGISJSAPIModules(["esri/geometry/Extent"]).then((function(t){var n;if(n=t[0],!e||!e.length)return Promise.resolve(null);var i,o=null,a=e.length;for(i=0;i<a;i++){var s=e[i];if(s){var r=s.extent;if(!r&&"point"===s.type){var p=s;p.x&&p.y&&(r=new n({xmax:p.x,xmin:p.x,ymax:p.y,ymin:p.y,zmax:p.z,zmin:p.z,spatialReference:p.spatialReference}))}r&&(o=o?o.union(r):r)}}return o.width<0&&o.height<0?Promise.resolve(null):Promise.resolve(o)}))}function r(e){switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"polyline":return e.extent.center;default:return e&&e.extent?e.extent.center:void 0}}t.controlUIWidget=function(e,t,n,i,o){var a=e.ui;n&&(t?(a.add(n,i),o&&-1===a.exbMapTools.indexOf(o)&&a.exbMapTools.push(o)):a.remove(n))},t.createNewFeaturelayer=function(e,t){var n=[];return t&&Object.keys(t).forEach((function(i){e.map.layers.find((function(e){return e.id===i}))?console.warn("the feature layer is already created"):n.push(a(e,t[i],i))})),0===n.length?null:Promise.all(n)},t.updateFeaturelayer=function(e,t){var n=[];return t&&Object.keys(t).forEach((function(i){var o=e.map.layers.find((function(e){return e.id===i}));o&&(e.map.remove(o),n.push(a(e,t[i],i)))})),0===n.length?null:Promise.all(n)},t.selectFeature=function(e,t,n){var i=n,o=null,a=null;if(i||(a=t instanceof Array?t[0]:t)&&(i=a.layer&&a.layer.id),i){for(var s=e.allLayerViews,r=0;r<s.length;r++)s.getItemAt(r).layer.id===i&&(o=s.getItemAt(r));return o?{layerId:i,handle:o.highlight(t)}:null}},t.mapPanto=function(e,t){var n=t,i=e;if(n instanceof Array){if(0===n.length)return Promise.resolve();if(n[0].geometry){for(var o=[],a=0;a<n.length;a++)o.push(n[a].geometry);return s(o).then((function(e){return i.goTo(e.center)}))}return s(n).then((function(e){return i.goTo(e.center)}))}if(n.geometry){var p=n.geometry;return i.goTo(r(p))}return i.goTo(r(n))},t.filterFeaturesByQuery=function(e,t,n){if(t){for(var i=e.allLayerViews,o=null,a=0;a<i.length;a++)i.getItemAt(a).layer.id===t&&(o=i.getItemAt(a));o&&(o.layer.definitionExpression=n)}},t.flashFeaturesByQuery=function(e,t,n){if(t){for(var i=e.allLayerViews,a=null,s=0;s<i.length;s++)i.getItemAt(s).layer.id===t&&(a=i.getItemAt(s));if(!a)return null;o.loadArcGISJSAPIModules(["esri/tasks/support/Query","esri/Graphic"]).then((function(t){var i,o;i=t[0],o=t[1];var s=new i;s.where=n,s.outFields=["*"],s.returnGeometry=!0,a.layer.queryFeatures(s).then((function(t){if(t&&t.features&&t.features.length>0){var n=(i=a.layer.geometryType,["point","multipoint"].indexOf(i)>-1?{type:"simple-marker",style:"circle",color:[255,255,0,.8],size:"16px",outline:{color:[255,255,0,.8],width:3}}:["polyline"].indexOf(i)>-1?{type:"simple-line",color:[255,255,0,.8],width:3,style:"solid"}:["polygon","extent"].indexOf(i)>-1?{type:"simple-fill",color:[255,255,0,.5],style:"solid",outline:{color:[255,255,0,.8],width:3}}:["mesh"].indexOf(i)>-1?{type:"mesh-3d",symbolLayers:[{type:"fill",material:{color:[255,255,0,.8]}}]}:null);!function(t,i){for(var a=[],s=0,r=0;r<t.length;r++){var p=new o({geometry:t[r].geometry,symbol:n,attributes:t[r].attributes});a.push(p)}var c=function(){e.graphics.addMany(a),setTimeout((function(){e.graphics.removeMany(a),(s+=1)<i&&setTimeout((function(){c()}),500)}),500)};c()}(t.features,3)}var i}))}))}},t.handleFeature=function(e,t){var n=null;return e.clone?n=e.clone():(n=t.fromJSON(Object.assign({},e))).attributes=Object.assign({},e.attributes),n},t.projectGeometries=function(e,t){return e&&0!==e.length&&e[0]&&t.wkid!==e[0].spatialReference.wkid&&!t.equals(e[0].spatialReference)?t.isWebMercator&&e[0].spatialReference.isWGS84?Promise.resolve(e):t.isWGS84&&e[0].spatialReference.isWebMercator?Promise.resolve(e):o.geometryUtils.projectToSpatialReference(e,t):Promise.resolve(e)},t.checkIsLive=function(e){return!window.jimuConfig.isInBuilder||e!==i.AppMode.Design},t.getMapBaseRestoreData=function(e){return{mapContainer:e.mapContainer,state:e.state,MapView:e.MapView,SceneView:e.SceneView,Extent:e.Extent,Viewpoint:e.Viewpoint,mapView:e.mapView,sceneView:e.sceneView,extentWatch:e.extentWatch,dsManager:e.dsManager,highLightHandles:e.highLightHandles,mapBaseViewEventHandles:e.mapBaseViewEventHandles}},t.restoreMapBase=function(e,t){e.mapContainer=t.mapContainer,e.state=t.state,e.MapView=t.MapView,e.SceneView=t.SceneView,e.Extent=t.Extent,e.Viewpoint=t.Viewpoint,e.mapView=t.mapView,e.sceneView=t.sceneView,e.extentWatch=t.extentWatch,e.dsManager=t.dsManager,e.highLightHandles=t.highLightHandles,e.mapBaseViewEventHandles=t.mapBaseViewEventHandles}},1384:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDE2IDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuMyAoNjcyOTcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5XaWRnZXRfTWFwPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iU3R5bGUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iVUktaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDM3LjAwMDAwMCwgLTgxNS4wMDAwMDApIiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPHBhdGggZD0iTTEwNDMsODI1Ljk0MjU2NiBMMTA0Nyw4MjcuNjU0MDkzIEwxMDQ3LDgxOC4wNTc0MzQgTDEwNDMsODE2LjM0NTkwNyBMMTA0Myw4MjUuOTQyNTY2IFogTTEwNDIsODI2LjExMzAwMiBMMTA0Miw4MTYuNDk0MzExIEwxMDM4LDgxNy45NzQzNDYgTDEwMzgsODI3LjU5MzAzNiBMMTA0Miw4MjYuMTEzMDAyIFogTTEwNDgsODI3LjUwNTY4OSBMMTA1Miw4MjYuMDI1NjU0IEwxMDUyLDgxNi40MDY5NjQgTDEwNDgsODE3Ljg4Njk5OCBMMTA0OCw4MjcuNTA1Njg5IFogTTEwMzcsODI5IEwxMDM3LDgxNy4zMDczOTkgTDEwNDIuNzQ5ODcsODE1LjE3OTg5NiBMMTA0Ny4yNzc3NCw4MTcuMTE3Mjg2IEwxMDUzLDgxNSBMMTA1Myw4MjYuNjkyNjAxIEwxMDQ3LjI1MDEzLDgyOC44MjAxMDQgTDEwNDIuNzIyMjYsODI2Ljg4MjcxNCBMMTAzNyw4MjkgWiIgaWQ9IldpZGdldF9NYXAiPjwvcGF0aD4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.MultiSourceMapContext=i.React.createContext({isShowMapSwitchBtn:!1,dataSourceIds:[],activeDataSourceId:null,switchMap:function(){},fullScreenMap:function(){},initialMapState:null})},22:function(e,t){e.exports=n},3:function(e,n){e.exports=t},381:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M20.889 1.333h6.222a3.556 3.556 0 013.556 3.556v6.222a3.556 3.556 0 01-3.556 3.556h-6.222a3.556 3.556 0 01-3.556-3.556V4.889a3.556 3.556 0 013.556-3.556zM20 4v8h8V4h-8zM4.889 17.333h6.222a3.556 3.556 0 013.556 3.556v6.222a3.556 3.556 0 01-3.556 3.556H4.889a3.556 3.556 0 01-3.556-3.556v-6.222a3.556 3.556 0 013.556-3.556zM4 20v8h8v-8H4zm20 8a4 4 0 100-8 4 4 0 000 8zm0 2.667a6.667 6.667 0 110-13.334 6.667 6.667 0 010 13.334zM4.981 12h6.037L7.999 5.963 4.98 12zm4.212-9.615l5.176 10.352a1.334 1.334 0 01-1.192 1.93H2.825a1.333 1.333 0 01-1.192-1.929L6.809 2.386a1.332 1.332 0 012.385 0z"></path></svg>'},382:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n(0).React.PureComponent);t.UIComponent=a},46:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(0),p=n(3),c=n(382),l=n(1360),u=n(1361),d=n(381),m=n(1362),g=function(e){function t(t){var n=e.call(this,t)||this;n.toolName=null,n.isContainedToMobilePanel=!1,n.generation=0,n._getContent=function(){return n.props.toolJson.isOnlyExpanded?r.jsx("div",{css:n._cssStyle(),className:"exbmap-ui exbmap-ui-tool-panel"},r.jsx(r.ErrorBoundary,null,n.getExpandPanel())):n.props.isMobile?n._renderMobileTool():n._renderPCTool()},n.onResize=function(e,t){e&&t&&(n.generation=t,n.forceUpdate())};var i=n.props.jimuMapView&&n.props.jimuMapView.view&&n.props.jimuMapView.view.container;return p.MobilePanelManager.getInstance().checkDomIsContained(i)&&(n.isContainedToMobilePanel=!0),n}return o(t,e),t.prototype._cssStyle=function(){return r.css(s||(s=a(['\n      pointer-events: auto;\n      box-shadow: 0 1px 2px rgba(0,0,0,0.3);\n      position: relative;\n\n      .exbmap-ui-tool-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .exbmap-ui-tool-icon-selected {\n        color: #000;\n        background-color: #eee;\n      }\n\n      .exbmap-ui-tool-icon-selected:after {\n        width: 0;\n        height: 0;\n        border-top: 6px solid #000;\n        border-left: 6px solid transparent;\n        position: absolute;\n        top: 0;\n        right: 0;\n        content: "";\n        margin-top: 1px;\n        margin-right: 1px;\n      }\n\n      .exbmap-ui-expand-content {\n        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;\n        min-height: 10px;\n        min-width: 10px;\n        padding-top: ',";\n        padding-bottom: ",";\n        padding-left: ",";\n        padding-right: ",";\n\n        .exbmap-ui-expand-content-header {\n          margin-bottom: ",";\n        }\n\n        .panel-title {\n          font-size: ",";\n          color: #000000;\n        }\n\n        .panel-icon {\n          cursor: pointer;\n          color: #6e6e6e;\n        }\n\n        .panel-icon:hover {\n          color: #2e2e2e;\n        }\n      }\n\n      .expand-placement-bottom {\n        padding-top: 0.25rem !important;\n      }\n\n      .expand-placement-left {\n        padding-right: 0.25rem !important;\n      }\n\n      .expand-placement-right {\n        padding-left: 0.25rem !important;\n      }\n\n      .expand-placement-top {\n        padding-bottom: 0.25rem !important;\n      }\n      "],['\n      pointer-events: auto;\n      box-shadow: 0 1px 2px rgba(0,0,0,0.3);\n      position: relative;\n\n      .exbmap-ui-tool-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .exbmap-ui-tool-icon-selected {\n        color: #000;\n        background-color: #eee;\n      }\n\n      .exbmap-ui-tool-icon-selected:after {\n        width: 0;\n        height: 0;\n        border-top: 6px solid #000;\n        border-left: 6px solid transparent;\n        position: absolute;\n        top: 0;\n        right: 0;\n        content: "";\n        margin-top: 1px;\n        margin-right: 1px;\n      }\n\n      .exbmap-ui-expand-content {\n        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;\n        min-height: 10px;\n        min-width: 10px;\n        padding-top: ',";\n        padding-bottom: ",";\n        padding-left: ",";\n        padding-right: ",";\n\n        .exbmap-ui-expand-content-header {\n          margin-bottom: ",";\n        }\n\n        .panel-title {\n          font-size: ",";\n          color: #000000;\n        }\n\n        .panel-icon {\n          cursor: pointer;\n          color: #6e6e6e;\n        }\n\n        .panel-icon:hover {\n          color: #2e2e2e;\n        }\n      }\n\n      .expand-placement-bottom {\n        padding-top: 0.25rem !important;\n      }\n\n      .expand-placement-left {\n        padding-right: 0.25rem !important;\n      }\n\n      .expand-placement-right {\n        padding-left: 0.25rem !important;\n      }\n\n      .expand-placement-top {\n        padding-bottom: 0.25rem !important;\n      }\n      "])),r.polished.rem(10),r.polished.rem(10),r.polished.rem(20),r.polished.rem(20),r.polished.rem(10),r.polished.rem(16))},t.prototype.onShowPanel=function(){},t.prototype.onClosePanel=function(){},t.prototype.destroy=function(){},t.getIsNeedSetting=function(){return!0},t.prototype._onIconClick=function(e){var t=this.getIcon()&&this.getIcon().onIconClick;t&&t(e),this.getExpandPanel()&&(this.isContainedToMobilePanel||p.MobilePanelManager.getInstance().closePanel(),this.props.activeToolName&&this.props.activeToolName===this.toolName?this.props.onActiveToolNameChange(null):(this.props.onActiveToolNameChange(this.toolName),this.onShowPanel()))},t.prototype._initIconContainer=function(e){e&&!this.iconContainer&&(this.iconContainer=e,this.forceUpdate())},t.prototype._renderPCTool=function(){var e=this,t=this.getIcon();t||(t={icon:d,onIconClick:function(){}});var n=this.getExpandPanel();return r.jsx("div",{className:"exbmap-ui exbmap-ui-tool",css:this._cssStyle()},r.jsx("div",{style:{},ref:function(t){e._initIconContainer(t)},className:r.classNames("exbmap-ui-tool border-0 esri-widget--button",{"exbmap-ui-tool-icon-selected":this.toolName===this.props.activeToolName&&n}),title:this.props.toolJson.isShowIconTitle?this.getTitle():"",onClick:function(t){e._onIconClick(t)}},r.jsx(p.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:t.icon})),this.iconContainer&&this.toolName===this.props.activeToolName&&n&&r.jsx(u.default,{onDestroyed:function(){e.onClosePanel()}},r.jsx(p.Popper,{reference:this.iconContainer,open:!(this.toolName!==this.props.activeToolName||!n),placement:this.props.toolJson.panelPlacement,modifiers:{flip:{padding:0},preventOverflow:{padding:15,boundariesElement:this.props.jimuMapView.view.container}},generation:this.generation},r.jsx("div",{className:this.getExpandPanelPlacementClassName()},r.jsx("div",{className:"exbmap-ui-expand-content",style:{backgroundColor:"white"}},r.jsx("div",{className:"w-100 justify-content-between d-flex exbmap-ui-expand-content-header"},r.jsx("div",{className:"panel-title text-truncate",style:{width:"210px"},title:this.getTitle()},this.getTitle()),r.jsx("div",{onClick:function(){e.props.onActiveToolNameChange(null)}},r.jsx(p.Icon,{className:"panel-icon",width:20,height:20,icon:m}))),r.jsx(r.ErrorBoundary,null,n,r.jsx(r.ReactResizeDetector,{handleHeight:!0,onResize:this.onResize})))))))},t.prototype._renderMobileTool=function(){var e=this,t=this.getIcon();t||(t={icon:d,onIconClick:function(){}});var n=this.getExpandPanel();return r.jsx("div",{className:"exbmap-ui exbmap-ui-tool",css:this._cssStyle()},r.jsx("div",{style:{},ref:function(t){e.iconContainer=t},className:r.classNames("exbmap-ui-tool border-0 esri-widget--button",{"exbmap-ui-tool-icon-selected":this.toolName===this.props.activeToolName&&n}),title:this.props.toolJson.isShowIconTitle?this.getTitle():"",onClick:function(t){e._onIconClick(t)}},r.jsx(p.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:t.icon})),this.toolName===this.props.activeToolName&&n&&r.ReactDOM.createPortal(r.jsx(u.default,{onDestroyed:function(){e.onClosePanel()}},r.jsx("div",{className:"w-100 h-100 d-flex flex-column"},r.jsx("div",{className:"w-100 justify-content-between d-flex exbmap-ui-expand-content-header",style:{padding:"10px",fontWeight:"bold"}},r.jsx("div",{className:"panel-title text-truncate w-100",title:this.getTitle()},this.getTitle()),r.jsx("div",{style:{zIndex:1,pointerEvents:"auto",width:"40px",height:"30px"},onClick:function(){e.props.onActiveToolNameChange(null)},className:"d-flex justify-content-end align-items-start"},r.jsx(p.Icon,{className:"panel-icon",width:20,height:20,icon:m,color:"#6e6e6e"}))),r.jsx("div",{className:"flex-grow-1 w-100",style:{position:"relative"}},r.jsx(l.default,{className:"w-100 h-100",style:{position:"absolute",paddingLeft:"10px",paddingRight:"10px"}},r.jsx(r.ErrorBoundary,null,this.getExpandPanel()))))),document.getElementById(this.props.jimuMapView.id+"-bottom-panel")))},t.prototype.getExpandPanelPlacementClassName=function(){return this.props.toolJson.panelPlacement?"expand-placement-"+this.props.toolJson.panelPlacement.split("-")[0]:null},t.prototype.render=function(){return this._getContent()},t}(c.UIComponent);t.BaseTool=g},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1359),o=n(1363),a=n(1364),s=n(1365),r=n(1366),p=n(1367),c=n(1369),l=n(1371),u=n(1373),d=n(1375),m=n(1377),g=n(1378),M=n(1379),h={Zoom:i.default,Home:o.default,Navigation:r.default,Locate:s.default,Compass:a.default,Search:p.default,Layers:c.default,BaseMap:l.default,Measure:M.default,MapSwitch:u.default,FullScreen:d.default,ScaleBar:m.default,Attribution:g.default};t.default=h},497:function(e,t){e.exports="data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOSIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDM5IDMyIj4NCjx0aXRsZT5leGNoYW5nZTwvdGl0bGU+DQo8cGF0aCBkPSJNMzguNzg0IDkuNzc4djIuOTYyaC0zNS41NDh2LTIuOTYyaDAuMDc0bDkuNzc2LTkuNzc2IDIuMTExIDIuMTExLTcuNzAyIDcuNjY1aDMxLjI5ek0zLjIzNiAyMS42MjhoMzEuMzI3bC03LjcwMiA3LjcwMiAyLjExMSAyLjExMSA5Ljc3Ni05LjgxM2gwLjAzN3YtMi45NjJoLTM1LjU0OHYyLjk2MnoiPjwvcGF0aD4NCjwvc3ZnPg0K"},498:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgMTUgMTAiIHZlcnNpb249IjEuMSI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1NS4yICg3ODE4MSkgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+DQogICAgPHRpdGxlPm1lYXN1cmUtZGlzdGFuY2UtaG92ZXI8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSJtYXBUb29scy1kZXNrdG9wIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9Imljb25zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTg4LjAwMDAwMCwgLTM1Ni4wMDAwMDApIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9Im1lYXN1cmUtZGlzdGFuY2UtaG92ZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU4OC4wMDAwMDAsIDM1Ni4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwxMCBMMTUsMTAgTDE1LDQgTDAsNCBMMCwxMCBaIE0xLDUgTDE0LDUgTDE0LDkgTDEzLDkgTDEzLDYgTDEyLDYgTDEyLDkgTDExLDkgTDExLDcgTDEwLDcgTDEwLDkgTDksOSBMOSw2IEw4LDYgTDgsOSBMNyw5IEw3LDcgTDYsNyBMNiw5IEw1LDkgTDUsNiBMNCw2IEw0LDkgTDMsOSBMMyw3IEwyLDcgTDIsOSBMMSw5IEwxLDUgWiBNMTIsMCBMMTIsMSBMMywxIEwzLDAgTDAsMCBMMCwzIEwzLDMgTDMsMiBMMTIsMiBMMTIsMyBMMTUsMyBMMTUsMCBMMTIsMCBaIE0yLDIgTDEsMiBMMSwxIEwyLDEgTDIsMiBaIE0xNCwyIEwxMywyIEwxMywxIEwxNCwxIEwxNCwyIFoiIGlkPSJTaGFwZSIvPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},499:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTUgMTYiIHZlcnNpb249IjEuMSI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1NS4yICg3ODE4MSkgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+DQogICAgPHRpdGxlPm1lYXN1cmUtYXJlYS1ob3ZlcjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9Im1hcFRvb2xzLWRlc2t0b3AiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02NzguMDAwMDAwLCAtMzU0LjAwMDAwMCkiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0ibWVhc3VyZS1hcmVhLWhvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NzguMDAwMDAwLCAzNTQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQsOCBMNSw4IEw1LDExIEw0LDExIEw0LDggWiBNMiw5IEwzLDkgTDMsMTEgTDIsMTEgTDIsOSBaIE04LDggTDksOCBMOSwxMSBMOCwxMSBMOCw4IFogTTEyLDggTDEzLDggTDEzLDExIEwxMiwxMSBMMTIsOCBaIiBpZD0iU2hhcGUiLz4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUsMTIgTDE1LDYgTDEzLDYgTDEzLDUgTDE0LDUgTDE0LDIgTDExLDIgTDExLDMgTDQsMS4wNSBMNCwwIEwxLDAgTDEsMyBMMiwzIEwyLDYgTDAsNiBMMCwxMiBMMiwxMiBMMiwxMyBMMSwxMyBMMSwxNiBMNCwxNiBMNCwxNSBMMTEsMTUgTDExLDE2IEwxNCwxNiBMMTQsMTMgTDEzLDEzIEwxMywxMiBMMTUsMTIgWiBNMTIsMyBMMTMsMyBMMTMsNCBMMTIsNCBMMTIsMyBaIE00LDIuMDggTDExLDQgTDExLDUgTDEyLDUgTDEyLDYgTDMsNiBMMywzIEw0LDMgTDQsMi4wOCBaIE0yLDEgTDMsMSBMMywyIEwyLDIgTDIsMSBaIE0zLDE1IEwyLDE1IEwyLDE0IEwzLDE0IEwzLDE1IFogTTExLDE0IEw0LDE0IEw0LDEzIEwzLDEzIEwzLDEyIEwxMiwxMiBMMTIsMTMgTDExLDEzIEwxMSwxNCBaIE0xMywxNSBMMTIsMTUgTDEyLDE0IEwxMywxNCBMMTMsMTUgWiBNMSwxMSBMMSw3IEwxNCw3IEwxNCwxMSBMMSwxMSBaIiBpZD0iU2hhcGUiLz4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNiw5IEw3LDkgTDcsMTEgTDYsMTEgTDYsOSBaIE0xMCw5IEwxMSw5IEwxMSwxMSBMMTAsMTEgTDEwLDkgWiIgaWQ9IlNoYXBlIi8+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="}})}));