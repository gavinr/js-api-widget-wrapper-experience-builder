define(["jimu-core/react","jimu-core/react-dom","jimu-core"],(function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=47)}([function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},function(t,r){t.exports=e},function(e,t,r){"use strict";r.r(t);var n,o=r(93),i=r(95),a=r(21),s=r(94),u=r(46),c=r(26);!function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError"}(n||(n={}));var l=r(18),d=r(45);r.d(t,"NODEJS_DEFAULT_REFERER_HEADER",(function(){return o.b})),r.d(t,"setDefaultRequestOptions",(function(){return o.e})),r.d(t,"ArcGISAuthError",(function(){return o.a})),r.d(t,"checkForErrors",(function(){return o.c})),r.d(t,"request",(function(){return o.d})),r.d(t,"appendCustomParams",(function(){return i.a})),r.d(t,"ArcGISRequestError",(function(){return a.a})),r.d(t,"cleanUrl",(function(){return s.a})),r.d(t,"encodeFormData",(function(){return u.a})),r.d(t,"encodeParam",(function(){return c.a})),r.d(t,"encodeQueryString",(function(){return c.b})),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"requiresFormData",(function(){return l.b})),r.d(t,"processParams",(function(){return l.a})),r.d(t,"warn",(function(){return d.a}))},function(e,t,r){e.exports=r(131)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(176),i=r(71),a=r(177);t.createAppStore=function(e){if(n)return n;var t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):i.compose)(i.applyMiddleware(a.default));return n=i.createStore(o.default,e,t),window._appStore=n,n},t.getAppStore=function(){return n},t.observeStore=function(e,t){var r;function o(){var o=n.getState();t?(o=o.getIn(t))!==r&&(e(r,o),r=o):o!==r&&(e(r,o),r=o)}var i=n.subscribe(o);return o(),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6);!function(e){e.InitStoreExtensionState="INIT_STORE_EXTENSION_STATE",e.AppConfigLoaded="APPCONFIG_LOADED",e.AppConfigChanged="APPCONFIG_CHANGED",e.ThemeVariablesChanged="THEME_VARIABLES_CHANGED",e.SetPortalUrl="SET_PORTAL_URL",e.SetPortalInfo="SET_PORTAL_INFO",e.SetPortalSelf="SET_PORTAL_SELF",e.WidgetClassLoaded="WIDGET_CLASS_LOADED",e.WidgetConfigLoaded="WIDGET_CONFIG_LOADED",e.WidgetConfigUpgraded="WIDGET_CONFIG_UPGRADED",e.OpenWidget="OPEN_WIDGET",e.CloseWidget="CLOSE_WIDGET",e.CloseWidgets="CLOSE_WIDGETS",e.SetWidgetIsInlineEditingState="SET_WIDGET_IS_INLINE_EDITING_STATE",e.SetWidgetPreloadProps="SET_WIDGET_PRELOAD_PROPS",e.SetWidgetReadyInjectDataSource="SET_WIDGET_READY_INJECT_DATA_SOURCE",e.SetAppInBuilder="SET_APP_IN_BUILDER",e.LayoutClassLoaded="LAYOUT_CLASS_LOADED",e.AppContextInit="APP_CONTEXT_INIT",e.I18nMessagesLoaded="I18N_MESSAGES_LOADED",e.QueryObjectChanged="QUERY_OBJECT_CHANGED",e.AppModeChanged="APP_MODE_CHANGED",e.CurrentViewChanged="CURRENT_VIEW_CHANGED",e.SelectionChanged="SELECTION_CHANGED",e.AppRuntimeInfoInit="APP_RUNTIME_INFO_INIT",e.CurrentPageChanged="CURRENT_PAGE_CHANGED",e.AppPathChanged="APP_PATH_CHANGED",e.AppIdChanged="APP_ID_CHANGED",e.AppInfoChanged="APP_INFO_CHANGED",e.NetworkStatusChanged="NETWORK_STATUS_CHANGED",e.DataSourceStatusChanged="DATA_SOURCE_STATUS_CHANGED",e.DataSourceCountStatusChanged="DATA_SOURCE_COUNT_STATUS_CHANGED",e.DataSourceInstanceStatusChanged="DATA_SOURCE_INSTANCE_STATUS_CHANGED",e.DataSourceSaveStatusChanged="DATA_SOURCE_SAVE_STATUS_CHANGED",e.DataSourceVersionAdded="DATA_SOURCE_VERSION_ADDED",e.DataSourceSelectedIndexesChanged="DATA_SOURCE_SELECTED_INDEXES_CHANGED",e.DataSourceSelectedIdsChanged="DATA_SOURCE_SELECTED_IDS_CHANGED",e.SetDataSourcePreloadData="SET_DATA_SOURCE_PRELOAD_DATA",e.JimuMapViewAdded="JIMU_MAPVIEW_ADDED",e.JimuMapViewRemoved="JIMU_MAPVIEW_REMOVED",e.JimuMapViewUpdated="JIMU_MAPVIEW_UPDATED",e.WidgetStatePropChange="WIDGET_STATE_PROP_CHANGE",e.WidgetMutableStatePropChange="WIDGET_MUTABLE_STATE_PROP_CHANGE",e.SessionStart="SESSION_START",e.UserSignIn="USER_SIGN_IN",e.UserSignOut="USER_SIGN_OUT",e.BrowserSizeModeChanged="BROWSER_SIZE_MODE_CHANGED",e.DynamicModuleLoaded="DYNAMIC_MODULE_LOADED",e.UpdateStoreState="UPDATE_STORE_STATE",e.ActivePagePartChanged="ACTIVE_PAGE_PART_CHANGED",e.SetWaitingServiceWorkerFlag="SET_WAITING_SERVICE_WORKER_FLAG",e.OpenOverlay="OPEN_OVERLAY",e.CloseOverlay="CLOSE_OVERLAY",e.ActiveOverlay="ACTIVE_OVERLAY",e.SetIsBusy="SET_IS_BUSY",e.ZoomScaleChanged="ZOOM_SCALE_CHANGED",e.LayoutChanged="LAYOUT_CHANGED"}(n=t.ActionKeys||(t.ActionKeys={})),t.appConfigLoaded=function(e){return{type:n.AppConfigLoaded,appConfig:e}},t.appConfigChanged=function(e){return{type:n.AppConfigChanged,appConfig:e}},t.appPathChanged=function(e){return{type:n.AppPathChanged,path:e}},t.appInfoChanged=function(e){return{type:n.AppInfoChanged,appInfo:e}},t.appIdChanged=function(e){return{type:n.AppIdChanged,appId:e}},t.widgetClassLoaded=function(e){return{type:n.WidgetClassLoaded,widgetId:e}},t.widgetConfigUpgraded=function(e,t){return{type:n.WidgetConfigUpgraded,widgetId:e,config:t}},t.widgetConfigLoaded=function(e,t){return{type:n.WidgetConfigLoaded,widgetId:e,config:t}},t.openWidget=function(e){return{type:n.OpenWidget,widgetId:e}},t.closeWidget=function(e){return{type:n.CloseWidget,widgetId:e}},t.closeWidgets=function(e){return{type:n.CloseWidgets,widgetIds:e}},t.initAppContext=function(e){return{type:n.AppContextInit,appContext:e}},t.i18nMessagesLoaded=function(e,t){return{type:n.I18nMessagesLoaded,key:e,messages:t}},t.queryObjectChanged=function(e){return{type:n.QueryObjectChanged,query:e}},t.setAppInBuilder=function(){return{type:n.SetAppInBuilder}},t.appModeChanged=function(e){return{type:n.AppModeChanged,mode:e}},t.layoutClassLoaded=function(e){return{type:n.LayoutClassLoaded,layoutName:e}},t.dataSourceStatusChanged=function(e,t){return{type:n.DataSourceStatusChanged,dataSourceId:e,status:t}},t.dataSourceCountStatusChanged=function(e,t){return{type:n.DataSourceCountStatusChanged,dataSourceId:e,countStatus:t}},t.dataSourceInstanceStatusChanged=function(e,t){return{type:n.DataSourceInstanceStatusChanged,dataSourceId:e,status:t}},t.dataSourceSaveStatusChanged=function(e,t){return{type:n.DataSourceSaveStatusChanged,dataSourceId:e,saveStatus:t}},t.dataSourceVersionAdded=function(e){return{type:n.DataSourceVersionAdded,dataSourceId:e}},t.jimuMapViewAdded=function(e,t){return{type:n.JimuMapViewAdded,jimuMapViewId:e,jimuMapViewInfo:t}},t.jimuMapViewUpdated=function(e,t){return{type:n.JimuMapViewUpdated,jimuMapViewId:e,jimuMapViewInfo:t}},t.jimuMapViewRemoved=function(e){return{type:n.JimuMapViewRemoved,jimuMapViewId:e}},t.initStoreExtensionState=function(e){return{type:n.InitStoreExtensionState,extensionId:e}},t.widgetStatePropChange=function(e,t,r){return{type:n.WidgetStatePropChange,widgetId:e,propKey:t,value:r}},t.widgetMutableStatePropChange=function(e,t,r){return{type:n.WidgetMutableStatePropChange,widgetId:e,propKey:t,value:r}},t.setPortalUrl=function(e){return{type:n.SetPortalUrl,portalUrl:e}},t.setPortalInfo=function(e,t){return{type:n.SetPortalInfo,portalUrl:e,clientId:t}},t.dataSourceSelectedIndexesChanged=function(e,t){return{type:n.DataSourceSelectedIndexesChanged,dataSourceId:e,selectedIndexes:t}},t.dataSourceSelectedIdsChanged=function(e,t){return{type:n.DataSourceSelectedIdsChanged,dataSourceId:e,selectedIds:t}},t.sessionStart=function(e){return{type:n.SessionStart,token:e}},t.userSignIn=function(e){return{type:n.UserSignIn,user:e}},t.userSignOut=function(){return{type:n.UserSignOut}},t.browserSizeModeChanged=function(e){var t=window.document&&window.document.documentElement;return t&&(t.classList.remove("size-mode-"+o.BrowserSizeMode.Large),t.classList.remove("size-mode-"+o.BrowserSizeMode.Medium),t.classList.remove("size-mode-"+o.BrowserSizeMode.Small),t.classList.add("size-mode-"+e)),{type:n.BrowserSizeModeChanged,browserSizeMode:e}},t.setWidgetIsInlineEditingState=function(e,t){return{type:n.SetWidgetIsInlineEditingState,widgetId:e,isInlineEditing:t}},t.setWidgetPreloadProps=function(e,t){return{type:n.SetWidgetPreloadProps,widgetId:e,props:t}},t.setDataSourcePreloadData=function(e,t){return{type:n.SetDataSourcePreloadData,dataSourceId:e,data:t}},t.networkStatusChanged=function(e){return{type:n.NetworkStatusChanged,isOffLine:e}},t.dynamicModuleLoaded=function(e){return{type:n.DynamicModuleLoaded,moduleId:e}},t.currentViewChanged=function(e){return{type:n.CurrentViewChanged,viewId:e}},t.currentPageChanged=function(e){return{type:n.CurrentPageChanged,pageId:e}},t.selectionChanged=function(e){return{type:n.SelectionChanged,selection:e}},t.updateStoreState=function(e){return{type:n.UpdateStoreState,state:e}},t.appRuntimeInfoInit=function(e){return{type:n.AppRuntimeInfoInit,info:e}},t.setWidgetReadyInjectDataSource=function(e){return{type:n.SetWidgetReadyInjectDataSource,widgetId:e}},t.themeVariablesChanged=function(e){return{type:n.ThemeVariablesChanged,theme:e}},t.setPortalSelf=function(e){return{type:n.SetPortalSelf,portalSelf:e}},t.activePagePartChanged=function(e){return{part:e,type:n.ActivePagePartChanged}},t.openOverlay=function(e){return{type:n.OpenOverlay,id:e}},t.closeOverlay=function(e){return{type:n.CloseOverlay,id:e}},t.activeOverlay=function(e){return{type:n.ActiveOverlay,id:e}},t.zoomScaleChange=function(e){return{type:n.ZoomScaleChanged,zoomScale:e}},t.setIsBusy=function(e){return{type:n.SetIsBusy,isBusy:e}},t.layoutChanged=function(e,t){return{type:n.LayoutChanged,appConfig:e,selection:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Small="SMALL",e.Medium="MEDIUM",e.Large="LARGE"}(t.BrowserSizeMode||(t.BrowserSizeMode={})),function(e){e.String="STRING",e.Number="NUMBER",e.Date="DATE"}(t.JimuFieldType||(t.JimuFieldType={})),function(e){e.Fetching="FETCHING",e.Success="SUCCESS",e.Error="ERROR"}(t.AjaxState||(t.AjaxState={})),function(e){e.Design="DESIGN",e.Run="RUN"}(t.AppMode||(t.AppMode={})),function(e){e.Opened="OPENED",e.Active="ACTIVE",e.Closed="CLOSED"}(t.WidgetState||(t.WidgetState={})),function(e){e.None="NONE",e.Page="PAGE",e.Dialog="DIALOG",e.View="VIEW",e.WebAddress="WEB_ADDRESS"}(t.LinkType||(t.LinkType={})),function(e){e.Normal="NORMAL",e.Layout="LAYOUT"}(t.WidgetType||(t.WidgetType={})),t.ESRI_DATE_FORMAT_ARRAY=["shortDate","shortDateLE","longMonthDayYear","dayShortMonthYear","longDate","shortDateShortTime","shortDateLEShortTime","shortDateShortTime24","shortDateLEShortTime24","shortDateLongTime","shortDateLELongTime","shortDateLongTime24","shortDateLELongTime24","longMonthYear","shortMonthYear","year"],function(e){e.Header="HEADER",e.Footer="FOOTER",e.Body="BODY"}(t.PagePart||(t.PagePart={})),function(e){e.Http="http:",e.Https="https:"}(t.UrlProtocol||(t.UrlProtocol={})),t.APP_FRAME_NAME_IN_BUILDER="_appWindow"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(5);function i(e){return window.SystemJS.get(s(e))}function a(e){return window.SystemJS.import(e).then((function(t){return n.getAppStore().dispatch(o.dynamicModuleLoaded(e)),t}))}function s(e){return window.SystemJS.resolveSync(e)}t.getModuleSync=i,t.loadModule=a,t.loadModules=function(e){return Promise.all(e.map((function(e){return a(e)})))},t.resolveModuleFullUrl=s,t.resolveModuleFullPath=function(e){var t=s(e);return/^file:/.test(t)?t:t.substring((window.location.protocol+"//"+window.location.host).length,t.length)},t.getJimuForBuilderModules=function(){return i("jimu-for-builder")}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){var n;!function(){"use strict";var o=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o=60103,i={use_static:!1};function a(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function s(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(i.use_static=Boolean(t.use_static));var u="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,u)))}function l(e,t){return e===t||e!=e&&t!=t}function d(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var f=["setPrototypeOf"],p=(f.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function h(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function g(e,t){return s(e,u,!0),e}function m(e,t){var r=e[t];s(e,t,(function(){return q(r.apply(e,arguments))}))}function y(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&d(t)&&d(this[e])&&(t=q.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=O.call(this);return o[e]=q(t),S(o)}f.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),h.prototype=new Error,h.prototype.constructor=Error;var v=q([]);function b(e,t,r){var n=e[0];if(1===e.length)return y.call(this,n,t,r);var o,i=e.slice(1),a=this[n];if("object"==typeof a&&null!==a)o=q.setIn(a,i,t);else{var s=i[0];o=""!==s&&isFinite(s)?b.call(v,i,t):k.call(D,i,t)}if(n in this&&a===o)return this;var u=O.call(this);return u[n]=o,S(u)}function S(e){for(var t in p){if(p.hasOwnProperty(t))m(e,p[t])}i.use_static||(s(e,"flatMap",I),s(e,"asObject",E),s(e,"asMutable",O),s(e,"set",y),s(e,"setIn",b),s(e,"update",F),s(e,"updateIn",U),s(e,"getIn",N));for(var r=0,n=e.length;r<n;r++)e[r]=q(e[r]);return g(e)}function w(){return new Date(this.getTime())}function I(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return S(r)}function _(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=a(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return V(r)}function O(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(C(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function E(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this),i=o[0],a=o[1];r[i]=a}return V(r)}function C(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,u)||e instanceof Date?e:q.asMutable(e,{deep:!0})}function P(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function A(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,o=Array.isArray(e),i=t&&t.deep,s=t&&t.mode||"merge",u=t&&t.merger;function c(e,n,o){var s,c=q(n[o]),f=u&&u(e[o],c,t),p=e[o];void 0===r&&void 0===f&&e.hasOwnProperty(o)&&l(c,p)||(l(p,s=void 0!==f?f:i&&d(p)&&d(c)?q.merge(p,c,t):c)&&e.hasOwnProperty(o)||(void 0===r&&(r=P(e,a(e))),r[o]=s))}if(o)for(var f=0,p=e.length;f<p;f++){var h=e[f];for(n in h)h.hasOwnProperty(n)&&c(void 0!==r?r:this,h,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&c(this,e,n);"replace"===s&&function(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=P(e,a(e))),delete r[n])}(this,e)}return void 0===r?this:V(r)}function T(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return q.merge(this,e,{deep:r,mode:"replace"})}var x,j,M,D=q({});function k(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return R.call(this,n,t,r);var o,i=e.slice(1),s=this[n];if(o=this.hasOwnProperty(n)&&"object"==typeof s&&null!==s?q.setIn(s,i,t):k.call(D,i,t),this.hasOwnProperty(n)&&s===o)return this;var u=P(this,a(this));return u[n]=o,V(u)}function R(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&d(t)&&d(this[e])&&(t=q.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=P(this,a(this));return o[e]=q(t),V(o)}function F(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return q.set(this,e,t.apply(n,[n].concat(r)))}function L(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function U(e,t){var r=Array.prototype.slice.call(arguments,2),n=L(this,e);return q.setIn(this,e,t.apply(n,[n].concat(r)))}function N(e,t){var r=L(this,e);return void 0===r?t:r}function W(e){var t,r=a(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=C(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function B(){return{}}function V(e){return i.use_static||(s(e,"merge",A),s(e,"replace",T),s(e,"without",_),s(e,"asMutable",W),s(e,"set",R),s(e,"setIn",k),s(e,"update",F),s(e,"updateIn",U),s(e,"getIn",N)),g(e)}function q(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(e.$$typeof===o||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(q);if(Array.isArray(e))return S(e.slice());if(e instanceof Date)return a=new Date(e.getTime()),i.use_static||s(a,"asMutable",w),g(a);var a,u=t&&t.prototype,l=(u&&u!==Object.prototype?function(){return Object.create(u)}:B)();for(var d in e)Object.getOwnPropertyDescriptor(e,d)&&(l[d]=q(e[d],void 0,r));return V(l)}function G(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function z(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return q.from=q,q.isImmutable=c,q.ImmutableError=h,q.merge=G(A),q.replace=G(T),q.without=G(_),q.asMutable=(x=W,j=O,M=w,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?j.apply(t,e):t instanceof Date?M.apply(t,e):x.apply(t,e)}),q.set=z(R,y),q.setIn=z(k,b),q.update=G(F),q.updateIn=G(U),q.getIn=G(N),q.flatMap=G(I),q.asObject=G(E),i.use_static||(q.static=e({use_static:!0})),Object.freeze(q),q}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(14),i=r(107),a=r(29),s=r(22),u=r(7),c=r(5),l=r(109),d=r(61),f=Object.keys(o.DataSourceTypes).map((function(e){return o.DataSourceTypes[e]})),p=function(){function e(){if(this.dataSources={},this.dataSourcesCreatePromise={},this.dataSourceFactories={},window.jimuConfig.isBuilder)console.error("DataSourceManager should not be created in builder");else{n.observeStore(this.onStoreChange.bind(this),["appConfig","dataSources"])}}return e.getInstance=function(){return window.jimuConfig.isBuilder?window._appWindow&&window._appWindow._dataSourceManager:(e.instance||(e.instance=new e,window._dataSourceManager=e.instance),e.instance)},e.prototype.getDataSource=function(e){return this.dataSources[e]},e.prototype.getDataSources=function(){return this.dataSources},e.prototype.getDataSourcesAsArray=function(){var e=this;return Object.keys(this.dataSources).map((function(t){return e.dataSources[t]}))},e.prototype.setDataSource=function(e,t){this.dataSources[e]=t},e.prototype.destroyAllDataSources=function(){var e=this;Object.keys(this.dataSources).forEach((function(t){return e.destroyDataSource(t)})),this.dataSourcesCreatePromise={}},e.prototype.destroyDataSource=function(e){this.dataSources[e]?(this.dataSources[e].destroy(),delete this.dataSources[e],delete this.dataSourcesCreatePromise[e],n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(e,o.DataSourceStatus.NotCreated))):this.dataSourcesCreatePromise[e]&&delete this.dataSourcesCreatePromise[e]},e.prototype.getConfiguredDataSources=function(){var e=this;return Object.keys(this.dataSources).filter((function(t){return!e.dataSources[t].dataSourceJson.isOutputFromWidget})).map((function(t){return e.getDataSource(t)}))},e.prototype.getWidgetGeneratedDataSources=function(){var e=this,t={},r=this.getAppConfig();return Object.keys(r.widgets).filter((function(e){return r.widgets[e].outputDataSources})).map((function(n){t[n]=r.widgets[n].outputDataSources.asMutable().map((function(t){return e.getDataSource(t)}))})),t},e.prototype.createAllDataSources=function(){var e=this,t=this.getAppConfig()&&this.getAppConfig().dataSources,r=[];return t&&Object.keys(t).forEach((function(t){e.dataSources[t]||r.push(e.createDataSource(t).catch((function(e){console.error("Create data source failed",t,e),Promise.resolve(null)})))})),Promise.all(r).then((function(){return Object.keys(e.dataSources).map((function(t){return e.dataSources[t]}))}))},e.prototype.createDataSource=function(e){var t,r,i=this;if("string"==typeof e?(t=this.getAppConfig().dataSources[e],r={dataSourceJson:t,dataSourceManager:this}):e.dataSourceJson?(t=e.dataSourceJson,(r=e).dataSourceManager=this):r={dataSourceJson:t=e,dataSourceManager:this},!t)throw Error("Can not create data source."+e);return this.getDataSource(r.dataSourceJson.id)?Promise.resolve(this.getDataSource(r.dataSourceJson.id)):this.dataSourcesCreatePromise[r.dataSourceJson.id]?this.dataSourcesCreatePromise[r.dataSourceJson.id]:(n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(t.id,o.DataSourceStatus.NotCreated)),this.dataSourcesCreatePromise[r.dataSourceJson.id]=this.createOriginDataSources(r.dataSourceJson).then((function(){return i.createDsObj(r)})).then((function(e){var a=n.getAppStore().getState().dataSourcesPreloadData[r.dataSourceJson.id];return a&&e.setJsonData(a.asMutable()),e.ready().then((function(){return e.fetchSchema()})).then((function(r){i.initSchema(e,r),i.dataSources[t.id]=e,n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(t.id,o.DataSourceStatus.Created));var a=n.getAppStore().getState().dataSourcesInfo[t.id].selectedIds;return a&&a.length>0&&e.selectRecordsByIds(n.getAppStore().getState().dataSourcesInfo[t.id].selectedIds),e}))})).catch((function(r){return console.error("Create datasource error.",e,r),n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(t.id,o.DataSourceStatus.CreateError)),Promise.reject(new o.DataSourceError(t&&t.id,r))})),this.dataSourcesCreatePromise[r.dataSourceJson.id])},e.prototype.createDataSourceByUseDataSource=function(e){var t=this;return this.getAppConfig().dataSources[e.dataSourceId]?this.createDataSource(e.dataSourceId):this.getAppConfig().dataSources[e.rootDataSourceId]?this.createDataSource(e.rootDataSourceId).then((function(r){return t.getDataSource(e.dataSourceId)})):(console.error("Can not find data source:",e.dataSourceId),Promise.reject("Can not find data source:"+e.dataSourceId))},e.prototype.createOriginDataSources=function(e){var t=this;return e.isOutputFromWidget&&e.originDataSources&&e.originDataSources.length>0?Promise.all(e.originDataSources.asMutable().map((function(e){return t.createDataSourceByUseDataSource(e)}))).then((function(){return Promise.resolve()})):Promise.resolve()},e.prototype.initSchema=function(e,t){e.setFetchedSchema(t);var r=e.dataSourceJson.schema;if(e.dataSourceJson.isOutputFromWidget)if(e.dataSourceJson.schema)e.setSchema(e.dataSourceJson.schema);else if(e.dataSourceJson.originDataSources&&e.dataSourceJson.originDataSources.length>0)if(1===e.dataSourceJson.originDataSources.length){var n=this.getDataSource(e.dataSourceJson.originDataSources[0].dataSourceId);e.setSchema(n&&n.getSchema())}else console.error("Datasource created from more than one data source must save the schema in app config.");else console.error("Datasource without origin data source must save the schema in app config.");else{var o=this.mergeSchema(e,r,t);e.setSchema(o)}},e.prototype.mergeSchema=function(e,t,r){if(e.isDataSourceSet){if(!t)return r;var n=t;return Object.keys(r.childSchemas).forEach((function(o){if(e.getReversedConfigSchema().childSchemas[o])e.getReversedConfigSchema().childSchemas[o].forEach((function(t){n=n.setIn(["childSchemas",t.jimuChildId],e.getChildDataSource(t.jimuChildId).getSchema())}));else{if(t.childSchemas[o])return void console.warn("Layer existed, please re-map the data source.",e.id,o);n=n.setIn(["childSchemas",o],r.childSchemas[o])}})),Object.keys(t.childSchemas).forEach((function(e){var n=t.childSchemas[e].childId;r.childSchemas[n]||console.error("Used data is not found.",n)})),n}return this.mergeOneSchema(e,t,r)},e.prototype.mergeOneSchema=function(e,t,r){if(!t)return r;var n=t;return Object.keys(r.fields).forEach((function(o){if(e.getReversedConfigSchema().fields[o])e.getReversedConfigSchema().fields[o].forEach((function(e){n.fields[e.jimuName].alias||(n=n.setIn(["fields",e.jimuName,"alias"],r.fields[o].alias))}));else{if(t.fields[o])return void console.warn("Field name existed, please re-map the data source.",e.id,o);var i=r.fields[o];n=n.setIn(["fields",o],i)}})),Object.keys(t.fields).forEach((function(e){var n=t.fields[e].name;r.fields[n]||console.error("Used field is not found.",n)})),n},e.prototype.createDsObj=function(e){var t,r=this;if(f.indexOf(e.dataSourceJson.type)>-1){try{t=this.createJimuCoreDataSource(e)}catch(t){return console.error("Create data source error.",e.dataSourceJson,t),Promise.reject(t)}return Promise.resolve(t)}var n=a.default.getInstance().getExtensions(s.ExtensionPoints.DataSourceFactoryUri).filter((function(t){return t.getFactoryUri(e.dataSourceJson.type)}))[0];if(!n)return console.error("Unknown data source type:"+e.dataSourceJson.type),Promise.reject(Error("Unknown data source type:"+e.dataSourceJson.type));var o=n.getFactoryUri(e.dataSourceJson.type),i=this.dataSourceFactories[o];if(i){try{t=i.createDataSource(e)}catch(t){return console.error("Create data source error.",e.dataSourceJson,t),Promise.reject(t)}return Promise.resolve(t)}return u.loadModule(o).then((function(n){try{var i=r.dataSourceFactories[o];i||(i=new n.default,r.dataSourceFactories[o]=i),t=i.createDataSource(e)}catch(t){throw console.error("Create data source error.",e.dataSourceJson,t),t}return t}))},e.prototype.getAppConfig=function(){return n.getAppStore().getState().appConfig},e.prototype.createJimuCoreDataSource=function(e){if(e.dataSourceJson.type===o.DataSourceTypes.SimpleLocal)return new o.SimpleLocalDataSource(e);if(e.dataSourceJson.type===o.DataSourceTypes.CSV)return new o.CsvDataSource(e);if(e.dataSourceJson.type===o.DataSourceTypes.FeatureQuery)return new i.FeatureQueryDataSource(e);if(e.dataSourceJson.type===o.DataSourceTypes.FeatureSet)return new l.FeatureSetDataSource(e);throw Error("Unknown data source type:"+e.dataSourceJson.type)},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(n){if(t[n]){if(t[n]&&e[n]&&t[n].label!==e[n].label){var o=r.getDataSource(n);o&&(o.label=t[n].label,o.dataSourceJson=t[n],d((function(){o.addVersion()})))}}else r.destroyDataSource(n)})),window.jimuConfig.isInBuilder&&e&&t&&Object.keys(t).forEach((function(t){var o,i=n.getAppStore().getState();e[t]||(null===(o=i.dataSourcesInfo[t])||void 0===o?void 0:o.instanceStatus)||r.createDataSource(t)}))},e}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38);t.isDeepEqual=n;var o=r(6),i=r(35);t.getValue=i;var a=r(96);function s(e,t){switch(e){case"opened":switch(t){case"opened":return null;case"closed":return"onOpen";case"active":return"onDeActive"}case"closed":switch(t){case"opened":return"onClose";case"closed":return null;case"active":return["onDeActive","onClose"]}case"active":switch(t){case"opened":return"onDeActive";case"closed":return["onOpen","onActive"];case"active":return null}}}t.getWidgetCallbackNamesFromWidgetState=function(e,t){return s(e,t)},t.getPanelCallbackNamesFromPanelState=function(e,t){return s(e,t)},t.isTouchDevice=function(){return"undefined"!=typeof window&&Boolean("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0||window.navigator&&window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch)},t.getBrowserSizeMode=function(e){return e.width<=a.BREAK_POINTS[0]?o.BrowserSizeMode.Small:e.width<=a.BREAK_POINTS[1]?o.BrowserSizeMode.Medium:o.BrowserSizeMode.Large},t.findViewportSize=function(e,t){var r=i(e,"forBuilderAttributes.viewPortSize."+t);return r||(r=i(a.SCREEN_RESOLUTIONS[t],"[1]")),r||{width:0,height:0}},t.findLayoutId=function(e,t,r){return e?e[t]||e[r]:null},t.getSizeModeWidth=function(e){return e===o.BrowserSizeMode.Small?a.BREAK_POINTS[0]:e===o.BrowserSizeMode.Medium?a.BREAK_POINTS[1]:1e5},t.loadstyle=function(e,t){return new Promise((function(r){var n;n=t?document.getElementById(t):document.getElementsByTagName("head")[0];var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),o.onload=function(){r()},n.appendChild(o)}))},t.applyMixins=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(r){e.prototype[r]=t.prototype[r]}))}))},t.isArrayContainSameItems=function(e,t){return e.length===t.length&&(e=e.sort((function(e,t){return e>t?-1:1})),t=t.sort((function(e,t){return e>t?-1:1})),n(e,t))};var u=/([A-Z])/g,c=/^ms-/;function l(e){return e.replace(u,"-$1").toLowerCase().replace(c,"-ms-")}t.hyphenateStyleName=l,t.styleObjectToString=function(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];null!=n&&(t?t+=";"+l(r)+":"+n:t=l(r)+":"+n)}return t||""},t.isWidgetSupportSSR=function(e,t,r){var n=e.widgets[t];return(!n.manifest.dependency||!("jimu-arcgis"===n.manifest.dependency||n.manifest.dependency.indexOf("jimu-arcgis")>-1))&&!(n.useDataSourcesEnabled&&n.useDataSources&&n.useDataSources.filter((function(t){var o=e.dataSources&&e.dataSources[t.dataSourceId];return o||(o=e.dataSources&&e.dataSources[t.rootDataSourceId]),o&&r.indexOf(o.type)>-1&&n.manifest.properties.autoBindDataSource})).length>0)},t.tryGet=function(e,t,r){void 0===t&&(t=1e3),void 0===r&&(r=100);var n=(new Date).getDate();return new Promise((function(o,i){!function o(i){var a=(new Date).getDate(),s=e();if(s)i(null,s);else{if(n+t>=a)return void i("Timeout",null);setTimeout((function(){o(i)}),r)}}((function(e,t){e?i(e):o(t)}))}))},t.getUID=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t.getUUID=function(){return t.getUID()+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+t.getUID()+t.getUID()},t.calculateDigits=function(e){return e.toString().indexOf(".")<0?0:e.toString().split(".")[1].length},t.getOverlayUniqueId=function(e,t){var r=new RegExp("^"+e+"\\_(\\d+)$"),n=-1;return t.forEach((function(e){var t=e.match(r);t&&(n=Math.max(n,parseInt(t[1],10)))})),e+"_"+(n+1)},t.replaceI18nPlaceholdersInObject=function e(t,r,n){var o=/\$\{\w*\}/g,i=function(i){if("string"==typeof t[i]){var a=t[i].match(o);if(a&&a.length>0){var s=t[i];a.forEach((function(e){var t=e.substring(2,e.length-1),o=r.formatMessage({id:t,defaultMessage:n&&n[t]});s=s.replace(e,o)})),t[i]=s}}else"object"==typeof t[i]&&e(t[i],r,n)};for(var a in t)i(a);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37),o=r(6),i=r(12),a=r(4),s=r(30);function u(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function c(e){return/(^http:)|(^https:)|(^\/\/)/.test(e)}function l(e){if(e||(e=window.location),window.jimuConfig.useStructuralUrl)return d(e.pathname);var t=n.parse(e.search);return{appId:t.id,pageId:t.page}}function d(e){void 0===e&&(e=window.location.pathname);var t=e.substr(window.jimuConfig.rootPath.length),r={pageId:null,appId:null},n=t.split("/").filter((function(e){return e}));return""===t?r:1===n.length?t.indexOf(".")>-1||"page"===n[0]?r:(r.appId=n[0],r):2===n.length?/^page\/page\//.test(t)?(r.pageId="page",r):/^page/.test(t)?(r.pageId=n[1],r):(r.appId=n[0],r):n.length>=3?(r.appId=n[0],r.pageId=n[2],r):(console.log("URL pattern is not correct.",e),r)}function f(e){if(window.jimuConfig.useStructuralUrl){var t=d();return{path:t.appId?""+window.jimuConfig.rootPath+t.appId+"/page/"+e+"/":window.jimuConfig.rootPath+"page/"+e+"/",qo:null}}return{path:window.jimuConfig.rootPath,qo:{page:e}}}function p(e,t){var r,o=f(e);return(r=t&&o.qo?Object.assign({},t,o.qo):t||o.qo)&&!i.isDeepEqual(r,{})?o.path+"?"+n.stringify(r):o.path}function h(){return window.jimuConfig.packagesInAppFolder?window.jimuConfig.rootPath:window.jimuConfig.rootPath+"../"}function g(e,t){var r=u(t);return"/"===r.pathname.charAt(0)?r:""===r.pathname?(r.pathname=e.pathname,r):"."===r.pathname.charAt(0)?(r.pathname=e.pathname+"/"+r.pathname.substr(2),r):(r.pathname=e.pathname+"/"+r.pathname,r)}function m(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function y(e){var t;return 0===(e=e.toLowerCase()).indexOf("https://")?t="https:":0===e.indexOf("http://")&&(t="http:"),t}function v(e,t){return y(e)?e.replace(/^https?:\/\//,t+"//"):t+"//"+e}t.parsePath=u,t.isAbsoluteUrl=c,t.getDataSourceInfosFromQueryObject=function(e){var t={};if(e.data_index)e.data_index.split(",").forEach((function(r){var n=r.split(":"),o=n[0],i=n[1],a={selectionType:"index",selection:[]};i?(i.split("+").forEach((function(t){var r=t.split("-");if(1===r.length)a.selection.push(parseInt(r[0]));else if(2===r.length)for(var n=parseInt(r[0]),o=parseInt(r[1]),i=n;i<=o;i++)a.selection.push(i);else console.error("Bad URL format:",e.data_index)})),t[o]=a):t[o]=a}));else if(e.data_id){e.data_id.split(",").forEach((function(e){var r=e.split(":"),n=r[0],o=r[1],i={selectionType:"id",selection:[]};o?(o.split("+").forEach((function(e){i.selection.push(e)})),t[n]=i):t[n]=i}))}return t},t.getAppIdPageIdFromUrl=l,t.parseAppPath=d,t.getPageLink=f,t.getPageLinkUrl=p,t.getFolder=function(e){if(/\/$/.test(e))return e;if(!([".js",".css",".scss",".html"].filter((function(t){return new RegExp(t+"$").test(e)})).length>0))return e;var t=e.split("/");return t.pop(),t.join("/")},t.getFixedRootPath=h,t.getAbsoluteRootUrl=function(){return window.location.protocol+"//"+window.location.host+h()},t.createLocation=g,t.createHref=m,t.getHrefFromLinkTo=function(e,t,r){var i;if(void 0===r&&(r=window.location),"string"==typeof e)return c(e)?e:/^www./.test(e)?"//"+e:m(g(r,e));if(!e.linkType)return m(e);var u,l=e.linkType,d=e,f=t;switch(l){case o.LinkType.Page:return p(d.value,t);case o.LinkType.Dialog:f=f?f.set("dlg",d.value):{dlg:d.value},u=g(r,"?"+n.stringify(f));break;case o.LinkType.View:var h=d.value.split(",")[0],y=d.value.split(",").slice(1),v=a.getAppStore().getState().appConfig;if(null===(i=f)||void 0===i?void 0:i.views){var b=f.views.split(",");y.forEach((function(e){(b=b.filter((function(t){return!s.isTwoViewsInSaveSection(v,e,t)}))).push(e)})),f=f.set("views",b.join(","))}else f=f?f.set("views",y.join(",")):{views:y.join(",")};return p(h,f);case o.LinkType.WebAddress:var S=d.value;if(c(S))return S;if(/^www./.test(S))return"//"+S;case o.LinkType.None:return null;default:console.error("Unknown type:",l)}return u?m(u):void 0},t.getLinkResultFromHref=function(e){if(!e)return{linkType:o.LinkType.None};if(/^http/.test(e))return{linkType:o.LinkType.WebAddress,value:e};var t=u(e),r=l(t).pageId,i=n.parse(t.search);return i.views?{linkType:o.LinkType.View,value:r+","+i.views}:i.dlg?{linkType:o.LinkType.Dialog,value:i.dlg}:{linkType:o.LinkType.Page,value:r}},t.updateQueryStringParameter=function(e,t,r){if(!r)return e;var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+r+"$2"):e+o+t+"="+r},t.getProtocol=y,t.setProtocol=v,t.setLocationProtocal=function(e){return v(e,window.location.protocol)},t.getUrlHost=function(e){return 0===(e=(e=(e||"").trim()).replace(/^(http(s?):?)\/\//gi,"")).indexOf("//")&&(e=e.slice(2)),e.split("/")[0]},t.removeSearchFromUrl=function(e){return(e=(e||"").trim()).split("?")[0]},t.normalize=function(e){return new URL(e).href}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,u=r(4),c=r(5),l=r(55),d=r(75),f=r(6),p=r(10),h=r(56),g=r(12);!function(e){e.NotCreated="NOT_CREATED",e.Created="CREATED",e.CreateError="CREATE_ERROR",e.Unloaded="UNLOADED",e.Loading="LOADING",e.Loaded="LOADED",e.LoadError="LOAD_ERROR",e.Saving="SAVING",e.Saved="SAVED",e.SaveError="SAVE_ERROR",e.Closed="CLOSED",e.Connecting="CONNECTING",e.Connected="CONNECTED",e.Closing="CLOSING"}(i=t.DataSourceStatus||(t.DataSourceStatus={})),function(e){e.SimpleLocal="SIMPLE_LOCAL",e.CSV="CSV",e.FeatureQuery="FEATURE_QUERY",e.FeatureSet="FEATURE_SET"}(a=t.DataSourceTypes||(t.DataSourceTypes={})),function(e){e.InAllData="IN_ALL_DATA",e.InConfigView="IN_CONFIG_VIEW",e.InRuntimeView="IN_RUNTIME_VIEW"}(s=t.QueryScope||(t.QueryScope={}));var m=function(){function e(e){var t=e.dataSourceJson,r=e.parentDataSource,n=e.dataSourceManager;e.childId,e.jimuChildId;this.isDataSourceSet=!1,this.records=[],this.id=t.id,this.label=t.label,this.type=t.type,this.schema=t.schema,this.dataSourceJson=t,this.parentDataSource=r,this.dataSourceManager=n}return e.prototype.getSchema=function(){return this.schema},e.prototype.setSchema=function(e){this.schema=e},e.prototype.fetchSchema=function(){return Promise.resolve(p({}))},e.prototype.getFetchedSchema=function(){return this.fetchedSchema},e.prototype.setFetchedSchema=function(e){this.fetchedSchema=e},e.prototype.getGeometryType=function(){return null},e.prototype.getReversedConfigSchema=function(){var e=this;if(this.reverseSchema)return this.reverseSchema;if(this.isDataSourceSet){var t=this.dataSourceJson.schema,r={childSchemas:{}};if(!t)return p({});if(!t.childSchemas)return p({label:t.label,childId:t.childId,jimuChildId:t.jimuChildId});Object.keys(t.childSchemas).forEach((function(n){var o=t.childSchemas[n].childId;r.childSchemas[o]?r.childSchemas[o].push(e.getOneReversedConfigSchema(t.childSchemas[n])):r.childSchemas[o]=[e.getOneReversedConfigSchema(t.childSchemas[n])]})),this.reverseSchema=p(r)}else this.reverseSchema=this.getOneReversedConfigSchema(this.dataSourceJson.schema);return this.reverseSchema},e.prototype.setRecords=function(e){this.records=e,this.addVersion()},e.prototype.setJsonData=function(e){console.error("please implement this. setJsonData")},e.prototype.getOneReversedConfigSchema=function(e){var t={};return e?(t.fields={},Object.keys(e.fields).forEach((function(r){var n=e.fields[r].asMutable({deep:!0});t.fields[n.name]?t.fields[n.name].push(n):t.fields[n.name]=[n]})),e.childId&&(t.childId=e.childId),e.jimuChildId&&(t.jimuChildId=e.jimuChildId),p(t)):p(t)},e.prototype.getStatus=function(){return u.getAppStore().getState().dataSourcesInfo[this.id]&&u.getAppStore().getState().dataSourcesInfo[this.id].status},e.prototype.setStatus=function(e){u.getAppStore().dispatch(c.dataSourceStatusChanged(this.id,e))},e.prototype.getCountStatus=function(){return u.getAppStore().getState().dataSourcesInfo[this.id]&&u.getAppStore().getState().dataSourcesInfo[this.id].countStatus},e.prototype.setCountStatus=function(e){u.getAppStore().dispatch(c.dataSourceCountStatusChanged(this.id,e))},e.prototype.getVersion=function(){return u.getAppStore().getState().dataSourcesInfo[this.id].version},e.prototype.addVersion=function(){u.getAppStore().dispatch(c.dataSourceVersionAdded(this.id))},e.prototype.getRecords=function(){return this.records},e.prototype.getSelectedRecords=function(){var e=this;return this.getSelectedRecordIndexes().map((function(t){return e.records[t]})).filter((function(e){return e}))},e.prototype.getSelectedRecordIndexes=function(){var e=this;return u.getAppStore().getState().dataSourcesInfo[this.id]?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes.asMutable():u.getAppStore().getState().dataSourcesInfo[this.id].selectedIds?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIds.asMutable().map((function(t){return e.records.findIndex((function(e){return e.getId()==t}))})):[]:[]},e.prototype.getSelectedRecordIds=function(){var e=this;return u.getAppStore().getState().dataSourcesInfo[this.id]?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIds?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIds.asMutable():u.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes?u.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes.asMutable().map((function(t){return e.records[t].getId()})):[]:[]},e.prototype.nextRecord=function(){if(this.getSelectedRecordIndexes().length>1)return console.warn('method "nextRecord" only works when single record is selected'),null;if(this.getSelectedRecordIndexes().indexOf(this.records.length-1))throw Error("Reach the end of data.");return u.getAppStore().dispatch(c.dataSourceSelectedIndexesChanged(this.id,[this.getSelectedRecordIndexes()[0]++])),this.getSelectedRecords()[0]},e.prototype.prevRecord=function(){if(this.getSelectedRecordIndexes().length>1)return console.warn('method "prevRecord" only works when single record is selected'),null;if(this.getSelectedRecordIndexes().indexOf(0))throw Error("Reach the start of data.");return u.getAppStore().dispatch(c.dataSourceSelectedIndexesChanged(this.id,[this.getSelectedRecordIndexes()[0]--])),this.getSelectedRecords()[0]},e.prototype.getRecord=function(e){return this.records[e]},e.prototype.getRecordById=function(e){return this.records.filter((function(t){return t&&t.getId()===e}))[0]},e.prototype.selectRecord=function(e){u.getAppStore().dispatch(c.dataSourceSelectedIndexesChanged(this.id,[e])),this.changeUrlByIndexes([e])},e.prototype.selectRecords=function(e){u.getAppStore().dispatch(c.dataSourceSelectedIndexesChanged(this.id,e)),this.changeUrlByIndexes(e)},e.prototype.selectRecordById=function(e,t){!this.getRecordById(e)&&t&&this.records.push(t),u.getAppStore().dispatch(c.dataSourceSelectedIdsChanged(this.id,[e])),this.changeUrlByIds([e])},e.prototype.selectRecordsByIds=function(e,t){var r=this;e.forEach((function(e){if(!r.getRecordById(e)&&t){var n=t.find((function(t){return t.getId()===e}));n&&r.records.push(n)}})),u.getAppStore().dispatch(c.dataSourceSelectedIdsChanged(this.id,e)),this.changeUrlByIds(e)},e.prototype.getInfo=function(){return u.getAppStore().getState().dataSourcesInfo[this.id]},e.prototype.clearData=function(){this.selectRecords([]),this.records=[]},e.prototype.getIdField=function(){return this.getSchema()&&this.getSchema().idField||"id"},e.prototype.getFullChildDataSourceId=function(e){return this.isDataSourceSet?this.id+"-"+e:(console.error("Valid for data source set only."),null)},e.prototype.getChildDataSources=function(){var e=this;return this.isDataSourceSet?Object.keys(this.dataSourceManager.getDataSources()).filter((function(t){return e.dataSourceManager.getDataSource(t).parentDataSource===e})).map((function(t){return e.dataSourceManager.getDataSource(t)})):(console.error("Valid for data source set only."),null)},e.prototype.getChildDataSource=function(e){return this.isDataSourceSet?this.dataSourceManager.getDataSource(this.getFullChildDataSourceId(e)):(console.error("Valid for data source set only."),null)},e.prototype.getJimuChildId=function(e){if(!this.isDataSourceSet)return console.error("Valid for data source set only."),null;var t=this.getReversedConfigSchema();return t&&t.childSchemas&&t.childSchemas[e]?t.childSchemas[e].map((function(e){return e.jimuChildId})).asMutable():[e]},e.prototype.getRootDataSource=function(){for(var e=this.parentDataSource;e&&e.parentDataSource;)e=e.parentDataSource;return e},e.prototype.ready=function(){return Promise.resolve({})},e.prototype.getOriginDataSources=function(){var e=this;return this.dataSourceJson.originDataSources&&0!==this.dataSourceJson.originDataSources.length?this.dataSourceJson.originDataSources.asMutable().map((function(t){return e.dataSourceManager.getDataSource(t.dataSourceId)})):[]},e.prototype.destroy=function(){},e.prototype.changeUrlByIndexes=function(e){this.changeUrl({indexes:e,ids:null})},e.prototype.changeUrlByIds=function(e){this.changeUrl({indexes:null,ids:e})},e.prototype.changeUrl=function(e){var t,r=this,n=e.indexes,o=e.ids,i=this.getNewUrlStr({indexes:n,ids:o}),a=n?u.getAppStore().getState().queryObject.data_index:u.getAppStore().getState().queryObject.data_id,s=[];a&&(s=a.split(","));var c=[],d=!1;s.forEach((function(e){e.split(":")[0]===r.id?(c.push(i),d=!0):c.push(e)})),d||c.push(i),l.changeQueryObject(((t={})[n?"data_index":"data_id"]=c.join(","),t),!0)},e.prototype.getNewUrlStr=function(e){var t=e.indexes,r=e.ids;return t?1===t.length?this.id+":"+t[0]:this.id+":"+t.join("+"):r?1===r.length?this.id+":"+r[0]:this.id+":"+r.join("+"):void 0},e}();t.AbstractDataSource=m,function(e){e.ByQueryParam="BY_QUERY_PARAM",e.ById="BY_ID"}(t.QueryType||(t.QueryType={}));var y=function(e){function t(t){var r=e.call(this,t)||this;return r.url=t.dataSourceJson.url,r.setStatus(i.Unloaded),r}return o(t,e),t.prototype.getCurrentQueryParams=function(){return this.currentQueryParams},t.prototype.getCurrentQueryId=function(){return this.queryId},t.prototype.getResultFields=function(){return this.resultFields},t.prototype.getRealQueryParams=function(e,t,r){return"query"===t?r&&r.scope?r.scope===s.InAllData?e:r.scope===s.InConfigView?this.getConfigQueryParams()?this.mergeQueryParams(this.getConfigQueryParams(),e):e:r.scope===s.InRuntimeView?this.currentQueryParams?this.mergeQueryParams(this.currentQueryParams,e):this.getConfigQueryParams()?this.mergeQueryParams(this.getConfigQueryParams(),e):e:e:this.currentQueryParams?this.mergeQueryParams(this.currentQueryParams,e):this.getConfigQueryParams()?this.mergeQueryParams(this.getConfigQueryParams(),e):e:this.getConfigQueryParams()?this.mergeQueryParams(this.getConfigQueryParams(),e):e},t.prototype.load=function(e){var t=this,r=this.getRealQueryParams(e,"load");return this.currentQueryParams=r,this.setStatus(i.Loading),this.doQuery(r).then((function(e){g.isDeepEqual(e.queryParams,r)&&(t.records=e.records,t.resultFields=e.fields,t.setStatus(i.Loaded),window.isNode&&u.getAppStore().dispatch(c.setDataSourcePreloadData(t.id,t.records.map((function(e){return e.toJson()})))))}),(function(e){console.error(e),t.setStatus(i.LoadError)}))},t.prototype.loadCount=function(e){var t=this,r=e?this.getRealQueryParams(e,"load"):this.currentQueryParams;return this.setCountStatus(i.Loading),this.doQueryCount(r).then((function(e){g.isDeepEqual(e.queryParams,r)&&(t.count=e.count,t.setCountStatus(i.Loaded))}),(function(e){console.error(e),t.setCountStatus(i.LoadError)}))},t.prototype.query=function(e,t){var r=this.getRealQueryParams(e,"query",t);return this.doQuery(r)},t.prototype.queryCount=function(e,t){var r=this.getRealQueryParams(e,"query",t);return this.doQueryCount(r)},t.prototype.loadById=function(e){var t=this;return this.queryId=e,this.setStatus(i.Loading),this.doQueryById(e).then((function(e){return t.records=e?[e]:[],t.setStatus(i.Loaded),window.isNode&&u.getAppStore().dispatch(c.setDataSourcePreloadData(t.id,[e.toJson()])),e}),(function(e){return console.error(e),t.setStatus(i.LoadError),null}))},t.prototype.queryById=function(e){return this.doQueryById(e)},t.prototype.selectRecordById=function(t,r){var n=this;e.prototype.selectRecordById.call(this,t,r),0===this.getSelectedRecords().length&&this.queryById(t).then((function(e){e&&(n.records.push(e),n.addVersion())}))},t.prototype.selectRecordsByIds=function(t,r){var n=this;e.prototype.selectRecordsByIds.call(this,t,r),t.forEach((function(e){n.getRecordById(e)||n.queryById(e).then((function(e){e&&(n.records.push(e),n.addVersion())}))}))},t.prototype.addRecord=function(e){var t=this;return this.setSaveStatus(i.Saving),this.doAdd(e).then((function(e){return t.records.push(e),t.setSaveStatus(i.Saved),e}))},t.prototype.updateRecord=function(e){var t=this;return this.setSaveStatus(i.Saving),this.doUpdateRecord(e).then((function(e){var r=t.records.findIndex((function(t){return t.getId()===e.getId()}));return t.records.splice(r,1,e),t.setSaveStatus(i.Saved),e}))},t.prototype.deleteRecord=function(e){var t=this;return this.setSaveStatus(i.Saving),this.doDeleteRecord(e).then((function(){t.records.splice(e,1),t.setSaveStatus(i.Saved)}))},t.prototype.getSaveStatus=function(){return u.getAppStore().getState().dataSourcesInfo[this.id].saveStatus},t.prototype.setSaveStatus=function(e){u.getAppStore().dispatch(c.dataSourceSaveStatusChanged(this.id,e))},t.prototype.loadFromLocal=function(e){var t=this;return this.setStatus(i.Loading),this.queryFromLocal(e).then((function(e){return t.records=e,t.setStatus(i.Loaded),t.records}))},t}(m);t.AbstractQueriableDataSource=y;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.load=function(){var e=this;return this.setStatus(i.Loading),this.doLoad().then((function(t){return e.records=t,e.setStatus(i.Loaded),e.records}))},t.prototype.loadFromLocal=function(){var e=this;return this.doLoadFromLocal?(this.setStatus(i.Loading),this.doLoadFromLocal().then((function(t){return e.records=t,e.setStatus(i.Loaded),e.records}))):Promise.resolve([])},t}(m);t.AbstractLoadableDataSource=v;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateAllRecoreds=function(e){this.records=e,this.addVersion()},t.prototype.addRecord=function(e){return e.getId()||e.setId(d()),this.records.push(e),this.addVersion(),e},t.prototype.updateRecord=function(e){var t=this.records.findIndex((function(t){return t.getId()===e.getId()}));this.records.splice(t,1,e),this.addVersion()},t.prototype.deleteRecord=function(e){this.records.splice(e,1),this.addVersion()},t}(m);t.SimpleLocalDataSource=b;var S=function(e){function t(t,r){var n=e.call(this,r)||this;return n.dataSourceId=t,n}return o(t,e),t}(Error);t.DataSourceError=S;var w=function(){function e(){}return e.prototype.getFieldValue=function(e){return this.getData()[e]},e.prototype.getFormattedFieldValue=function(e,t){var r=this.dataSource.getSchema().fields[e];if(!r)return this.getFieldValue(e);if(r.format)switch(r.type){case f.JimuFieldType.Date:return this.formatDateField(this.getFieldValue(e),r.format.dateFormat,t);case f.JimuFieldType.Number:return this.formatNumberField(this.getFieldValue(e),r.format.places,r.format.digitSeparator,t);default:return this.getFieldValue(e)}else switch(r.type){case f.JimuFieldType.Date:return this.getFieldValue(e)?t.formatDate(this.getFieldValue(e)):null;case f.JimuFieldType.Number:return this.getFieldValue(e)?t.formatNumber(this.getFieldValue(e)):null;default:return this.getFieldValue(e)}},e.prototype.convertBeforeMappingDataToData=function(e){var t={},r=this.dataSource.getReversedConfigSchema();return Object.keys(e).forEach((function(n){var o=r&&r.fields&&r.fields[n];o?o.forEach((function(r){t[r.jimuName]=e[n]})):t[n]=e[n]})),t},e.prototype.convertDataToDataBeforeMapping=function(e){var t={},r=this.dataSource.getSchema();return Object.keys(e).forEach((function(n){var o=r&&r.fields&&r.fields[n]?r.fields[n].name:n;t[o]=e[n]})),t},e.prototype.getFormattedData=function(e){var t=this,r={};return Object.keys(this.getData()).forEach((function(n){r[n]=t.getFormattedFieldValue(n,e)})),r},e.prototype.formatDateField=function(e,t,r){if(!e)return null;"number"==typeof e&&(e=new Date(e));var n=h.ESRI_DATE_FORMAT_MAP[t];if(!n)return console.warn("Invalid data format "+t),null;var o=h.formatDate(e,n.datePattern,r);if("date and time"===n.selector){var i=h.formatTime(e,n.timePattern,r),a=r.locale||"en";o=o+(h.DATE_TIME_CONNECTOR[a]||h.DATE_TIME_CONNECTOR.common)+i}return o},e.prototype.formatNumberField=function(e,t,r,n){if(null===e||void 0===typeof e)return null;var o=new Number(e);return r?n.formatNumber(e,{maximumFractionDigits:t,minimumFractionDigits:t}):o.toFixed(t)},e}();t.AbstractDataRecord=w;var I=function(e){function t(t,r,n){void 0===n&&(n=!0);var o=e.call(this)||this;return o.dataSource=r,o.data=n?o.convertBeforeMappingDataToData(t):t,o}return o(t,e),t.prototype.getData=function(){return this.data},t.prototype.getDataBeforeMapping=function(){return this.convertDataToDataBeforeMapping(this.data)},t.prototype.toJson=function(){return this.data},t.prototype.getId=function(){return this.data.id},t.prototype.setId=function(){},t.prototype.getGeometry=function(){return null},t}(w);t.SimpleDataRecord=I;var _=function(e){Object.assign(this,e)};t.SimpleDataRecordSet=_;var O=function(e){function t(t){var r=e.call(this,t)||this;return r.type=a.CSV,t.dataSourceJson.data?(r.records=t.dataSourceJson.data.asMutable().map((function(e){return new I(e,r)})),r.setStatus(i.Loaded)):r.url=t.dataSourceJson.url,r}return o(t,e),t.prototype.doLoad=function(){var e=this;return fetch(this.url).then((function(e){return e.json()})).then((function(t){return t.map((function(t){return new I(t,e)}))}))},t}(v);t.CsvDataSource=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(48),i=r(144),a=r(49),s=r(147),u=r(77),c=r(77);function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.css=c.default;var d="undefined"!=typeof document,f=n.createContext(d?o.default():null),p=n.createContext({});t.ThemeContext=p;var h=f.Provider;t.CacheProvider=h;var g=function(e){return n.forwardRef((function(t,r){return n.createElement(f.Consumer,null,(function(n){return e(t,n,r)}))}))};if(t.withEmotionCache=g,!d){var m=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n)||this).state={value:o.default()},i}return l(t,e),t.prototype.render=function(){return n.createElement(f.Provider,this.state,this.props.children(this.state.value))},t}(n.Component);t.withEmotionCache=g=function(e){return function(t){return n.createElement(f.Consumer,null,(function(r){return null===r?n.createElement(m,null,(function(r){return e(t,r)})):e(t,r)}))}}}var y="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v=Object.prototype.hasOwnProperty,b=function(e,t,r,o){var s=t[y],u=[],c="",l=null===r?t.css:t.css(r);"string"==typeof l&&void 0!==e.registered[l]&&(l=e.registered[l]),u.push(l),void 0!==t.className&&(c=i.getRegisteredStyles(e.registered,u,t.className));var f=a.serializeStyles(u),p=i.insertStyles(e,f,"string"==typeof s);c+=e.key+"-"+f.name;var h={};for(var g in t)v.call(t,g)&&"css"!==g&&g!==y&&(h[g]=t[g]);h.ref=o,h.className=c;var m=n.createElement(s,h);if(!d&&void 0!==p){for(var b,S=f.name,w=f.next;void 0!==w;)S+=" "+w.name,w=w.next;return n.createElement(n.Fragment,null,n.createElement("style",((b={})["data-emotion-"+e.key]=S,b.dangerouslySetInnerHTML={__html:p},b.nonce=e.sheet.nonce,b)),m)}return m},S=g((function(e,t,r){return"function"==typeof e.css?n.createElement(p.Consumer,null,(function(n){return b(t,e,n,r)})):b(t,e,null,r)}));t.jsx=function(e,t){var r=arguments;if(null==t||null==t.css)return n.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=S;var a={};for(var s in t)v.call(t,s)&&(a[s]=t[s]);a[y]=e,i[1]=a;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)};var w=g((function(e,t){var r=e.styles;if("function"==typeof r)return n.createElement(p.Consumer,null,(function(e){var o=a.serializeStyles([r(e)]);return n.createElement(I,{serialized:o,cache:t})}));var o=a.serializeStyles([r]);return n.createElement(I,{serialized:o,cache:t})}));t.Global=w;var I=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}l(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new s.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&i.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){if(!d){for(var e,t=this.props.serialized,r=t.name,o=t.styles,i=t.next;void 0!==i;)r+=" "+i.name,o+=i.styles,i=i.next;var a=this.props.cache.insert("",{name:r,styles:o},this.sheet,!1);return n.createElement("style",((e={})["data-emotion-"+this.props.cache.key]=r,e.dangerouslySetInnerHTML={__html:a},e.nonce=this.props.cache.sheet.nonce,e))}return null},t}(n.Component);t.keyframes=function(){var e=u.default.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var _=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function O(e,t,r){var n=[],o=i.getRegisteredStyles(e,n,r);return n.length<2?r:o+t(n)}var E=g((function(e,t){return n.createElement(p.Consumer,null,(function(r){var o,s="",u="",c=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=a.serializeStyles(r,t.registered);if(d)i.insertStyles(t,o,!1);else{var c=i.insertStyles(t,o,!1);void 0!==c&&(s+=c)}return d||(u+=" "+o.name),t.key+"-"+o.name},l={css:c,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return O(t.registered,c,_(r))},theme:r},f=e.children(l);return!0,d||0===s.length?f:n.createElement(n.Fragment,null,n.createElement("style",((o={})["data-emotion-"+t.key]=u.substring(1),o.dangerouslySetInnerHTML={__html:s},o.nonce=t.sheet.nonce,o)),f)}))}));t.ClassNames=E},function(e,t,r){"use strict";function n(e){var t="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)})(e)}function o(e,t,r){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,r;function n(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(n(Error));t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=r(6);function i(e){return n.getUrlHost(e).toLowerCase().indexOf(".arcgis.com")>=0}function a(e){var t=n.getUrlHost(e).toLowerCase();return"www.arcgis.com"===t||"arcgis.com"===t}function s(e){var t=n.getUrlHost(e);return""===t?"":i(t)?(a(t)&&(t="www.arcgis.com"),n.setLocationProtocal(t)):(e=(e||"").trim().replace(/sharing(.*)/gi,"").replace(/\/*$/g,""),n.setLocationProtocal(e))}function u(e){var t="",r=s(e);return r&&(t=r+"/sharing/rest/content/items"),t}function c(e){var t="",r=s(e);return r&&(t=r+"/sharing/rest/community/users"),t}function l(e){var t="";return e&&(t=(e=s(e))+"/sharing/rest/content"),t}function d(e,t,r){var n="",o="";return e&&t&&(n=l(e),o=r?n+"/users/"+t+"/"+r:n+"/users/"+t),o}function f(e,t,r){var n="";return e&&t&&(n=d(e,t,r)+"/items"),n}t.getPortalSelfInfoUrl=function(e){var t="",r=e||"";return(r=s(r))&&(t=r+"/sharing/rest/portals/self"),t},t.getPortalUrlFromLocation=function(){var e=window.location.protocol+"//"+window.location.host+function(){var e=window.location.href.split("?")[0],t=e.indexOf("/home/");t<0&&(t=e.indexOf("/apps/"));var r=e.substring(e.indexOf(window.location.host)+window.location.host.length+1,t);"/"!==r&&(r="/"+r+"/");return r}();return e.substr(0,e.length-1)},t.getPortalRestUrl=function(e){return/\/$/.test(e)?e+"sharing/rest/":e+"/sharing/rest/"},t.getPortalUrlFromRestUrl=function(e){var t=/\/$/.test(e)?"/sharing/rest/":"/sharing/rest";return e.substr(0,e.length-t.length)},t.isSamePortalUrl=function(e,t){var r=/^http(s?):\/\//gi,n=/^\/\//gi;return(e=s(e).toLowerCase().replace(r,"").replace(n,""))===(t=s(t).toLowerCase().replace(r,"").replace(n,""))},t.getRootDomain=function(e){var t,r,o="";return(t=n.getUrlHost(e))&&null!==(r=(t=t.replace(/:\d+$/,"")).match(/[^.]\w+\.\w+$/))&&(o=r[0],/^\d+\.\d+$/.test(o)&&(o="")),o},t.isAGOLDomain=i,t.isAGOLProduction=a,t.getStandardPortalUrl=s,t.getBaseItemUrl=u,t.getItemUrl=function(e,t){var r="",n=u(e);return n&&t&&(r=n+"/"+t),r},t.getBaseUserUrl=c,t.getUserUrl=function(e,t){var r="",n=c(e);return e&&t&&(r=n+"/"+t),r},t.getContentUrl=l,t.getUserContentUrl=d,t.getUserItemsUrl=f,t.shareItemUrl=function(e,t,r,n){var o="";return e&&t&&(o=f(e,t,n)+"/"+r+"/share"),o},t.getHomeIndexUrl=function(e){var t="",r=s(e);return r&&(t=r+"/home/index.html"),t},t.getHomeMapViewerUrl=function(e,t){var r="",n=s(e);return n&&(r=n+"/home/webmap/viewer.html",r+=t?"?webmap="+t:"?useExisting=1"),r},t.fixPortalUrlProtocol=function(e){var t=window.location.protocol,r=n.getProtocol(e);return n.getProtocol(e)?t!==r&&t===o.UrlProtocol.Https?n.setProtocol(e,o.UrlProtocol.Https):e:n.setProtocol(e,t)},t.getPortalProxyUrl=function(e){return e+"/sharing/proxy"},t.getHostUrlByOrgUrl=function(e){if(e.indexOf("arcgis.com")>-1){var t=e.toLowerCase(),r=n.getUrlHost(t),o=n.getProtocol(e),i=r.split("."),a=i[0];i.splice(0,1);var s=i.join("."),u=void 0;return"devext"===a||"mapsdevext.arcgis.com"===s?u="devext.arcgis.com":"qaext"===a||"mapsqa.arcgis.com"===s?u="qaext.arcgis.com":"www"!==a&&"maps.arcgis.com"!==s||(u="www.arcgis.com"),u=u&&(o?o+"//":"")+u}return e}},function(e,t,r){"use strict";function n(e){return Object.keys(e).some((function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function o(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n&&n.toParam&&(n=n.toParam()),n||0===n||"boolean"==typeof n||"string"==typeof n){var o;switch(n.constructor.name){case"Array":o=n[0]&&n[0].constructor&&"Object"===n[0].constructor.name?JSON.stringify(n):n.join(",");break;case"Object":o=JSON.stringify(n);break;case"Date":o=n.valueOf();break;case"Function":o=null;break;case"Boolean":o=n+"";break;default:o=n}(o||0===o||"string"==typeof o)&&(t[r]=o)}})),t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(14),i=r(12),a=["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"];function s(e){return a.indexOf(e)>-1}function u(e,t){var r=null;return e&&e.length>0&&e.some((function(e){return e.name===t&&(r=e,!0)})),r}function c(e,t,r){var n,o=r[t],i=e.typeIdField;r.hasOwnProperty(i)&&(n=r[i]);var a=u(e.fields,t),s=f(o,null!=n?p(e,t,n,a):g(e,a));if(e.typeIdField===t){var c=[{value:r[t],label:s.displayValue}];s.displayValue=m(e,c)[0].label}return s}function l(e){return m(e,function(e){var t=null;return e.typeIdField&&e.types&&e.types.length>0&&(t=[],Object.keys(e.types).map((function(r){t.push({value:e.types[r].id,label:e.types[r].name})}))),t}(e))}function d(e){var t=null,r=e.domain;return r&&"codedValue"===r.type&&r.codedValues&&r.codedValues.length>0&&(t=[],r.codedValues.map((function(e){t.push({value:e.code,label:e.name})}))),t}function f(e,t){var r={isCodedValueOrSubtype:!1,displayValue:e+""};return t&&t.length>0&&t.some((function(t){return t.value===e&&(r={isCodedValueOrSubtype:!0,displayValue:t.label},!0)})),Object.assign(r,{value:e})}function p(e,t,r,n){var o=null;return n=n||u(e.fields,t),e.typeIdField&&e.types&&e.types.length>0?(e.types.some((function(i){if(i.id===r){if(t===e.typeIdField)o=[{value:i.id,label:i.name}];else if(i.domains&&i.domains[t]){var a=i.domains[t];"inherited"===a.type?o=d(n):a.codedValues&&a.codedValues.length>0&&(o=[],a.codedValues.map((function(e){o.push({value:e.code,label:e.name})})))}else i.domains&&(o=d(n));return!0}})),o||(o=d(n))):o=d(n),o}function h(e,t,r){return e[t]?r===e[t]||(e[t]=e[t]+", "+r):e[t]=r,e}function g(e,t){var r=t.name,n={},o=null,i=!0;e.typeIdField&&e.types&&e.types.length>0?(Object.keys(e.types).map((function(o){var a=e.types[o];if(a.domains&&a.domains[r]){var s=a.domains[r];if("inherited"===s.type){if(i)i=!1,d(t).map((function(e){n=h(n,e.value,e.label)}))}else s.codedValues&&s.codedValues.length>0&&s.codedValues.map((function(e){n=h(n,e.code,e.name)}))}})),o||(o=d(t))):o=d(t);var a=[];for(var u in n){var c=s(t.type)?parseFloat(u):u;a.push({value:c,label:n[u]})}return a.length>0&&(o=a),o}function m(e,t){var r=function(e){var t=null,r=null,n=y(e);if(n)t={},r=n.uniqueValueInfos;else{var o=e;if(o.renderer){var i=y(o.sourceJSON),a=o.renderer.toJson();"uniqueValue"===a.type&&i&&i.field1===a.field1?(t={},r=a.uniqueValueInfos):i&&(t={},r=i.uniqueValueInfos)}}if(r)for(var s=0;s<r.length;s++){var u=r[s];t[u.value]=u.label}return t}(e);if(r&&t)for(var n=0;n<t.length;n++){var o=t[n];r[o.value]&&(o.label=r[o.value])}return t}function y(e){var t=null;return e.drawingInfo&&e.drawingInfo.renderer&&"uniqueValue"===e.drawingInfo.renderer.type&&(t=e.drawingInfo.renderer),t}t.convertFieldToJimuField=function(e,t){var r;return r=a.indexOf(e.type)>-1?n.JimuFieldType.Number:"esriFieldTypeDate"===e.type?n.JimuFieldType.Date:n.JimuFieldType.String,{jimuName:e.name,name:e.name,type:r,esriType:e.type,alias:e.alias,format:t&&t.format}},t.checkDoQuery=function(e){var t=e.queryType,r=e.refresh,n=e.queryValue,a=e.currentQuery;return t===o.QueryType.ById?!(n===a&&!r):!(i.isDeepEqual(a,n)&&!r)},t.isNumericalField=s,t.getFieldInfoByFieldName=u,t.getDisplayValueForCodedValueOrSubtype=c,t.getDisplayValueForCodedValueOrSubtypeBatch=function(e,t,r){if(1===r.length)return[w=c(e,t,r[0])];var n=e.typeIdField,o=null,i=null,a=[],s=[];for(var h in r){var m=r[h],y=m[t];if(n===t)a=o||l(e);else{var v=u(e.fields,t);if(m.hasOwnProperty(n)){if(!i)for(var b in i={},o=l(e)){var S=o[b].value;i[S]=p(e,t,S,v)}(a=i[m[n]])||(a=d(v))}else a=g(e,v)}var w=f(y,a);s.push(w)}return s},t.getCodedValueListForCodedValueOrSubtypeField=function(e,t,r){var n=null,o=u(e.fields,t),i=r?r[e.typeIdField]:null,a=r&&null!=i;if(e.typeIdField&&e.typeIdField.toUpperCase()===t.toUpperCase()){if(n=l(e),a){var s=f(i,n);n=[{value:s.value,label:s.displayValue}]}}else n=a?p(e,t,i,o):g(e,o);return n},t.isHostedService=function(e){if(!e)return!1;var t=-1!==e.indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(104))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o};n.prototype=Object.create(Error.prototype),n.prototype.constructor=n},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AppConfigProcessor="APP_CONFIG_PROCESSOR",e.WidgetClassWrapper="WIDGET_CLASS_WRAPPER",e.AppConfigService="APP_CONFIG_SERVICE",e.ReduxStore="REDUX_STORE",e.DependencyDefine="DEPENDENCY_DEFINE",e.DataSourceFactoryUri="DATA_SOURCE_FACTORY_URI",e.ContextTool="CONTEXT_TOOL",e.LayoutTransformer="LAYOUT_TRANSFORMER"}(n=t.ExtensionPoints||(t.ExtensionPoints={})),t.EP_SUPPORT_MULTIPLE_EXTENTIONS=[n.ReduxStore,n.DataSourceFactoryUri,n.DependencyDefine,n.ContextTool,n.LayoutTransformer];var o=function(){};t.DummyExtension=o},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(127),a=r(2),s=r(5),u=r(183),c=r(4),l=r(7),d=r(13),f=r(17),p=r(98),h="esri_auth",g="exb_auth";!function(e){e.ArcGISJSSync="ARCGIS_JS",e.OtherWindowSync="OTHER_WINDOW",e.AddOrUpdate="ADD_OR_UPDATE",e.Remove="REMOVE"}(o=t.SessionChangedReasonType||(t.SessionChangedReasonType={}));var m=function(){function e(){var e=this;this._initSignInCookie=function(){var t,r,n;if(e._canReadEsriAuthCookie()){var o=null===(t=e.readCookie(h))||void 0===t?void 0:t[0];if(!o)return;if(n=e._getSessionFromCookieString(o),e._checkMainSession(n)){e.writeCookieForSession(g,n);var i=e._getKeyFromUrl(n.portal);return void e._setSession(i,n)}}var a=null===(r=e.readCookie(g))||void 0===r?void 0:r[0];if(a)if(n=e._getSessionFromCookieString(a),e._checkMainSession(n)){i=e._getKeyFromUrl(n.portal);e._setSession(i,n)}else e._processInvalidSignInSession()},this._checkMainSession=function(t){var r,n;if(!t)return!1;if(!e._checkSession(t))return!1;var o=e._getKeyFromUrl(t.portal);return!(null===(r=e._mainPortalInfo)||void 0===r||!r.portalUrl||o!==e._getKeyFromUrl(null===(n=e._mainPortalInfo)||void 0===n?void 0:n.portalUrl))},this._processInvalidSignInSession=function(){e.removeSelfCookie(),e.clearSessions()},this.gotoLoginInPage=function(){var e;e=window.isDevEdition?location.protocol+"//"+location.host+"/page/set-portalurl":location.protocol+"//"+location.host+"/page/landing",0!==window.location.href.indexOf(e)&&(window.location.href=e)},this.handleAuthError=function(t,r){void 0===r&&(r=!0);var n=t.options;if(t instanceof a.ArcGISAuthError&&n&&(!n.authentication||498===t.code||"AUTHENTICATION_ERROR_CODE"===t.code)){var o=e._getKeyFromUrl(t.url);return e._sessions&&e._sessions[o]&&delete e._sessions[o],e.signIn(window.location&&window.location.href,r,t.url)}throw t}}return e.prototype.getMainSession=function(){var e;if(!this._sessions||!this._mainPortalInfo)return null;var t=this._sessions[this._getKeyFromUrl(null===(e=this._mainPortalInfo)||void 0===e?void 0:e.portalUrl)];return this._checkSession(t)?t:null},e.prototype.getSessions=function(){var e=this;if(!this._sessions)return[];var t={};return Object.keys(this._sessions).forEach((function(r){var n=e._sessions[r];e._checkSession(n)&&(t[r]=n)})),this._sessions=t,Object.keys(this._sessions).map((function(t){return e._sessions[t]}))},e.prototype.clearSessions=function(){delete this._sessions},e.prototype.syncSessionsFromOtherWindow=function(e){var t=this;this.clearSessions(),e.forEach((function(e){t._addOrReplaceSession(e)})),this._onSessionChanged(o.OtherWindowSync)},e.prototype._onSessionChanged=function(e){if(this._onSessionChangedCallbacks){var t=this.getSessions();this._onSessionChangedCallbacks.forEach((function(r){r(t,e)}))}},e.getInstance=function(){return e.instance||(e.instance=new e,window._sessionManager=e.instance,this.instance._isSigning=!1,this.instance._signInQueue=[],this.instance._onSessionChangedCallbacks=[]),e.instance},e.prototype.setArcgisJsIM=function(e){this._arcgisJSIM=e},e.prototype.getArcgisJsIM=function(){return this._arcgisJSIM},e.prototype.initFromCookie=function(e){void 0===e&&(e=this._mainPortalInfo),this._mainPortalInfo=e,this.updateFromCookie()},e.prototype.updateFromCookie=function(){this._initSignInCookie()},e.prototype.getUserInfo=function(e){return e.getUser()},e.prototype.setSessionPortalUrl=function(e,t){if(!e||!t)return!1;var r=this._getKeyFromUrl(t),n=e.toJSON();return n.portal=f.getPortalRestUrl(t),this.removeSession(e),this._setSession(r,new i.UserSession(n)),!0},e.prototype.setClientId=function(e){var t;if(this._mainPortalInfo.clientId=e,this.getMainSession()){var r=this.getMainSession().toJSON();r.clientId=e,this._setSession(this._getKeyFromUrl(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl),new i.UserSession(r))}},e.prototype.setMainPortalUrl=function(e){this._mainPortalInfo.portalUrl=e},e.prototype.setMainPortal=function(e){this._mainPortalInfo=e},e.prototype.getMainPortal=function(){return this._mainPortalInfo},e.prototype.getPortalInfo=function(e){var t={portalUrl:"",clientId:"",isWebTier:!1,isMainPortal:!1},r=this.getMainPortal();return r&&f.isSamePortalUrl(e,r.portalUrl)&&(t=n(n({},r),{isMainPortal:!0})),t},e.prototype.removeSession=function(e){if(!e)return!1;var t=this._getKeyFromUrl(e.portal);return!!this._removeSessionByKey(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(o.Remove),!0)},e.prototype._syncToOtherWindowSessionManager=function(){if(window.jimuConfig.isBuilder)l.getModuleSync("jimu-for-builder").builderAppSync.publishChangeSessionToApp();else if(window.jimuConfig.isInBuilder){l.getModuleSync("jimu-for-builder").appBuilderSync.publishAppSessionChangeToBuilder()}},e.prototype._removeSessionByKey=function(e){return!!e&&(this._sessions&&this._sessions[e]&&delete this._sessions[e],!0)},e.prototype.addOrReplaceSession=function(e){return!!e&&(!!this._addOrReplaceSession(e)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(o.AddOrUpdate),!0))},e.prototype._canReadEsriAuthCookie=function(){var e,t=null===(e=this._mainPortalInfo)||void 0===e?void 0:e.clientId;return this._isArcgisUrl(window.location.host,!0)&&"experienceBuilder"===t},e.prototype._addOrReplaceSession=function(e){if(!e)return!1;var t=this._getKeyFromUrl(e.portal);return!!t&&(this._setSession(t,e),!0)},e.prototype._setSession=function(e,t){var r;this._checkSession(t)&&(this._sessions||(this._sessions={}),this._sessions[e]=t,e===this._getKeyFromUrl(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl)&&(c.getAppStore().dispatch(s.sessionStart(t.token)),this.writeCookieForSession(g,t)))},e.prototype.getSessionByUrl=function(e){if(this._sessions){var t=this._getKeyFromUrl(e),r=this._sessions[t];if(!r&&this._isArcgisUrl(e)&&!this._getStandardArcgisKey(e)){var n=void 0,o=void 0,i=this._getHostname(e).split(".");n=i[0],i.splice(0,1),o=i.join(".");var a="www.arcgis.com";n.indexOf("dev")>-1||o.indexOf("dev")>-1?a="devext.arcgis.com":(n.indexOf("qa")>-1||o.indexOf("qa")>-1)&&(a="qaext.arcgis.com"),r=this._sessions[a]}return r}},e.prototype._getKeyFromUrl=function(e){var t,r;if(!e)return null;if(this._isArcgisUrl(e))return this._getArcgisKey(e);var n=this._getPortalUrlInfo(e),o=n.customBaseUrl,i=n.urlKey;if(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl){var a=this._getPortalUrlInfo(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl);if(i===a.urlKey&&0===o.indexOf(a.customBaseUrl))return a.urlKey+"."+a.customBaseUrl}return i+"."+o},e.prototype._getPortalUrlInfo=function(e){if(!e)return null;var t=e.toLocaleLowerCase(),r="",n=t.indexOf("https://");0===n?r="https://":0===(n=t.indexOf("http://"))&&(r="http://"),n=r.length;var o,i=t.indexOf("/sharing/rest",n);i=i<0?t.length:i;var a=(t=t.substring(n,i)).split(".");return o=a[0],a.splice(0,1),{urlKey:o,customBaseUrl:a.join("."),schema:r}},e.prototype._getSessionFromCookieJson=function(e){var t;if(!this._checkCookie(e))return null;var r=this.getPortalFromCookie(e);return new i.UserSession({clientId:null===(t=this._mainPortalInfo)||void 0===t?void 0:t.clientId,token:e.token,tokenExpires:new Date(e.expires),portal:r,username:e.email})},e.prototype._getSessionFromCookieString=function(e){var t=JSON.parse(e);return this._getSessionFromCookieJson(t)},e.prototype.getPortalFromCookie=function(e){var t=e.urlKey?e.urlKey+".":"",r=e.schema,n=""+(r=r||"https://")+t+e.customBaseUrl+"/sharing/rest/";return"maps.arcgis.com"===e.customBaseUrl?n=r+"www.arcgis.com/sharing/rest/":"mapsdevext.arcgis.com"===e.customBaseUrl?n=r+"devext.arcgis.com/sharing/rest/":"mapsqa.arcgis.com"===e.customBaseUrl&&(n=r+"qaext.arcgis.com/sharing/rest/"),n},e.prototype._checkCookie=function(e){return!!e&&!(new Date(e.expires)<new Date)},e.prototype._checkSession=function(e){return!!e&&!(new Date(e.tokenExpires)<new Date)},e.prototype.readCookie=function(e){return(document&&document.cookie?document.cookie.split("; "):[]).filter((function(t){return t.split("=")[0]===e})).map((function(e){return decodeURIComponent(e.split("=")[1])}))||[]},e.prototype.writeCookieForSession=function(e,t){u.set(e,JSON.stringify(this._getCookieFromSession(t)))},e.prototype._getCookieFromSession=function(e){var t=this._getPortalUrlInfo(e.portal),r=t.urlKey,n=t.customBaseUrl,o=t.schema;return{portalApp:!1,email:e.username,token:e.token,expires:e.tokenExpires,urlKey:r,customBaseUrl:n,schema:o}},e.prototype.removeSelfCookie=function(){u.remove(g)},e.prototype.removeArcgisCookie=function(){u.remove(h),u.remove(h,{path:"/",domain:".arcgis.com"})},e.prototype.addFromArcGisJSCredential=function(e){var t=i.UserSession.fromCredential(e);return!!this._addOrReplaceSession(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(o.ArcGISJSSync),!0)},e.prototype._getHostname=function(e){if(!e)return null;var t=e.toLocaleLowerCase();return d.getUrlHost(t)},e.prototype._getArcgisKey=function(e){var t,r,n=this._getHostname(e),o=n.split(".");t=o[0],o.splice(0,1),r=o.join(".");var i=n;return"devext"===t||"mapsdevext.arcgis.com"===r?i="devext.arcgis.com":"qaext"===t||"mapsqa.arcgis.com"===r?i="qaext.arcgis.com":"www"!==t&&"maps.arcgis.com"!==r||(i="www.arcgis.com"),i},e.prototype._getStandardArcgisKey=function(e){var t,r,n,o=this._getHostname(e).split(".");return t=o[0],o.splice(0,1),r=o.join("."),"devext"===t||"mapsdevext.arcgis.com"===r?n="devext.arcgis.com":"qaext"===t||"mapsqa.arcgis.com"===r?n="qaext.arcgis.com":"www"!==t&&"maps.arcgis.com"!==r||(n="www.arcgis.com"),n},e.prototype._isArcgisUrl=function(e,t){if(!e)return!1;var r=e;return!(!t&&!(r=this._getHostname(e)))&&((r=r.toLowerCase()).indexOf(".arcgis.com")>-1||"arcgis.com"===r)},e.prototype._getLoginDomain=function(e){var t,r,n;if(!e)return null;if((null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl)&&this._getKeyFromUrl(e)===this._getKeyFromUrl(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl))return null===(n=this._mainPortalInfo)||void 0===n?void 0:n.portalUrl;var o=e.indexOf("/sharing/rest");if(o>-1)return e.substring(0,o);var i=this._getPortalUrlInfo(e),a=i.customBaseUrl,s=i.urlKey,u=i.schema;return this._isArcgisUrl(e)?"https://"+this._getArcgisKey(e):""+(u||"https://")+s+"."+a},e.prototype.signIn=function(e,t,r){var n,o,a=this;void 0===e&&(e="/"),void 0===t&&(t=!0),void 0===r&&(r=null===(n=this._mainPortalInfo)||void 0===n?void 0:n.portalUrl);var s=this.getSessionByUrl(r);if(s){if(this._executSignIn(),!t){var u=0===e.indexOf("/");window.location.href=location.protocol+"//"+location.host+(u?"":"/")+e}return Promise.resolve(s)}var h=c.getAppStore().getState(),g=h.queryObject;if(g&&g.host_auth)return p.postMessage({signIn:!0}),this._waitingForHostAuth=!0,p.listenForMessageOnce(p.ListenMessageType.HostAuth).then((function(e){a._waitingForHostAuth=!1;var t=i.UserSession.deserialize(e.serializedSession);return a._setSession(a._getKeyFromUrl(t.portal),t),a._executSignIn(),Promise.resolve(t)}));if(this._isSigning){var m=this.defer();return this._signInQueue.push({desUrl:r,fromUrl:e,popup:t,sessionDefer:m}),m.promise}var y=h.clientId,v=f.getPortalRestUrl(this._getLoginDomain(r)),b=""+window.location.origin+d.getFolder(l.resolveModuleFullPath("jimu-core"))+"/oauth-callback.html?clientId="+y+"&portal="+v+"&popup="+t+"&fromUrl="+e,S={portal:v,clientId:y,redirectUri:b=new URL(b).toString(),popup:t,params:{showSignupOption:!0,signupType:"esri"}};return this._isSigning=!0,null===(o=i.UserSession.beginOAuth2(S))||void 0===o?void 0:o.then((function(e){return a.addOrReplaceSession(e),a._isSigning=!1,a._executSignIn(),Promise.resolve(e)}))},e.prototype.addSessionChangeListener=function(e){if("function"!=typeof e)throw new Error("callback must be a function");this._onSessionChangedCallbacks.indexOf(e)<0&&this._onSessionChangedCallbacks.push(e)},e.prototype._executSignIn=function(){if(!this._isSigning&&this._signInQueue){var e=this._signInQueue.pop();e&&this.signIn(e.fromUrl,e.popup,e.desUrl).then((function(t){e.sessionDefer.resolve(t)}))}},e.prototype.signOut=function(){var e,t,r,n,o,i=this.getMainSession(),a=null===(e=i)||void 0===e?void 0:e.portal;a||(a=(a=null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl)&&f.getPortalRestUrl(a));var u=(null===(r=i)||void 0===r?void 0:r.clientId)||(null===(n=this._mainPortalInfo)||void 0===n?void 0:n.clientId);this.clearSessions(),c.getAppStore().dispatch(s.userSignOut());var l,d=window&&window.location;if(l=window.isDevEdition?d.protocol+"//"+d.host+"/page/set-portalurl":d.protocol+"//"+d.host+"/page/landing",(null===(o=c.getAppStore().getState().queryObject)||void 0===o?void 0:o.host_auth)&&p.postMessage({signOut:!0}),this.removeSelfCookie(),this._arcgisJSIM&&this._arcgisJSIM.destroyCredentials(),a&&u){var h=a+"/oauth2/signout?client_id="+u+"&redirect_uri="+(l=encodeURIComponent(l));d.href=h}else d.href=encodeURIComponent("")},e.prototype.syncHostAuth=function(e){if(e.serializedSession){if(!this._waitingForHostAuth){var t=i.UserSession.deserialize(e.serializedSession);this._addOrReplaceSession(t)}}else this.clearSessions()},e.prototype.defer=function(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e},e}();t.SessionManager=m,p.listenForMessage(p.ListenMessageType.HostAuth,m.getInstance().syncHostAuth.bind(m.getInstance())),t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Field="FIELD",e.String="STRING",e.Operator="OPERATOR",e.Function="FUNCTION",e.Number="NUMBER",e.Unknown="UNKNOWN"}(t.ExpressionPartType||(t.ExpressionPartType={})),function(e){e.Average="AVERAGE",e.Count="COUNT",e.Sum="SUM",e.Max="MAX",e.Min="MIN"}(t.ExpressionFunctions||(t.ExpressionFunctions={}))},function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.r(t);var o=r(1),i=r(3),a=r.n(i),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});function c(e){var t;void 0===e&&(e="store");var r=e+"Subscription",i=function(t){n(a,t);var i=a.prototype;function a(r,n){var o;return(o=t.call(this,r,n)||this)[e]=r.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[r]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:u.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=u.isRequired,t[r]=s,t),i}var l=c();function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=r(9);function p(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var h=r(27),g=r.n(h),m=r(8),y=r.n(m),v=r(70),b=null,S={notify:function(){}};var w=function(){function e(e,t,r){this.store=e,this.parentSub=t,this.onStateChange=r,this.unsubscribe=null,this.listeners=S}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=b,e=b},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==b&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=S)},e}(),I=0,_={};function O(){}function E(e,t){var r,i;void 0===t&&(t={});var a=t,c=a.getDisplayName,l=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,h=a.methodName,m=void 0===h?"connectAdvanced":h,b=a.renderCountProp,S=void 0===b?void 0:b,E=a.shouldHandleStateChanges,C=void 0===E||E,P=a.storeKey,A=void 0===P?"store":P,T=a.withRef,x=void 0!==T&&T,j=p(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),M=A+"Subscription",D=I++,k=((r={})[A]=u,r[M]=s,r),R=((i={})[M]=s,i);return function(t){y()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",i=l(r),a=Object(f.a)({},j,{getDisplayName:l,methodName:m,renderCountProp:S,shouldHandleStateChanges:C,storeKey:A,withRef:x,displayName:i,wrappedComponentName:r,WrappedComponent:t}),s=function(r){function s(e,t){var n;return(n=r.call(this,e,t)||this).version=D,n.state={},n.renderCount=0,n.store=e[A]||t[A],n.propsMode=Boolean(e[A]),n.setWrappedInstance=n.setWrappedInstance.bind(d(d(n))),y()(n.store,'Could not find "'+A+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+A+'" as a prop to "'+i+'".'),n.initSelector(),n.initSubscription(),n}n(s,r);var u=s.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[M]=t||this.context[M],e},u.componentDidMount=function(){C&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=O,this.store=null,this.selector.run=O,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return y()(x,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(C){var e=(this.propsMode?this.props:this.context)[M];this.subscription=new w(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!(x||S||this.propsMode&&this.subscription))return e;var t=Object(f.a)({},e);return x&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[M]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=i,s.childContextTypes=R,s.contextTypes=k,s.propTypes=k,g()(s,t)}}var C=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!C.call(t,r[o])||!P(e[r[o]],t[r[o]]))return!1;return!0}var T=r(71);function x(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function j(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=j(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=j(o),o=n(t,r)),o},n}}var D=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:x((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?x((function(t){return Object(T.bindActionCreators)(e,t)})):void 0}];var k=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:x((function(){return{}}))}];function R(e,t,r){return Object(f.a)({},r,e,t)}var F=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?o&&i(u,n)||(n=u):(a=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function L(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function U(e,t,r,n,o){var i,a,s,u,c,l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function h(o,p){var h,g,m=!d(p,a),y=!l(o,i);return i=o,a=p,m&&y?(s=e(i,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):y?(h=e(i,a),g=!f(h,s),s=h,g&&(c=r(s,u,a)),c):c}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),u=t(n,a),c=r(s,u,a),p=!0,c)}}function N(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),u=o(e,i);return(i.pure?U:L)(a,s,u,e,i)}function W(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function B(e,t){return e===t}var V,q,G,z,H,$,J,K,Q,Y,Z,X,ee=(G=(q=void 0===V?{}:V).connectHOC,z=void 0===G?E:G,H=q.mapStateToPropsFactories,$=void 0===H?k:H,J=q.mapDispatchToPropsFactories,K=void 0===J?D:J,Q=q.mergePropsFactories,Y=void 0===Q?F:Q,Z=q.selectorFactory,X=void 0===Z?N:Z,function(e,t,r,n){void 0===n&&(n={});var o=n,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,u=void 0===s?B:s,c=o.areOwnPropsEqual,l=void 0===c?A:c,d=o.areStatePropsEqual,h=void 0===d?A:d,g=o.areMergedPropsEqual,m=void 0===g?A:g,y=p(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=W(e,$,"mapStateToProps"),b=W(t,K,"mapDispatchToProps"),S=W(r,Y,"mergeProps");return z(X,Object(f.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:b,initMergeProps:S,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:h,areMergedPropsEqual:m},y))});r.d(t,"Provider",(function(){return l})),r.d(t,"createProvider",(function(){return c})),r.d(t,"connectAdvanced",(function(){return E})),r.d(t,"connect",(function(){return ee}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(18);function o(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(e){var t=Object(n.a)(e);return Object.keys(t).map((function(e){return o(e,t[e])})).join("&")}},function(e,t,r){"use strict";var n=r(70),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=l(r);d&&(a=a.concat(d(r)));for(var s=u(t),g=u(r),m=0;m<a.length;++m){var y=a[m];if(!(i[y]||n&&n[y]||g&&g[y]||s&&s[y])){var v=f(r,y);try{c(t,y,v)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("string"!=typeof e)throw new i.default(3);var t=(0,o.default)(e);if(t.match(s))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(u)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(c))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(l)){var a=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:a}}var g=d.exec(t);if(g)return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10)};var m=f.exec(t);if(m)return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+m[4])};var y=p.exec(t);if(y){var v=parseInt(""+y[1],10),b=parseInt(""+y[2],10)/100,S=parseInt(""+y[3],10)/100,w="rgb("+(0,n.default)(v,b,S)+")",I=d.exec(w);if(!I)throw new i.default(4,t,w);return{red:parseInt(""+I[1],10),green:parseInt(""+I[2],10),blue:parseInt(""+I[3],10)}}var _=h.exec(t);if(_){var O=parseInt(""+_[1],10),E=parseInt(""+_[2],10)/100,C=parseInt(""+_[3],10)/100,P="rgb("+(0,n.default)(O,E,C)+")",A=d.exec(P);if(!A)throw new i.default(4,t,P);return{red:parseInt(""+A[1],10),green:parseInt(""+A[2],10),blue:parseInt(""+A[3],10),alpha:parseFloat(""+_[4])}}throw new i.default(5)};var n=a(r(53)),o=a(r(156)),i=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}var s=/^#[a-fA-F0-9]{6}$/,u=/^#[a-fA-F0-9]{8}$/,c=/^#[a-fA-F0-9]{3}$/,l=/^#[a-fA-F0-9]{4}$/,d=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,f=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,p=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,h=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(22),i=r(4),a=r(5),s=function(){function e(){this.extensions={},this.extensionClasses={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._extensionManager=e.instance),e.instance},e.prototype.getExtensions=function(e){return this.extensions[e]||[]},e.prototype.getAllExtensions=function(){var e=this,t=[];return Object.keys(this.extensions).forEach((function(r){e.extensions[r].forEach((function(e){t.push(e)}))})),t},e.prototype.registerExtension=function(e){if(this.getExtensionById(e.extension.id))console.log("Extension "+e.extension.id+" has been registered.");else{if(this.extensions[e.epName]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(e.epName)>-1))return;this.extensions[e.epName].push(e.extension),this.extensions[e.epName]=this.extensions[e.epName].sort((function(e,t){return e.index-t.index}))}else this.extensions[e.epName]=[e.extension];e.epName===o.ExtensionPoints.ReduxStore&&i.getAppStore().dispatch(a.initStoreExtensionState(e.extension.id))}},e.prototype.destryAllExtensions=function(){var e=this;Object.keys(this.extensions).forEach((function(t){e.extensions[t].forEach((function(t){delete e.extensionClasses[t.name],t.destroy&&t.destroy()}))})),this.extensions={}},e.prototype.destryWidgetExtensions=function(e){var t=this;Object.keys(this.extensions).forEach((function(r){t.extensions[r].forEach((function(r){r.widgetId===e&&(delete t.extensionClasses[r.name],r.destroy&&r.destroy())})),t.extensions[r]=t.extensions[r].filter((function(t){return t.widgetId!==e}))}))},e.prototype.registerWidgetExtensions=function(e){var t=this,r=[];return e.manifest.extensions&&e.manifest.extensions.forEach((function(n){(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder||n.point!==o.ExtensionPoints.ContextTool)&&r.push(t.registerWidgetExtension(e,n))})),Promise.all(r)},e.prototype.registerWidgetExtension=function(e,t){var r=this;if(this.extensions[t.point]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(t.point)>-1))return Promise.resolve();if(this.extensions[t.point].filter((function(r){return r.name===e.manifest.name+"-"+t.name&&r.widgetId===e.id})).length>0)return Promise.resolve()}return this.loadWidgetExtensionClass(e,t).then((function(n){var o=new n;o.name=e.manifest.name+"-"+t.name,o.widgetId=e.id,o.id=o.widgetId+"-"+t.name,o.label=e.manifest.i18nMessages["_ext_"+t.name+"_label"]||t.label,r.registerExtension({epName:t.point,extension:o})})).catch((function(t){return console.error("Register widget extension error.",e.label),Promise.resolve()}))},e.prototype.loadWidgetExtensionClass=function(e,t){var r=e.manifest.name+"-"+t.name;if(this.extensionClasses[r])return this.extensionClasses[r];var o=e.uri+"dist/"+t.uri;return this.extensionClasses[r]=n.loadModule(o).then((function(e){return e.default})),this.extensionClasses[r]},e.prototype.getExtensionById=function(e){var t=this.getAllExtensions();for(var r in t)if(t[r].id===e)return t[r]},e}();t.default=s},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(57),i=r(13),a=r(12),s=r(58),u=r(10),c=r(4);function l(e,t,r){var n,o=0,i=r.lastIndexOf(" "),a=r.substr(i+1);return/^\d+$/.test(a)?(o=Math.max(parseInt(a),o),n=r.substr(0,i)):n=r,e[t+"s"]?(Object.keys(e[t+"s"]).filter((function(r){var o=e[t+"s"][r].label;return o&&new RegExp("^"+n).test(o)})).forEach((function(r){var i=e[t+"s"][r].label,a=i.substring((n+" ").length,i.length);/^\d+$/.test(a)&&(o=Math.max(o,parseInt(a)))})),n+" "+(o+1)):r+" "+(o+1)}t.getWidgetContext=function(e){var t={};return/^http(s)?:\/\//.test(e)||/^\/\//.test(e)?(t.isRemote=!0,t.folderUrl=e):(t.isRemote=!1,t.folderUrl=window.location.protocol+"//"+window.location.host+i.getFixedRootPath()+e),t},t.addWidgetManifestProperties=function(e){var t=u(e).asMutable({deep:!0});return void 0===e.properties&&(t.properties={}),["hasVersionManager","supportInlineEditing","supportRepeat","hasBuilderSupportModule","hasEmbeddedLayout","lockChildren","flipIcon"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!1)})),["hasMainClass","hasConfig","hasSettingPage","autoBindDataSource","hasConfigInSettingPage","passDataSourceToChildren"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!0)})),t},t.addWidgetDefaultLabelAndIcon=function(e,t){t.icon=t.icon?t.icon:t.context.folderUrl+"icon.svg",t.label=t.label?t.label:l(e,"widget",t.manifest.i18nMessages._widgetLabel||t.manifest.label||t.manifest.name)},t.addLayoutLabel=function(e){e.widgets&&Object.keys(e.widgets).forEach((function(t){var r=e.widgets[t];r.layouts&&Object.keys(r.layouts).forEach((function(t){Object.keys(r.layouts[t]).forEach((function(n){var o,i,a,s=r.layouts[t][n];if(e.layouts[s]&&!e.layouts[s].label){var u=null===(o=r.manifest.layouts)||void 0===o?void 0:o.find((function(e){return e.name===t}));e.layouts[s].label=r.manifest.i18nMessages["_layout_"+t+"_label"]||(null===(i=u)||void 0===i?void 0:i.label)||(null===(a=u)||void 0===a?void 0:a.name)}}))}))}))},t.getUniqueId=function(e,t){var r=0;return e[t+"s"]?(Object.keys(e[t+"s"]).forEach((function(e){var n=e.substring((t+"_").length,e.length);/^\d+$/.test(n)&&(r=Math.max(r,parseInt(n)))})),t+"_"+(r+1)):t+"_"+(r+1)},t.getUniqueLabel=l,t.getAllWidgets=function(e){var t=[];return Object.keys(e.widgets).forEach((function(r){t.push(e.widgets[r])})),t},t.getWidgetIdThatUseTheLayoutId=function(e,t){return Object.keys(e.widgets).find((function(r){var n=e.widgets[r];if(n.layouts)return Object.keys(n.layouts).some((function(e){return void 0!==Object.keys(n.layouts[e]).find((function(r){return n.layouts[e][r]===t}))}))}))},t.getWidgetOrSectionContainerInfo=function(e,t,r,n){var i=e.pages&&Object.keys(e.pages).find((function(o){var i=a.findLayoutId(e.pages[o].layout,n,e.mainSizeMode);return s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1}));if(i)return{type:o.ContainerType.Page,id:i};var u=e.dialogs&&Object.keys(e.dialogs).find((function(o){var i=a.findLayoutId(e.dialogs[o].layout,n,e.mainSizeMode);return s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1}));if(u)return{type:o.ContainerType.Dialog,id:u};if(e.header){var c=a.findLayoutId(e.header.layout,n,e.mainSizeMode);if(s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,c,r,n).indexOf(t)>-1)return{type:o.ContainerType.Header,id:"header"}}if(e.footer){c=a.findLayoutId(e.footer.layout,n,e.mainSizeMode);if(s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,c,r,n).indexOf(t)>-1)return{type:o.ContainerType.Footer,id:"footer"}}var l=e.views&&Object.keys(e.views).find((function(o){var i=a.findLayoutId(e.views[o].layout,n,e.mainSizeMode);return s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1}));return l?{type:o.ContainerType.View,id:l}:void 0},t.getWidgetsOrSectionsInPageBody=function(e,t,r){var n=a.findLayoutId(e.pages[t].layout,c.getAppStore().getState().browserSizeMode,e.mainSizeMode);return s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,n,r,c.getAppStore().getState().browserSizeMode)},t.getWidgetsOrSectionsInView=function(e,t,r){var n=a.findLayoutId(e.views[t].layout,c.getAppStore().getState().browserSizeMode,e.mainSizeMode);return s.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,n,r,c.getAppStore().getState().browserSizeMode)},t.getWidgetMessageActionJsons=function(e,t,r){var n=[];return e.messageConfigs&&Object.entries(e.messageConfigs).forEach((function(e){e[0];var o=e[1];n=n.concat(o.actions&&o.actions.filter((function(e){return e.widgetId===t&&e.actionName===r})))})),n},t.getSectionIdByViewId=function(e,t){return e.sections&&Object.keys(e.sections).find((function(r){var n;return(null===(n=e.sections[r].views)||void 0===n?void 0:n.indexOf(t))>-1}))},t.isTwoViewsInSaveSection=function(e,t,r){return e.sections&&Object.keys(e.sections).some((function(n){var o,i,a=e.sections[n].views;return(null===(o=a)||void 0===o?void 0:o.indexOf(t))>-1&&(null===(i=a)||void 0===i?void 0:i.indexOf(r))>-1}))},n(r(178)),n(r(58))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={loading:"Loading",apply:"Apply",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",notPublishError:"This item is not published. Please open this item in Experience Builder, then click <b>&nbsp;Publish&nbsp;</b> to publish it.",versionUpdateMsg:"New updates are available. Click Reload button to get the latest updates.",doUpdate:"Reload",search:"Search",delete:"Delete",message_StringSelectionChange:"String Selection Changes",message_ExtentChange:"Extent Changes",message_DataRecordsSelectionChange:"Record Selection Changes",message_DataRecordSetCreate:"Record Set Created",message_DataRecordSetUpdate:"Record Set Updated",message_SelectDataRecord:"Select Data Record",dataAction_ExportJson:"Export JSON",messageAction_SelectDataRecord:"Select Data Records",messageAction_FilterDataRecord:"Filter Data Records",icon:"Icon",small:"Small",medium:"Medium",large:"Large",experience:"Experience",template:"Template",widget:"Widget",section:"Section",view:"View",page:"Page",layout:"Layout",theme:"Theme",dataSource:"Datasource",block:"Block",noEditPrivilegesError:"Your account does not have permission to create or modify data.",noEditContentPrivilegesError:"Your account does not have permission to create or modify content.",essentialAppsLicenseErrorForApp:"Your account is not licensed to use an app that is not public. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",essentialAppsLicenseErrorForBuilder:"Your account is not licensed for Experience Builder. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",roleError:"Experience Builder Developer Edition requires a level 2 ArcGIS account to work. Please login with an account that has level 2 privileges.",roleError2:"Experience Builder Developer Edition requires an ArcGIS organization account with a user type that includes privileges to create content."}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(24),a=r(6),s=r(14),u=r(11),c=r(63),l=r(67),d=r(122),f=r(193),p=r(194),h=r(195),g=r(196),m=r(197),y={};function v(e,t){if(!e||e.type!==i.ExpressionPartType.Field)return Promise.reject(o.ParamType);var r=u.default.getInstance().getDataSource(e.dataSourceId),n=r&&r.getSchema(),s=e.jimuFieldName,c=n&&n.fields&&n.fields[s];if(!(c&&c.type===a.JimuFieldType.Number))return Promise.reject(o.ParamType);var l=(r.getRecords()||[]).map((function(e){return e.getData()[s]||0}));return Promise.resolve(C(l,t))}function b(e,t){if(!e||0===e.length)return Promise.reject(o.ParamNumber);var r=e.filter((function(e){return e.type!==i.ExpressionPartType.Operator&&e.type!==i.ExpressionPartType.Unknown}));if(r.length>0&&O(r)){var n=function(e,t){if(!e)return[];return e.filter((function(e){return!!I(t,e.dataSourceId,e.jimuFieldName)}))}(r,t),a=function(e){if(!e)return{};var t={};return e.forEach((function(e){t[e.dataSourceId]?t[e.dataSourceId].push(e):t[e.dataSourceId]=[e]})),t}(function(e,t){if(!e)return[];return e.filter((function(e){return!I(t,e.dataSourceId,e.jimuFieldName)}))}(r,t));return Promise.all(Object.keys(a).map((function(e){return function(e,t){if(!e||0===e.length)return Promise.resolve(0);var r=u.default.getInstance().getDataSource(e[0].dataSourceId);if(r&&r.query){var n=function(e,t){if(!e)return null;var r=[];return e.forEach((function(e,n){var o=u.default.getInstance().getDataSource(e.dataSourceId),i=o&&o.getSchema(),a=i&&i.fields&&i.fields[e.jimuFieldName],s=function(e,t,r){return(t||"")+"_"+(S(r)?r:"")+"_"+e}(t,a&&a.jimuName,n);r.push({onStatisticField:a&&a.name,outStatisticFieldName:s,statisticType:_(t)})})),{returnGeometry:!0,where:"1=1",outStatistics:r}}(e,t);return r.query(n).then((function(r){var n=r.records,o=n&&n[0]&&n[0].getData()||{};return C(Object.keys(o).map((function(r,n){var i=w(t,e[n].dataSourceId,e[n].jimuFieldName),a=o[r];return function(e,t){if(!y||!t||!S(e))return;y[t]=e}(a,i),a})),t)}))}}(a[e],t)}))).then((function(e){var r=e.length>0?C(e,t):null,a=n.map((function(e){return I(t,e.dataSourceId,e.jimuFieldName)})),s=a.length>0?C(a,t):null;if(r&&s)return t===i.ExpressionFunctions.Average||t===i.ExpressionFunctions.Count?C([r,s],i.ExpressionFunctions.Sum):C([r,s],t);if(r||s)return r||s;throw new Error(o.ParamType)}))}if(!(r.length>0&&E(r))){if(r.length>0&&r.every((function(e){return E([e])||O([e])}))){var s=r.filter((function(e){return E([e])}));return b(r.filter((function(e){return O([e])})),t).then((function(e){return b(s.concat({type:i.ExpressionPartType.Number,exp:""+e}),t)}))}return Promise.reject(o.ParamType)}switch(t){case i.ExpressionFunctions.Average:return Promise.resolve(P(r)/r.length);case i.ExpressionFunctions.Sum:return Promise.resolve(P(r));case i.ExpressionFunctions.Count:return Promise.resolve(r.length);case i.ExpressionFunctions.Max:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return S(e)}))?Math.max.apply(null,t):0}(r));case i.ExpressionFunctions.Min:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return S(e)}))?Math.min.apply(null,t):0}(r));default:return Promise.reject(o.FuncType)}}function S(e){return!isNaN(parseFloat(e))&&isFinite(e)&&"[object Number]"===Object.prototype.toString.call(e)}function w(e,t,r){var n=u.default.getInstance().getDataSource(t);if(n){var o=n.getRealQueryParams({where:"1=1"},"query");return e+"_"+n.id+"_"+(r||"")+"_"+(o&&o.where)}}function I(e,t,r){return y[w(e,t,r)]}function _(e){switch(e){case i.ExpressionFunctions.Average:return d.StatisticType.Avg;case i.ExpressionFunctions.Count:return d.StatisticType.Count;case i.ExpressionFunctions.Sum:return d.StatisticType.Sum;case i.ExpressionFunctions.Max:return d.StatisticType.Max;case i.ExpressionFunctions.Min:return d.StatisticType.Min;default:return null}}function O(e){return!!e&&e.every((function(e){if(e.type===i.ExpressionPartType.Field&&e.jimuFieldName&&e.dataSourceId){var t=u.default.getInstance().getDataSource(e.dataSourceId),r=t&&t.getSchema(),n=r&&r.fields&&r.fields[e.jimuFieldName];return n&&n.type===a.JimuFieldType.Number}return!1}))}function E(e){return!!e&&e.every((function(e){return e.type===i.ExpressionPartType.Number}))}function C(e,t){if(!e||0===e.length||e.some((function(e){return!S(e)})))return 0;switch(t){case i.ExpressionFunctions.Average:return e.reduce((function(e,t){return e+t}),0)/e.length;case i.ExpressionFunctions.Sum:return e.reduce((function(e,t){return e+t}),0);case i.ExpressionFunctions.Count:return 1===e.length?e[0]:e.length;case i.ExpressionFunctions.Max:return Math.max.apply(null,e);case i.ExpressionFunctions.Min:return Math.min.apply(null,e);default:return 0}}function P(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return S(e)}))?t.reduce((function(e,t){return e+t}),0):0}function A(e){return!!e&&Object.keys(e).every((function(t){return T(e[t])||!e[t]}))}function T(e){return!(!e||!e.getData||"function"!=typeof e.getData)}function x(e){var t=[],r=[];return e&&e.forEach((function(o,a){if(!r.some((function(e){return e===a})))if(o.type!==i.ExpressionPartType.Function)t=t.concat(o);else if(r.push(a),e[a+1]&&e[a+1].type===i.ExpressionPartType.Operator&&"("===e[a+1].exp){for(var s=e.slice(a+2),u=0,c=0,l=0;l<s.length;l++){if(0===c&&s[l].type===i.ExpressionPartType.Operator&&")"===s[l].exp){u=l;break}c>0&&s[l].type===i.ExpressionPartType.Operator&&")"===s[l].exp?c--:s[l].type===i.ExpressionPartType.Operator&&"("===s[l].exp&&c++}var d=u+a+2;if(d>=a+2){var f=e.slice(a+2,d);for(l=a+1;l<=d;l++)r.push(l);t=t.concat(n(n({},o),{parts:x(f)}))}else console.warn("Can not martch parentheses")}else t=t.concat(o)})),t}function j(e,t,r,o){if(c.getWhetherFunctionIncludeChildExpression(e&&e.parts)){var i=c.getChildExpression(e.parts);return Promise.all(Object.keys(i).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(e){return l.resolveExpression(i[e],t)}))).then((function(e){return e.map((function(e){return k((t=e,!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(e):e),!1);var t}))})).then((function(t){return M(n(n({},e),{parts:t}))}))}return M(e)}function M(e){return e.exp===i.ExpressionFunctions.Average?f.average(e.parts):e.exp===i.ExpressionFunctions.Count?p.count(e.parts,e.dataSourceId):e.exp===i.ExpressionFunctions.Sum?h.sum(e.parts):e.exp===i.ExpressionFunctions.Max?g.max(e.parts):e.exp===i.ExpressionFunctions.Min?m.min(e.parts):(console.warn("Unknown function: ",e),Promise.resolve(""))}function D(e,t,r){switch(r){case"*":return S(e)&&S(t)?parseFloat(e)*parseFloat(t):"";case"/":return S(e)&&S(t)?parseFloat(e)/parseFloat(t):"";case"-":return S(e)&&S(t)?parseFloat(e)-parseFloat(t):"";default:return S(e)&&S(t)?parseFloat(e)+parseFloat(t):""+e+t}}function k(e,t,r){return S(e)?{exp:t&&r?r.formatNumber(e):e,type:i.ExpressionPartType.Number}:{exp:'"'+e.replace(/^"/,"").replace(/"$/,"")+'"',type:i.ExpressionPartType.String}}function R(e,t,r,n){var o="";if(!T(t))return o;var i=r&&n?t.getFormattedData(n):t.getData();return i&&null!==i[e]&&void 0!==i[e]&&(o=i[e]),o}function F(e){return!!(e&&e.length>0&&e.some((function(e){return e.type===i.ExpressionPartType.Field&&L(e)})))}function L(e){if(!e)return!0;var r=e.dataSourceId,n=u.default.getInstance().getDataSource(r);return n&&n.type&&t.localDataSourceTypes.some((function(e){return e===n.type}))}t.localDataSourceTypes=[s.DataSourceTypes.FeatureSet],function(e){e.ParamType="INVALID_PARAM_TYPE",e.ParamNumber="INVALID_NUMBER_OF_PARAMS",e.FuncType="INVALID_FUNCTION_TYPE"}(o=t.errorCode||(t.errorCode={})),t.getFunctionResult=function(e,t){if(!e||0===e.length)return Promise.reject(o.ParamNumber);var r=e.filter((function(e){return e.type!==i.ExpressionPartType.Operator&&e.type!==i.ExpressionPartType.Unknown}));return 0===r.length?Promise.reject(o.ParamNumber):1===e.length&&c.getWhetherFunctionIncludeFieldParam(e)?F(e)?v(e[0],t):b(r,t):Promise.reject(o.ParamNumber)},t.getLocalDsFunctionResult=v,t.getQueryResult=b,t.isMultiple=A,t.groupPartsByFunction=x,t.getWhetherExpUseSelectedRecord=function e(t){if(!t)return!1;for(var r,n=!1,o=!1,a=0;a<t.length;a++){if(o=c.getWhetherFunctionIncludeChildExpression(t[a].parts),(r=t[a])&&r.type===i.ExpressionPartType.Field)n=!0;else if(o){n=e(x(t[a].parts))}if(n)break}return n},t.resolveFieldAndFunctionParts=function(e,t,r,n){var o;return void 0===e&&(e=[]),e.map((function(e,a){if(e.type===i.ExpressionPartType.Field){o=A(t)?t[e.dataSourceId]:t;var s=R(e.jimuFieldName,o,r,n);return Promise.resolve(k(s,r,n))}return e.type===i.ExpressionPartType.Function?j(e,t,r,n).then((function(e){return k(e,r,n)})):Promise.resolve(e)}))},t.resolveFunctions=j,t.resolveOneFunction=M,t.calculatePostfixExpression=function(e,t){var r=[];return e.forEach((function(e){if(e.type===i.ExpressionPartType.Number)r.push(t?e.exp:parseFloat(e.exp));else if(e.type===i.ExpressionPartType.String)r.push(e.exp.replace(/^"/,"").replace(/"$/,""));else if(e.type===i.ExpressionPartType.Operator){var n=r.pop(),o=D(r.pop(),n,e.exp);r.push(o)}})),r.pop()},t.calculate=D,t.getPostfixParts=function(e){var t=[],r=[];for(e.forEach((function(e,n){if(e.type===i.ExpressionPartType.Number||e.type===i.ExpressionPartType.String)t.push(e);else if(e.type===i.ExpressionPartType.Operator)if("("===e.exp)r.push(e);else if(")"===e.exp)for(var o=r.pop();"("!=o.exp;)t.push(o),o=r.pop();else if("+"===e.exp||"-"===e.exp){for(;r.length>0&&("+"===r[r.length-1].exp||"-"===r[r.length-1].exp||"*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}else if("*"===e.exp||"/"===e.exp){for(;r.length>0&&("*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}}));r.length>0;)t.push(r.pop());return t},t.getStringOrNumberPartFromExp=k,t.resolveField=R,t.getWhetherFunctionIncludeFieldParamFromLocalDataSource=F,t.getWhetherIsFromLocalDataSource=L},function(e,t,r){"use strict";function n(e){return e}r.r(t);var o,i=r(1);function a(e){return e.type===o.literal}function s(e){return e.type===o.argument}function u(e){return e.type===o.number}function c(e){return e.type===o.date}function l(e){return e.type===o.time}function d(e){return e.type===o.select}function f(e){return e.type===o.plural}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural"}(o||(o={}));var p,h=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=function(){return(g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e){function t(r,n,o,i){var a=e.call(this)||this;return a.message=r,a.expected=n,a.found=o,a.location=i,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return h(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(i);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+((a=t)?'"'+n(a)+'"':"end of input")+" found.";var a},t}(Error);var y=function(e,t){t=void 0!==t?t:{};var r,n={},i={start:et},a=et,s=function(e){return e.join("")},u=function(e){return g({type:o.literal,value:e},wt())},c=Ke("argumentElement"),l="{",d=$e("{",!1),f="}",p=$e("}",!1),h=function(e){return g({type:o.argument,value:e},wt())},y=Ke("numberSkeletonId"),v=/^['\/{}]/,b=Je(["'","/","{","}"],!1,!1),S={type:"any"},w=Ke("numberSkeletonTokenOption"),I="/",_=$e("/",!1),O=function(e){return e},E=Ke("numberSkeletonToken"),C=function(e,t){return{stem:e,options:t}},P=function(e){return g({type:0,tokens:e},wt())},A="::",T=$e("::",!1),x=function(e){return e},j=function(e){return e.replace(/\s*$/,"")},M=",",D=$e(",",!1),k="number",R=$e("number",!1),F=function(e,t,r){return g({type:"number"===t?o.number:"date"===t?o.date:o.time,style:r&&r[2],value:e},wt())},L="'",U=$e("'",!1),N=/^[^']/,W=Je(["'"],!0,!1),B=/^[^a-zA-Z'{}]/,V=Je([["a","z"],["A","Z"],"'","{","}"],!0,!1),q=/^[a-zA-Z]/,G=Je([["a","z"],["A","Z"]],!1,!1),z=function(e){return g({type:1,pattern:e},wt())},H="date",$=$e("date",!1),J="time",K=$e("time",!1),Q="plural",Y=$e("plural",!1),Z="selectordinal",X=$e("selectordinal",!1),ee="offset:",te=$e("offset:",!1),re=function(e,t,r,n){return g({type:o.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:r?r[2]:0,options:n.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return e[r]={value:n,location:o},e}),{})},wt())},ne="select",oe=$e("select",!1),ie=function(e,t){return g({type:o.select,value:e,options:t.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return e[r]={value:n,location:o},e}),{})},wt())},ae="=",se=$e("=",!1),ue=function(e,t){return g({id:e,value:t},wt())},ce=function(e,t){return g({id:e,value:t},wt())},le=Ke("whitespace pattern"),de=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,fe=Je([["\t","\r"]," ","","","","\u2028","\u2029"],!1,!1),pe=Ke("syntax pattern"),he=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,ge=Je([["!","/"],[":","@"],["[","^"],"`",["{","~"],["",""],"","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","","",""],!1,!1),me=Ke("optional whitespace"),ye=Ke("number"),ve="-",be=$e("-",!1),Se=function(e,t){return t?e?-t:t:0},we=(Ke("apostrophe"),Ke("double apostrophes")),Ie="''",_e=$e("''",!1),Oe=function(){return"'"},Ee=/^[{}]/,Ce=Je(["{","}"],!1,!1),Pe=function(e,t){return e+t.replace("''","'")},Ae=/^[^{}]/,Te=Je(["{","}"],!0,!1),xe=Ke("argNameOrNumber"),je=Ke("argNumber"),Me="0",De=$e("0",!1),ke=function(){return 0},Re=/^[1-9]/,Fe=Je([["1","9"]],!1,!1),Le=/^[0-9]/,Ue=Je([["0","9"]],!1,!1),Ne=function(e){return parseInt(e.join(""),10)},We=Ke("argName"),Be=0,Ve=0,qe=[{line:1,column:1}],Ge=0,ze=[],He=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function $e(e,t){return{type:"literal",text:e,ignoreCase:t}}function Je(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Ke(e){return{type:"other",description:e}}function Qe(t){var r,n=qe[t];if(n)return n;for(r=t-1;!qe[r];)r--;for(n={line:(n=qe[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return qe[t]=n,n}function Ye(e,t){var r=Qe(e),n=Qe(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Ze(e){Be<Ge||(Be>Ge&&(Ge=Be,ze=[]),ze.push(e))}function Xe(e,t,r){return new m(m.buildMessage(e,t),e,t,r)}function et(){return tt()}function tt(){var e,t;for(e=[],t=rt();t!==n;)e.push(t),t=rt();return e}function rt(){var t;return(t=function(){var e,t;e=Be,(t=nt())!==n&&(Ve=e,t=u(t));return e=t}())===n&&(t=function(){var t,r,o,i;He++,t=Be,123===e.charCodeAt(Be)?(r=l,Be++):(r=n,0===He&&Ze(d));r!==n&&pt()!==n&&(o=vt())!==n&&pt()!==n?(125===e.charCodeAt(Be)?(i=f,Be++):(i=n,0===He&&Ze(p)),i!==n?(Ve=t,r=h(o),t=r):(Be=t,t=n)):(Be=t,t=n);He--,t===n&&(r=n,0===He&&Ze(c));return t}())===n&&(t=function(){var t;(t=function(){var t,r,o,i,a,s,u,c,h;t=Be,123===e.charCodeAt(Be)?(r=l,Be++):(r=n,0===He&&Ze(d));r!==n&&pt()!==n&&(o=vt())!==n&&pt()!==n?(44===e.charCodeAt(Be)?(i=M,Be++):(i=n,0===He&&Ze(D)),i!==n&&pt()!==n?(e.substr(Be,6)===k?(a=k,Be+=6):(a=n,0===He&&Ze(R)),a!==n&&pt()!==n?(s=Be,44===e.charCodeAt(Be)?(u=M,Be++):(u=n,0===He&&Ze(D)),u!==n&&(c=pt())!==n&&(h=function(){var t,r,o;t=Be,e.substr(Be,2)===A?(r=A,Be+=2):(r=n,0===He&&Ze(T));r!==n&&(o=function(){var e,t,r;if(e=Be,t=[],(r=at())!==n)for(;r!==n;)t.push(r),r=at();else t=n;t!==n&&(Ve=e,t=P(t));return e=t}())!==n?(Ve=t,r=x(o),t=r):(Be=t,t=n);t===n&&(t=Be,(r=nt())!==n&&(Ve=t,r=j(r)),t=r);return t}())!==n?s=u=[u,c,h]:(Be=s,s=n),s===n&&(s=null),s!==n&&(u=pt())!==n?(125===e.charCodeAt(Be)?(c=f,Be++):(c=n,0===He&&Ze(p)),c!==n?(Ve=t,r=F(o,a,s),t=r):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n);return t}())===n&&(t=function(){var t,r,o,i,a,s,u,c,h;t=Be,123===e.charCodeAt(Be)?(r=l,Be++):(r=n,0===He&&Ze(d));r!==n&&pt()!==n&&(o=vt())!==n&&pt()!==n?(44===e.charCodeAt(Be)?(i=M,Be++):(i=n,0===He&&Ze(D)),i!==n&&pt()!==n?(e.substr(Be,4)===H?(a=H,Be+=4):(a=n,0===He&&Ze($)),a===n&&(e.substr(Be,4)===J?(a=J,Be+=4):(a=n,0===He&&Ze(K))),a!==n&&pt()!==n?(s=Be,44===e.charCodeAt(Be)?(u=M,Be++):(u=n,0===He&&Ze(D)),u!==n&&(c=pt())!==n&&(h=function(){var t,r,o;t=Be,e.substr(Be,2)===A?(r=A,Be+=2):(r=n,0===He&&Ze(T));r!==n&&(o=function(){var t,r,o,i;t=Be,r=Be,o=[],(i=st())===n&&(i=ut());if(i!==n)for(;i!==n;)o.push(i),(i=st())===n&&(i=ut());else o=n;r=o!==n?e.substring(r,Be):o;r!==n&&(Ve=t,r=z(r));return t=r}())!==n?(Ve=t,r=x(o),t=r):(Be=t,t=n);t===n&&(t=Be,(r=nt())!==n&&(Ve=t,r=j(r)),t=r);return t}())!==n?s=u=[u,c,h]:(Be=s,s=n),s===n&&(s=null),s!==n&&(u=pt())!==n?(125===e.charCodeAt(Be)?(c=f,Be++):(c=n,0===He&&Ze(p)),c!==n?(Ve=t,r=F(o,a,s),t=r):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n);return t}());return t}())===n&&(t=function(){var t,r,o,i,a,s,u,c,h,g,m;t=Be,123===e.charCodeAt(Be)?(r=l,Be++):(r=n,0===He&&Ze(d));if(r!==n)if(pt()!==n)if((o=vt())!==n)if(pt()!==n)if(44===e.charCodeAt(Be)?(i=M,Be++):(i=n,0===He&&Ze(D)),i!==n)if(pt()!==n)if(e.substr(Be,6)===Q?(a=Q,Be+=6):(a=n,0===He&&Ze(Y)),a===n&&(e.substr(Be,13)===Z?(a=Z,Be+=13):(a=n,0===He&&Ze(X))),a!==n)if(pt()!==n)if(44===e.charCodeAt(Be)?(s=M,Be++):(s=n,0===He&&Ze(D)),s!==n)if(pt()!==n)if(u=Be,e.substr(Be,7)===ee?(c=ee,Be+=7):(c=n,0===He&&Ze(te)),c!==n&&(h=pt())!==n&&(g=ht())!==n?u=c=[c,h,g]:(Be=u,u=n),u===n&&(u=null),u!==n)if((c=pt())!==n){if(h=[],(g=lt())!==n)for(;g!==n;)h.push(g),g=lt();else h=n;h!==n&&(g=pt())!==n?(125===e.charCodeAt(Be)?(m=f,Be++):(m=n,0===He&&Ze(p)),m!==n?(Ve=t,r=re(o,a,u,h),t=r):(Be=t,t=n)):(Be=t,t=n)}else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;return t}())===n&&(t=function(){var t,r,o,i,a,s,u,c,h;t=Be,123===e.charCodeAt(Be)?(r=l,Be++):(r=n,0===He&&Ze(d));if(r!==n)if(pt()!==n)if((o=vt())!==n)if(pt()!==n)if(44===e.charCodeAt(Be)?(i=M,Be++):(i=n,0===He&&Ze(D)),i!==n)if(pt()!==n)if(e.substr(Be,6)===ne?(a=ne,Be+=6):(a=n,0===He&&Ze(oe)),a!==n)if(pt()!==n)if(44===e.charCodeAt(Be)?(s=M,Be++):(s=n,0===He&&Ze(D)),s!==n)if(pt()!==n){if(u=[],(c=ct())!==n)for(;c!==n;)u.push(c),c=ct();else u=n;u!==n&&(c=pt())!==n?(125===e.charCodeAt(Be)?(h=f,Be++):(h=n,0===He&&Ze(p)),h!==n?(Ve=t,r=ie(o,u),t=r):(Be=t,t=n)):(Be=t,t=n)}else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;else Be=t,t=n;return t}()),t}function nt(){var e,t,r;if(e=Be,t=[],(r=gt())===n&&(r=mt())===n&&(r=yt()),r!==n)for(;r!==n;)t.push(r),(r=gt())===n&&(r=mt())===n&&(r=yt());else t=n;return t!==n&&(Ve=e,t=s(t)),e=t}function ot(){var t,r,o,i,a;if(He++,t=Be,r=[],o=Be,i=Be,He++,(a=dt())===n&&(v.test(e.charAt(Be))?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(b))),He--,a===n?i=void 0:(Be=i,i=n),i!==n?(e.length>Be?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(S)),a!==n?o=i=[i,a]:(Be=o,o=n)):(Be=o,o=n),o!==n)for(;o!==n;)r.push(o),o=Be,i=Be,He++,(a=dt())===n&&(v.test(e.charAt(Be))?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(b))),He--,a===n?i=void 0:(Be=i,i=n),i!==n?(e.length>Be?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(S)),a!==n?o=i=[i,a]:(Be=o,o=n)):(Be=o,o=n);else r=n;return t=r!==n?e.substring(t,Be):r,He--,t===n&&(r=n,0===He&&Ze(y)),t}function it(){var t,r,o;return He++,t=Be,47===e.charCodeAt(Be)?(r=I,Be++):(r=n,0===He&&Ze(_)),r!==n&&(o=ot())!==n?(Ve=t,t=r=O(o)):(Be=t,t=n),He--,t===n&&(r=n,0===He&&Ze(w)),t}function at(){var e,t,r,o;if(He++,e=Be,pt()!==n)if((t=ot())!==n){for(r=[],o=it();o!==n;)r.push(o),o=it();r!==n?(Ve=e,e=C(t,r)):(Be=e,e=n)}else Be=e,e=n;else Be=e,e=n;return He--,e===n&&(n,0===He&&Ze(E)),e}function st(){var t,r,o,i;if(t=Be,39===e.charCodeAt(Be)?(r=L,Be++):(r=n,0===He&&Ze(U)),r!==n){if(o=[],(i=gt())===n&&(N.test(e.charAt(Be))?(i=e.charAt(Be),Be++):(i=n,0===He&&Ze(W))),i!==n)for(;i!==n;)o.push(i),(i=gt())===n&&(N.test(e.charAt(Be))?(i=e.charAt(Be),Be++):(i=n,0===He&&Ze(W)));else o=n;o!==n?(39===e.charCodeAt(Be)?(i=L,Be++):(i=n,0===He&&Ze(U)),i!==n?t=r=[r,o,i]:(Be=t,t=n)):(Be=t,t=n)}else Be=t,t=n;if(t===n)if(t=[],(r=gt())===n&&(B.test(e.charAt(Be))?(r=e.charAt(Be),Be++):(r=n,0===He&&Ze(V))),r!==n)for(;r!==n;)t.push(r),(r=gt())===n&&(B.test(e.charAt(Be))?(r=e.charAt(Be),Be++):(r=n,0===He&&Ze(V)));else t=n;return t}function ut(){var t,r;if(t=[],q.test(e.charAt(Be))?(r=e.charAt(Be),Be++):(r=n,0===He&&Ze(G)),r!==n)for(;r!==n;)t.push(r),q.test(e.charAt(Be))?(r=e.charAt(Be),Be++):(r=n,0===He&&Ze(G));else t=n;return t}function ct(){var t,r,o,i,a;return t=Be,pt()!==n&&(r=St())!==n&&pt()!==n?(123===e.charCodeAt(Be)?(o=l,Be++):(o=n,0===He&&Ze(d)),o!==n&&(i=tt())!==n?(125===e.charCodeAt(Be)?(a=f,Be++):(a=n,0===He&&Ze(p)),a!==n?(Ve=t,t=ue(r,i)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n),t}function lt(){var t,r,o,i,a;return t=Be,pt()!==n&&(r=function(){var t,r,o,i;return t=Be,r=Be,61===e.charCodeAt(Be)?(o=ae,Be++):(o=n,0===He&&Ze(se)),o!==n&&(i=ht())!==n?r=o=[o,i]:(Be=r,r=n),(t=r!==n?e.substring(t,Be):r)===n&&(t=St()),t}())!==n&&pt()!==n?(123===e.charCodeAt(Be)?(o=l,Be++):(o=n,0===He&&Ze(d)),o!==n&&(i=tt())!==n?(125===e.charCodeAt(Be)?(a=f,Be++):(a=n,0===He&&Ze(p)),a!==n?(Ve=t,t=ce(r,i)):(Be=t,t=n)):(Be=t,t=n)):(Be=t,t=n),t}function dt(){var t;return He++,de.test(e.charAt(Be))?(t=e.charAt(Be),Be++):(t=n,0===He&&Ze(fe)),He--,t===n&&(n,0===He&&Ze(le)),t}function ft(){var t;return He++,he.test(e.charAt(Be))?(t=e.charAt(Be),Be++):(t=n,0===He&&Ze(ge)),He--,t===n&&(n,0===He&&Ze(pe)),t}function pt(){var t,r,o;for(He++,t=Be,r=[],o=dt();o!==n;)r.push(o),o=dt();return t=r!==n?e.substring(t,Be):r,He--,t===n&&(r=n,0===He&&Ze(me)),t}function ht(){var t,r,o;return He++,t=Be,45===e.charCodeAt(Be)?(r=ve,Be++):(r=n,0===He&&Ze(be)),r===n&&(r=null),r!==n&&(o=bt())!==n?(Ve=t,t=r=Se(r,o)):(Be=t,t=n),He--,t===n&&(r=n,0===He&&Ze(ye)),t}function gt(){var t,r;return He++,t=Be,e.substr(Be,2)===Ie?(r=Ie,Be+=2):(r=n,0===He&&Ze(_e)),r!==n&&(Ve=t,r=Oe()),He--,(t=r)===n&&(r=n,0===He&&Ze(we)),t}function mt(){var t,r,o,i,a,s;if(t=Be,39===e.charCodeAt(Be)?(r=L,Be++):(r=n,0===He&&Ze(U)),r!==n)if(Ee.test(e.charAt(Be))?(o=e.charAt(Be),Be++):(o=n,0===He&&Ze(Ce)),o!==n){for(i=Be,a=[],e.substr(Be,2)===Ie?(s=Ie,Be+=2):(s=n,0===He&&Ze(_e)),s===n&&(N.test(e.charAt(Be))?(s=e.charAt(Be),Be++):(s=n,0===He&&Ze(W)));s!==n;)a.push(s),e.substr(Be,2)===Ie?(s=Ie,Be+=2):(s=n,0===He&&Ze(_e)),s===n&&(N.test(e.charAt(Be))?(s=e.charAt(Be),Be++):(s=n,0===He&&Ze(W)));(i=a!==n?e.substring(i,Be):a)!==n?(39===e.charCodeAt(Be)?(a=L,Be++):(a=n,0===He&&Ze(U)),a!==n?(Ve=t,t=r=Pe(o,i)):(Be=t,t=n)):(Be=t,t=n)}else Be=t,t=n;else Be=t,t=n;return t}function yt(){var t,r;return t=Be,Ae.test(e.charAt(Be))?(r=e.charAt(Be),Be++):(r=n,0===He&&Ze(Te)),t=r!==n?e.substring(t,Be):r}function vt(){var t,r;return He++,t=Be,(r=bt())===n&&(r=St()),t=r!==n?e.substring(t,Be):r,He--,t===n&&(r=n,0===He&&Ze(xe)),t}function bt(){var t,r,o,i,a;if(He++,t=Be,48===e.charCodeAt(Be)?(r=Me,Be++):(r=n,0===He&&Ze(De)),r!==n&&(Ve=t,r=ke()),(t=r)===n){if(t=Be,r=Be,Re.test(e.charAt(Be))?(o=e.charAt(Be),Be++):(o=n,0===He&&Ze(Fe)),o!==n){for(i=[],Le.test(e.charAt(Be))?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(Ue));a!==n;)i.push(a),Le.test(e.charAt(Be))?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(Ue));i!==n?r=o=[o,i]:(Be=r,r=n)}else Be=r,r=n;r!==n&&(Ve=t,r=Ne(r)),t=r}return He--,t===n&&(r=n,0===He&&Ze(je)),t}function St(){var t,r,o,i,a;if(He++,t=Be,r=[],o=Be,i=Be,He++,(a=dt())===n&&(a=ft()),He--,a===n?i=void 0:(Be=i,i=n),i!==n?(e.length>Be?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(S)),a!==n?o=i=[i,a]:(Be=o,o=n)):(Be=o,o=n),o!==n)for(;o!==n;)r.push(o),o=Be,i=Be,He++,(a=dt())===n&&(a=ft()),He--,a===n?i=void 0:(Be=i,i=n),i!==n?(e.length>Be?(a=e.charAt(Be),Be++):(a=n,0===He&&Ze(S)),a!==n?o=i=[i,a]:(Be=o,o=n)):(Be=o,o=n);else r=n;return t=r!==n?e.substring(t,Be):r,He--,t===n&&(r=n,0===He&&Ze(We)),t}function wt(){return t&&t.captureLocation?{location:Ye(Ve,Be)}:{}}if((r=a())!==n&&Be===e.length)return r;throw r!==n&&Be<e.length&&Ze({type:"end"}),Xe(ze,Ge<e.length?e.charAt(Ge):null,Ge<e.length?Ye(Ge,Ge+1):Ye(Ge,Ge))},v=/(^|[^\\])#/g;function b(e,t){var r=y(e,t);return t&&!1===t.normalizeHashtagInPlural||function e(t){t.forEach((function(t){(f(t)||d(t))&&Object.keys(t.options).forEach((function(r){for(var n,o=t.options[r],i=-1,s=void 0,u=0;u<o.value.length;u++){var c=o.value[u];if(a(c)&&v.test(c.value)){i=u,s=c;break}}if(s){var l=s.value.replace(v,"$1{"+t.value+", number}"),d=y(l);(n=o.value).splice.apply(n,[i,1].concat(d))}e(o.value)}))}))}(r),r}function S(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var r;return(r={})[e]=t[e],r}))):e;var t})))}var w,I=function(e,t){return void 0===t&&(t={}),function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=S(n),a=i&&t[i];return a||(a=new((r=e).bind.apply(r,[void 0].concat(n))),i&&(t[i]=a)),a}},_=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O=/\\#/g,E=function(e){function t(t,r){var n=e.call(this,t)||this;return n.variableId=r,n}return _(t,e),t}(Error);function C(e,t,r,n,o,i){if(1===e.length&&a(e[0]))return[{type:0,value:e[0].value.replace(O,"#")}];for(var p,h=[],g=0,m=e;g<m.length;g++){var y=m[g];if(a(y))h.push({type:0,value:y.value.replace(O,"#")});else{var v=y.value;if(!(o&&v in o))throw new E('The intl string context variable "'+v+'" was not provided to the string "'+i+'"');var b=o[v];if(s(y))b&&"string"!=typeof b&&"number"!=typeof b||(b="string"==typeof b||"number"==typeof b?String(b):""),h.push({type:1,value:b});else if(c(y)){var S="string"==typeof y.style?n.date[y.style]:void 0;h.push({type:0,value:r.getDateTimeFormat(t,S).format(b)})}else if(l(y)){S="string"==typeof y.style?n.time[y.style]:void 0;h.push({type:0,value:r.getDateTimeFormat(t,S).format(b)})}else if(u(y)){S="string"==typeof y.style?n.number[y.style]:void 0;h.push({type:0,value:r.getNumberFormat(t,S).format(b)})}else if(d(y)){if(!(w=y.options[b]||y.options.other))throw new RangeError('Invalid values for "'+y.value+'": "'+b+'". Options are "'+Object.keys(y.options).join('", "')+'"');h.push.apply(h,C(w.value,t,r,n,o))}else if(f(y)){var w;if(!(w=y.options["="+b])){var I=r.getPluralRules(t,{type:y.pluralType}).select(b-(y.offset||0));w=y.options[I]||y.options.other}if(!w)throw new RangeError('Invalid values for "'+y.value+'": "'+b+'". Options are "'+Object.keys(y.options).join('", "')+'"');h.push.apply(h,C(w.value,t,r,n,o))}else;}}return(p=h).length<2?p:p.reduce((function(e,t){var r=e[e.length-1];return r&&0===r.type&&0===t.type?r.value+=t.value:e.push(t),e}),[])}var P="@@",A=/@@(.*?)@@/g,T=0;function x(e,t){return e.split(A).filter(Boolean).map((function(e){return null!=t[e]?t[e]:e})).reduce((function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e}),[])}var j=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,M=Date.now()+"@@";function D(e,t,r,n,o,i){var a=C(e,t,r,n,o,i),s={},u=a.reduce((function(e,t){if(0===t.type)return e+t.value;var r=Date.now()+"_"+ ++T;return s[r]=t.value,e+""+P+r+P}),"");if(!j.test(u))return x(u,s);if(!o)throw new E("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new E("Cannot format XML message without DOMParser");w||(w=new DOMParser);var c=w.parseFromString('<formatted-message id="'+M+'">'+u+"</formatted-message>","text/html").getElementById(M);if(!c)throw new E("Malformed HTML message "+u);var l=Object.keys(o).filter((function(e){return!!c.getElementsByTagName(e).length}));if(!l.length)return x(u,s);var d=l.filter((function(e){return e!==e.toLowerCase()}));if(d.length)throw new E("HTML tag must be lowercased but the following tags are not: "+d.join(", "));return Array.prototype.slice.call(c.childNodes).reduce((function(e,t){var r=t.tagName,n=t.outerHTML,i=t.textContent;if(!r){var a=x(i||"",s);return e.concat(a)}if(r=r.toLowerCase(),!o[r])return 1===(a=x(n,s)).length?e.concat([a[0]]):e.concat(a);var u=o[r];if("function"==typeof u){if(null==i)return e.concat([u(i||void 0)]);a=x(i,s);return e.concat([u.apply(void 0,a)])}return e.concat([u])}),[])}var k=function(){return(k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function R(e,t){return t?Object.keys(e).reduce((function(r,n){var o,i;return r[n]=(o=e[n],(i=t[n])?k({},o||{},i||{},Object.keys(o).reduce((function(e,t){return e[t]=k({},o[t],i[t]||{}),e}),{})):o),r}),k({},e)):e}var F=function(){function e(t,r,n,o){var i,p=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return function(e,t,r,n,o,i){var a=C(e,t,r,n,o,i);return 1===a.length?a[0].value:a.reduce((function(e,t){return e+t.value}),"")}(p.ast,p.locale,p.formatters,p.formats,e,p.message)},this.formatToParts=function(e){return C(p.ast,p.locale,p.formatters,p.formats,e,p.message)},this.formatHTMLMessage=function(e){return D(p.ast,p.locale,p.formatters,p.formats,e,p.message)},this.resolvedOptions=function(){return{locale:p.locale}},this.getAst=function(){return p.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t)}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=R(e.formats,n),this.locale=function(e){"string"==typeof e&&(e=[e]);try{return Intl.NumberFormat.supportedLocalesOf(e,{localeMatcher:"best fit"})[0]}catch(e){return F.defaultLocale}}(r||[]),this.formatters=o&&o.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:I(Intl.NumberFormat,i.number),getDateTimeFormat:I(Intl.DateTimeFormat,i.dateTime),getPluralRules:I(Intl.PluralRules,i.pluralRules)}),function e(t,r,n,o){t.filter((function(e){return!s(e)&&!a(e)})).forEach((function(t){if(c(t)){var i="string"==typeof t.style?o.date[t.style]:void 0;n.getDateTimeFormat(r,i)}if(l(t)){i="string"==typeof t.style?o.time[t.style]:void 0;n.getDateTimeFormat(r,i)}if(u(t)){i="string"==typeof t.style?o.number[t.style]:void 0;n.getNumberFormat(r,i)}d(t)&&Object.keys(t.options).forEach((function(i){return e(t.options[i].value,r,n,o)})),f(t)&&(n.getPluralRules(r,{type:t.pluralType}),Object.keys(t.options).forEach((function(i){return e(t.options[i].value,r,n,o)})))}))}(this.ast,this.locale,this.formatters,this.formats)}return e.defaultLocale="en",e.__parse=b,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),L=F,U=r(8),N=r.n(U);const W=N.a||U,B={38:"&amp;",62:"&gt;",60:"&lt;",34:"&quot;",39:"&#x27;"},V=/[&><"']/g;function q(e,t,r={}){return t.reduce((t,n)=>(e.hasOwnProperty(n)?t[n]=e[n]:r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}function G(e){W(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function z(e,t){return`[React Intl] ${e}${t?`\n${t.stack}`:""}`}const H={formats:{},messages:{},timeZone:void 0,textComponent:i.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function $(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{}}}function J(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{}}){return{getDateTimeFormat:I(Intl.DateTimeFormat,e.dateTime),getNumberFormat:I(Intl.NumberFormat,e.number),getMessageFormat:I(L,e.message),getRelativeTimeFormat:I(Intl.RelativeTimeFormat,e.relativeTime),getPluralRules:I(Intl.PluralRules,e.pluralRules)}}var K=r(27);const Q=r.n(K).a||K;const Y=i.createContext(null),{Consumer:Z,Provider:X}=Y,ee=X,te=Y;function re(e,t){const{intlPropName:r="intl",forwardRef:n=!1,enforceContext:o=!0}=t||{},a=t=>i.createElement(Z,null,a=>(o&&G(a),i.createElement(e,Object.assign({},t,{[r]:a},{ref:n?t.forwardedRef:null}))));var s;return a.displayName=`injectIntl(${s=e,s.displayName||s.name||"Component"})`,a.WrappedComponent=e,Q(n?i.forwardRef((e,t)=>i.createElement(a,Object.assign({},e,{forwardedRef:t}))):a,e)}var ne;function oe(e){const t=t=>i.createElement(te.Consumer,null,r=>{G(r);const n=r[e](t.value,t);if("function"==typeof t.children)return t.children(n);const o=r.textComponent||i.Fragment;return i.createElement(o,null,n)});return t.displayName=ne[e],t}function ie(){const e=Object(i.useContext)(te);return G(e),e}!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber"}(ne||(ne={}));const ae=N.a||U,se=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],ue=["localeMatcher","style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],ce=["numeric","style"],le=["localeMatcher","type"];function de(e,t,r,n){const o=e&&e[t];let i;if(o&&(i=o[r]),i)return i;n(z(`No ${t} format named: ${r}`))}function fe({locale:e,formats:t,onError:r,timeZone:n},o,i,a={}){const{format:s}=a;let u=Object.assign({},n&&{timeZone:n},s&&de(t,"date",s,r)),c=q(a,se,u);const l="string"==typeof i?new Date(i||0):i;try{return o.getDateTimeFormat(e,c).format(l)}catch(e){r(z("Error formatting date.",e))}return String(l)}function pe({locale:e,formats:t,onError:r,timeZone:n},o,i,a={}){const{format:s}=a;let u=Object.assign({},n&&{timeZone:n},s&&de(t,"time",s,r)),c=q(a,se,u);c.hour||c.minute||c.second||(c=Object.assign({},c,{hour:"numeric",minute:"numeric"}));const l="string"==typeof i?new Date(i||0):i;try{return o.getDateTimeFormat(e,c).format(l)}catch(e){r(z("Error formatting time.",e))}return String(l)}function he({locale:e,formats:t,onError:r},n,o,i="second",a={}){const{format:s}=a;let u=!!s&&de(t,"relative",s,r)||{},c=q(a,ce,u);try{return n.getRelativeTimeFormat(e,c).format(o,i)}catch(e){r(z("Error formatting relative time.",e))}return String(o)}function ge({locale:e,formats:t,onError:r},n,o,i={}){const{format:a}=i;let s=a&&de(t,"number",a,r)||{},u=q(i,ue,s);try{return n.getNumberFormat(e,u).format(o)}catch(e){r(z("Error formatting number.",e))}return String(o)}function me({locale:e,onError:t},r,n,o={}){let i=q(o,le);try{return r.getPluralRules(e,i).select(n)}catch(e){t(z("Error formatting plural.",e))}return"other"}function ye({locale:e,formats:t,messages:r,defaultLocale:n,defaultFormats:i,onError:a},s,u={id:""},c={}){const{id:l,defaultMessage:d}=u;ae(l,"[React Intl] An `id` must be provided to format a message.");const f=r&&r[l];if(!(Object.keys(c).length>0)){const e=f||d||l;return"string"==typeof e?e.replace(/'\{(.*?)\}'/g,"{$1}"):(ae(1===e.length&&e[0].type===o.literal,"Message has placeholders but no values was provided"),e[0].value)}let p=[];if(f)try{p=s.getMessageFormat(f,e,t,{formatters:s}).formatHTMLMessage(c)}catch(t){a(z(`Error formatting message: "${l}" for locale: "${e}"`+(d?", using default message as fallback.":""),t))}else(!d||e&&e.toLowerCase()!==n.toLowerCase())&&a(z(`Missing message: "${l}" for locale: "${e}"`+(d?", using default message as fallback.":"")));if(!p.length&&d)try{p=s.getMessageFormat(d,n,i).formatHTMLMessage(c)}catch(e){a(z(`Error formatting the default message for: "${l}"`,e))}return p.length?1===p.length&&"string"==typeof p[0]?p[0]||d||l:p:(a(z(`Cannot format message: "${l}", `+`using message ${f||d?"source":"id"} as fallback.`)),"string"==typeof f?f||d||l:d||l)}function ve(e,t,r={id:""},n={}){return ye(e,t,r,Object.keys(n).reduce((e,t)=>{let r=n[t];return e[t]="string"==typeof r?function(e){return(""+e).replace(V,e=>B[e.charCodeAt(0)])}(r):r,e},{}))}var be=r(34),Se=r.n(be);const we=Se.a||be;function Ie(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError}}class _e extends i.PureComponent{constructor(){super(...arguments),this.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{}},this.state={cache:this.cache,intl:Oe(Ie(this.props),this.cache),prevConfig:Ie(this.props)}}static getDerivedStateFromProps(e,{prevConfig:t,cache:r}){const n=Ie(e);return we(t,n)?null:{intl:Oe(n,r),prevConfig:n}}render(){return G(this.state.intl),i.createElement(ee,{value:this.state.intl},this.props.children)}}function Oe(e,t){const r=J(t),n=Object.assign({},H,e);if(!n.locale||!function(e,t){if("undefined"==typeof Intl)return!1;if(!e)throw new Error("locales must be supplied.");Array.isArray(e)||(e=[e]),t||(t=[Intl.DateTimeFormat,Intl.NumberFormat,Intl.PluralRules]);var r=t.filter(Boolean);return 0!==r.length&&r.every((function(t){return t.supportedLocalesOf(e).length===e.length}))}(n.locale)){const{locale:e,defaultLocale:t,onError:r}=n;"function"==typeof r&&r(z(`Missing locale data for locale: "${e}". `+`Using default locale: "${t}" as fallback.`)),n.locale=n.defaultLocale||"en"}return Object.assign({},n,{formatters:r,formatNumber:ge.bind(void 0,n,r),formatRelativeTime:he.bind(void 0,n,r),formatDate:fe.bind(void 0,n,r),formatTime:pe.bind(void 0,n,r),formatPlural:me.bind(void 0,n,r),formatMessage:ye.bind(void 0,n,r),formatHTMLMessage:ve.bind(void 0,n,r)})}_e.displayName="IntlProvider",_e.defaultProps=H;const Ee=N.a||U,Ce=60,Pe=3600,Ae=86400;function Te(e){const t=Math.abs(e);return t<Ce?"second":t<Pe?"minute":t<Ae?"hour":"day"}function xe(e){switch(e){case"second":return 1;case"minute":return Ce;case"hour":return Pe;default:return Ae}}function je(e,t){if(!e)return 0;switch(t){case"second":return e;case"minute":return e*Ce;default:return e*Pe}}const Me=["second","minute","hour"];function De(e="second"){return Me.includes(e)}class ke extends i.PureComponent{constructor(e){var t,r;super(e),this._updateTimer=null,this.state={prevUnit:this.props.unit,prevValue:this.props.value,currentValueInSeconds:De(this.props.unit)?je(this.props.value,this.props.unit):0},t=e.updateIntervalInSeconds,r=e.unit,Ee(!t||t&&De(r),"Cannot schedule update with unit longer than hour")}scheduleNextUpdate({updateIntervalInSeconds:e,unit:t},{currentValueInSeconds:r}){if(clearTimeout(this._updateTimer),this._updateTimer=null,!e||!De(t))return;const n=r-e,o=Te(n);if("day"===o)return;const i=xe(o),a=n-n%i,s=a>=r?a-i:a,u=Math.abs(s-r);this._updateTimer=setTimeout(()=>this.setState({currentValueInSeconds:s}),1e3*u)}componentDidMount(){this.scheduleNextUpdate(this.props,this.state)}componentDidUpdate(){this.scheduleNextUpdate(this.props,this.state)}componentWillUnmount(){clearTimeout(this._updateTimer),this._updateTimer=null}static getDerivedStateFromProps(e,t){return e.unit!==t.prevUnit||e.value!==t.prevValue?{prevValue:e.value,prevUnit:e.unit,currentValueInSeconds:De(e.unit)?je(e.value,e.unit):0}:null}render(){return i.createElement(te.Consumer,null,e=>{G(e);const{formatRelativeTime:t,textComponent:r}=e,{children:n,value:o,unit:a,updateIntervalInSeconds:s}=this.props,{currentValueInSeconds:u}=this.state;let c=o||0,l=a;if(De(a)&&u&&s){l=Te(u);const e=xe(l);c=Math.round(u/e)}const d=t(c,l,Object.assign({},this.props));return"function"==typeof n?n(d):r?i.createElement(r,null,d):d})}}ke.displayName="FormattedRelativeTime",ke.defaultProps={value:0,unit:"second"};var Re=ke;const Fe=e=>{const{value:t,other:r,children:n,intl:{formatPlural:o,textComponent:a}}=e;let s=e[o(t,e)]||r;return"function"==typeof n?n(s):a?i.createElement(a,null,s):s};Fe.defaultProps={type:"cardinal"},Fe.displayName="FormattedPlural";var Le=re(Fe),Ue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};const Ne=Se.a||be,We=(e,t)=>ye(Object.assign({},H,{locale:"en"}),J(),e,t);class Be extends i.Component{shouldComponentUpdate(e){const t=this.props,{values:r}=t,n=Ue(t,["values"]),{values:o}=e,i=Ue(e,["values"]);return!Ne(o,r)||!Ne(n,i)}render(){return i.createElement(te.Consumer,null,e=>{this.props.defaultMessage||G(e);const{formatMessage:t=We,textComponent:r=i.Fragment}=e||{},{id:n,description:o,defaultMessage:a,values:s,children:u,tagName:c=r}=this.props;let l=t({id:n,description:o,defaultMessage:a},s);return Array.isArray(l)||(l=[l]),"function"==typeof u?u(...l):c?i.createElement(c,null,...l):l})}}Be.displayName="FormattedMessage",Be.defaultProps={values:{}};var Ve=Be;class qe extends Ve{render(){return i.createElement(te.Consumer,null,e=>{this.props.defaultMessage||G(e);const{formatHTMLMessage:t,textComponent:r}=e,{id:n,description:o,defaultMessage:a,values:s,tagName:u=r||"span",children:c}=this.props;let l=t({id:n,description:o,defaultMessage:a},s);if("function"==typeof c)return c(l);const d={__html:l};return i.createElement(u,{dangerouslySetInnerHTML:d})})}}qe.displayName="FormattedHTMLMessage",qe.defaultProps=Object.assign({},Ve.defaultProps,{tagName:"span"});var Ge=qe;r.d(t,"FormattedDate",(function(){return ze})),r.d(t,"FormattedTime",(function(){return He})),r.d(t,"FormattedNumber",(function(){return $e})),r.d(t,"defineMessages",(function(){return n})),r.d(t,"injectIntl",(function(){return re})),r.d(t,"RawIntlProvider",(function(){return ee})),r.d(t,"IntlContext",(function(){return te})),r.d(t,"useIntl",(function(){return ie})),r.d(t,"IntlProvider",(function(){return _e})),r.d(t,"createIntl",(function(){return Oe})),r.d(t,"FormattedRelativeTime",(function(){return Re})),r.d(t,"FormattedPlural",(function(){return Le})),r.d(t,"FormattedMessage",(function(){return Ve})),r.d(t,"FormattedHTMLMessage",(function(){return Ge})),r.d(t,"createIntlCache",(function(){return $}));const ze=oe("formatDate"),He=oe("formatTime"),$e=oe("formatNumber")},function(e,t,r){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(var i=0;i<o;i++){var a=r[i];if(e[a]!==t[a])return!1}return!0}},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",o=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,l=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,m=h||g||Function("return this")();var y,v=Array.prototype,b=Function.prototype,S=Object.prototype,w=m["__core-js_shared__"],I=(y=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",_=b.toString,O=S.hasOwnProperty,E=S.toString,C=RegExp("^"+_.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=m.Symbol,A=v.splice,T=W(m,"Map"),x=W(Object,"create"),j=P?P.prototype:void 0,M=j?j.toString:void 0;function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function F(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function L(e,t){for(var r,n=0,o=(t=function(e,t){if(G(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||H(e))return!0;return c.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:G(r=t)?r:B(r)).length;null!=e&&n<o;)e=e[V(t[n++])];return n&&n==o?e:void 0}function U(e){return!(!z(e)||(t=e,I&&I in t))&&(function(e){var t=z(e)?E.call(e):"";return t==i||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:p).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function N(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function W(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return U(r)?r:void 0}D.prototype.clear=function(){this.__data__=x?x(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(x){var r=t[e];return r===n?void 0:r}return O.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:O.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?n:t,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(e){var t=this.__data__,r=F(t,e);return!(r<0)&&(r==t.length-1?t.pop():A.call(t,r,1),!0)},k.prototype.get=function(e){var t=this.__data__,r=F(t,e);return r<0?void 0:t[r][1]},k.prototype.has=function(e){return F(this.__data__,e)>-1},k.prototype.set=function(e,t){var r=this.__data__,n=F(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new D,map:new(T||k),string:new D}},R.prototype.delete=function(e){return N(this,e).delete(e)},R.prototype.get=function(e){return N(this,e).get(e)},R.prototype.has=function(e){return N(this,e).has(e)},R.prototype.set=function(e,t){return N(this,e).set(e,t),this};var B=q((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(H(e))return M?M.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var r=[];return l.test(e)&&r.push(""),e.replace(d,(function(e,t,n,o){r.push(n?o.replace(f,"$1"):t||e)})),r}));function V(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(q.Cache||R),n}q.Cache=R;var G=Array.isArray;function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&E.call(e)==s}e.exports=function(e,t,r){var n=null==e?void 0:L(e,t);return void 0===n?r:n}}).call(this,r(19))},,function(e,t,r){"use strict";const n=r(135),o=r(136),i=r(137);function a(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e,t){return t.decode?o(e):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":return(e,t,r)=>{const n="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;r[e]=n};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,a]=i(o.replace(/\+/g," "),"=");a=void 0===a?null:s(a,t),t.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):!t.parseBooleans||null===a||"true"!==a.toLowerCase()&&"false"!==a.toLowerCase()||(a="true"===a.toLowerCase()),r(s(e,t),a,n)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=c,t.parse=l,t.stringify=(e,t)=>{if(!e)return"";const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n?r:null===n?[...r,[a(t,e),"[",o,"]"].join("")]:[...r,[a(t,e),"[",a(o,e),"]=",a(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n?r:null===n?[...r,[a(t,e),"[]"].join("")]:[...r,[a(t,e),"[]=",a(n,e)].join("")];case"comma":return t=>(r,n,o)=>null==n||0===n.length?r:0===o?[[a(t,e),"=",a(n,e)].join("")]:[[r,a(n,e)].join(",")];default:return t=>(r,n)=>void 0===n?r:null===n?[...r,a(t,e)]:[...r,[a(t,e),"=",a(n,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),n=Object.keys(e);return!1!==t.sort&&n.sort(t.sort),n.map(n=>{const o=e[n];return void 0===o?"":null===o?a(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):a(n,t)+"="+a(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:u(e).split("?")[0]||"",query:l(c(e),t)})},function(e,t,r){(function(e,r){var n=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Function]",g="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",S="[object Proxy]",w="[object RegExp]",I="[object Set]",_="[object String]",O="[object Symbol]",E="[object Undefined]",C="[object ArrayBuffer]",P="[object DataView]",A=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[u]=x[c]=x[C]=x[d]=x[P]=x[f]=x[p]=x[h]=x[m]=x[y]=x[b]=x[w]=x[I]=x[_]=x["[object WeakMap]"]=!1;var j="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,D=j||M||Function("return this")(),k=t&&!t.nodeType&&t,R=k&&"object"==typeof r&&r&&!r.nodeType&&r,F=R&&R.exports===k,L=F&&j.process,U=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),N=U&&U.isTypedArray;function W(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function B(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,G,z,H=Array.prototype,$=Function.prototype,J=Object.prototype,K=D["__core-js_shared__"],Q=$.toString,Y=J.hasOwnProperty,Z=(q=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",X=J.toString,ee=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=F?D.Buffer:void 0,re=D.Symbol,ne=D.Uint8Array,oe=J.propertyIsEnumerable,ie=H.splice,ae=re?re.toStringTag:void 0,se=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=(G=Object.keys,z=Object,function(e){return G(z(e))}),le=Ue(D,"DataView"),de=Ue(D,"Map"),fe=Ue(D,"Promise"),pe=Ue(D,"Set"),he=Ue(D,"WeakMap"),ge=Ue(Object,"create"),me=Ve(le),ye=Ve(de),ve=Ve(fe),be=Ve(pe),Se=Ve(he),we=re?re.prototype:void 0,Ie=we?we.valueOf:void 0;function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ee;++t<r;)this.add(e[t])}function Pe(e){var t=this.__data__=new Oe(e);this.size=t.size}function Ae(e,t){var r=ze(e),n=!r&&Ge(e),o=!r&&!n&&He(e),i=!r&&!n&&!o&&Ye(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!Y.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,u))||s.push(c);return s}function Te(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function xe(e){return null==e?void 0===e?E:v:ae&&ae in Object(e)?function(e){var t=Y.call(e,ae),r=e[ae];try{e[ae]=void 0;var n=!0}catch(e){}var o=X.call(e);n&&(t?e[ae]=r:delete e[ae]);return o}(e):function(e){return X.call(e)}(e)}function je(e){return Qe(e)&&xe(e)==u}function Me(e,t,r,n,o){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var l=ze(e),h=ze(t),g=l?c:We(e),v=h?c:We(t),S=(g=g==u?b:g)==b,E=(v=v==u?b:v)==b,A=g==v;if(A&&He(e)){if(!He(t))return!1;l=!0,S=!1}if(A&&!S)return s||(s=new Pe),l||Ye(e)?Re(e,t,r,n,o,s):function(e,t,r,n,o,s,u){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case d:case f:case y:return qe(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case _:return e==t+"";case m:var c=B;case I:var l=n&i;if(c||(c=V),e.size!=t.size&&!l)return!1;var h=u.get(e);if(h)return h==t;n|=a,u.set(e,t);var g=Re(c(e),c(t),n,o,s,u);return u.delete(e),g;case O:if(Ie)return Ie.call(e)==Ie.call(t)}return!1}(e,t,g,r,n,o,s);if(!(r&i)){var T=S&&Y.call(e,"__wrapped__"),x=E&&Y.call(t,"__wrapped__");if(T||x){var j=T?e.value():e,M=x?t.value():t;return s||(s=new Pe),o(j,M,r,n,s)}}if(!A)return!1;return s||(s=new Pe),function(e,t,r,n,o,a){var s=r&i,u=Fe(e),c=u.length,l=Fe(t).length;if(c!=l&&!s)return!1;var d=c;for(;d--;){var f=u[d];if(!(s?f in t:Y.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var h=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<c;){f=u[d];var m=e[f],y=t[f];if(n)var v=s?n(y,m,f,t,e,a):n(m,y,f,e,t,a);if(!(void 0===v?m===y||o(m,y,r,n,a):v)){h=!1;break}g||(g="constructor"==f)}if(h&&!g){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,r,n,o,s)}(e,t,r,n,Me,o))}function De(e){return!(!Ke(e)||function(e){return!!Z&&Z in e}(e))&&($e(e)?ee:A).test(Ve(e))}function ke(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||J,t!==n)return ce(e);var t,r,n,o=[];for(var i in Object(e))Y.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Re(e,t,r,n,o,s){var u=r&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var f=-1,p=!0,h=r&a?new Ce:void 0;for(s.set(e,t),s.set(t,e);++f<c;){var g=e[f],m=t[f];if(n)var y=u?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!W(t,(function(e,t){if(i=t,!h.has(i)&&(g===e||o(g,e,r,n,s)))return h.push(t);var i}))){p=!1;break}}else if(g!==m&&!o(g,m,r,n,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Fe(e){return function(e,t,r){var n=t(e);return ze(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ze,Ne)}function Le(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return De(r)?r:void 0}_e.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===o?void 0:r}return Y.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Y.call(t,e)},_e.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?o:t,this},Oe.prototype.clear=function(){this.__data__=[],this.size=0},Oe.prototype.delete=function(e){var t=this.__data__,r=Te(t,e);return!(r<0)&&(r==t.length-1?t.pop():ie.call(t,r,1),--this.size,!0)},Oe.prototype.get=function(e){var t=this.__data__,r=Te(t,e);return r<0?void 0:t[r][1]},Oe.prototype.has=function(e){return Te(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var r=this.__data__,n=Te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(de||Oe),string:new _e}},Ee.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},Ee.prototype.get=function(e){return Le(this,e).get(e)},Ee.prototype.has=function(e){return Le(this,e).has(e)},Ee.prototype.set=function(e,t){var r=Le(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,o),this},Ce.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.clear=function(){this.__data__=new Oe,this.size=0},Pe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Oe){var o=r.__data__;if(!de||o.length<n-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ee(o)}return r.set(e,t),this.size=r.size,this};var Ne=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(se(e),(function(t){return oe.call(e,t)})))}:function(){return[]},We=xe;function Be(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(le&&We(new le(new ArrayBuffer(1)))!=P||de&&We(new de)!=m||fe&&"[object Promise]"!=We(fe.resolve())||pe&&We(new pe)!=I||he&&"[object WeakMap]"!=We(new he))&&(We=function(e){var t=xe(e),r=t==b?e.constructor:void 0,n=r?Ve(r):"";if(n)switch(n){case me:return P;case ye:return m;case ve:return"[object Promise]";case be:return I;case Se:return"[object WeakMap]"}return t});var Ge=je(function(){return arguments}())?je:function(e){return Qe(e)&&Y.call(e,"callee")&&!oe.call(e,"callee")},ze=Array.isArray;var He=ue||function(){return!1};function $e(e){if(!Ke(e))return!1;var t=xe(e);return t==h||t==g||t==l||t==S}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var Ye=N?function(e){return function(t){return e(t)}}(N):function(e){return Qe(e)&&Je(e.length)&&!!x[xe(e)]};function Ze(e){return null!=(t=e)&&Je(t.length)&&!$e(t)?Ae(e):ke(e);var t}r.exports=function(e,t){return Me(e,t)}}).call(this,r(19),r(175)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97),o=r(35),i=function(){function e(){this.state={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._mutableStoreManager=e.instance),e.instance},e.prototype.updateStateValue=function(e,t){n(this.state,e,t)},e.prototype.getStateValue=function(e){return o(this.state,e)},e.prototype.getState=function(){return this.state},e}();t.default=i},function(e,t,r){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(15),u=r(7),c=r(13),l=r(10),d=r(4),f=r(35),p=r(12),h=r(5),g=r(61),m=function(){function e(){var e=this;this.jimuThemeStyleModule={},this.jimuComponentStyles={},this.jimuThemeVariablesGenerators={},this.themeLoadPromises={},this.themeModules={},this.loadThemeVariables=function(t){return e.themeLoadPromises[t]||(e.themeLoadPromises[t]={}),e.themeLoadPromises[t].variables?e.themeLoadPromises[t].variables:(e.themeLoadPromises[t].variables=window.fetch(""+c.getAbsoluteRootUrl()+t+"/variables.json").then((function(e){return e.json()})).then((function(e){return l(e)})),e.themeLoadPromises[t].variables)},this.updateThemeCustomVariables=function(t,r){e.themeModules[t]&&e.themeModules[t].variables&&(e.themeModules[t].variables.customVariables=r,d.getAppStore().getState().appConfig.theme===t&&d.getAppStore().dispatch(h.themeVariablesChanged(e.getThemeVariables(t))))},this.getGlobalStyles=function(t){return e.getComponentStyles("Global",Object.assign({theme:t}))},this.getComponentStyles=function(t,r){var o,i,u=d.getAppStore()&&d.getAppStore().getState().appConfig&&d.getAppStore().getState().appConfig.theme;return o=e.jimuComponentStyles[t],i=e.themeModules[u]&&e.themeModules[u].styleModule&&e.themeModules[u].styleModule[t],s.css(a||(a=n(["\n      ","\n      ","\n    "],["\n      ","\n      ","\n    "])),o&&o(r),i&&i(r))},d.observeStore(this.onThemeChange.bind(this),["appConfig","theme"]),d.observeStore(this.onCustomThemeChange.bind(this),["appConfig","customTheme"])}return e.getInstance=function(){return e.instance||(e.instance=new e,window._themeManager=e.instance),e.instance},e.prototype.registerJimuThemeStyleModule=function(e,t){var r=this;this.jimuThemeStyleModule[e]||(this.jimuThemeStyleModule[e]=t,t.variablesGenerator&&(this.jimuThemeVariablesGenerators[e]=t.variablesGenerator),Object.entries(t.componentStyles).forEach((function(e){var t=e[0],n=e[1];r.jimuComponentStyles[t]?console.error("Component name conflicts.",t):r.jimuComponentStyles[t]=n})))},e.prototype.loadTheme=function(e){return o(this,void 0,void 0,(function(){var t,r,n,o,a,s,c;return i(this,(function(i){switch(i.label){case 0:return t=d.getAppStore().getState().appConfig,this.themeModules[e]?(this.updateThemeVariablesInState(t),[2,Promise.resolve(this.themeModules[e])]):(this.themeLoadPromises[e]={},"themes/default/"!==e?[3,1]:(r={manifest:l({}),styleModule:null,variables:{themeVariables:l({}),mergedToJimuVariables:this.mergeThemeVarsToJimuVars(l({})),customVariables:l({})}},[3,8]));case 1:return t.theme===e&&t.themeManifest?(o=t.themeManifest,[3,4]):[3,2];case 2:return[4,this.loadThemeManifest(e)];case 3:o=i.sent(),i.label=4;case 4:return n=o,[4,this.loadThemeVariables(e)];case 5:return a=i.sent(),s={manifest:n},(c=n.styleFiles&&n.styleFiles.js)?[4,u.loadModule(e+"/style.js")]:[3,7];case 6:c=i.sent(),i.label=7;case 7:s.styleModule=c,s.variables={themeVariables:a,mergedToJimuVariables:this.mergeThemeVarsToJimuVars(a),customVariables:l({})},r=s,i.label=8;case 8:return this.themeModules[e]=r,this.updateThemeVariablesInState(t),[2,Promise.resolve(r)]}}))}))},e.prototype.updateThemeVariablesInState=function(e){e.customTheme&&!p.isDeepEqual(e.customTheme,{})?this.updateThemeCustomVariables(e.theme,e.customTheme):d.getAppStore().dispatch(h.themeVariablesChanged(this.getThemeVariables(e.theme)))},e.prototype.isThemeLoaded=function(e){return!!this.themeModules[e]},e.prototype.loadThemeManifest=function(e){return this.themeLoadPromises[e]||(this.themeLoadPromises[e]={}),this.themeLoadPromises[e].manifest?this.themeLoadPromises[e].manifest:(this.themeLoadPromises[e].manifest=fetch(""+c.getAbsoluteRootUrl()+e+"/manifest.json").then((function(e){return e.json()})).then((function(e){var t=l(e);return Promise.resolve(t)})),this.themeLoadPromises[e].manifest)},e.prototype.addThemeCustomVariables=function(e,t){if(this.themeModules[e]&&this.themeModules[e].variables)return this.themeModules[e].variables.customVariables=this.themeModules[e].variables.customVariables.merge(t,{deep:!0}),d.getAppStore().getState().appConfig.theme===e&&d.getAppStore().dispatch(h.themeVariablesChanged(this.getThemeVariables(e))),this.themeModules[e].variables.customVariables},e.prototype.removeThemeCustomVariables=function(e,t){var r=this;this.themeModules[e]&&this.themeModules[e].variables&&(t.forEach((function(t){var n=t.split(".");if(n.length>1){var o=n.concat([]),i=o.pop(),a=r.themeModules[e].variables.customVariables.getIn(o);a&&(r.themeModules[e].variables.customVariables=r.themeModules[e].variables.customVariables.setIn(o,a.without(i)))}else r.themeModules[e].variables.customVariables=r.themeModules[e].variables.customVariables.without(n[0])})),d.getAppStore().getState().appConfig.theme===e&&d.getAppStore().dispatch(h.themeVariablesChanged(this.getThemeVariables(e))))},e.prototype.getThemeVariables=function(e){var t=this.getRawThemeVariables(e);return this.parseVars(t)},e.prototype.getRawThemeVariables=function(e){if(!this.themeModules[e]||!this.themeModules[e].variables)return l({});var t=this.themeModules[e].variables.themeVariables,r=this.themeModules[e].variables.customVariables,n=this.mergeThemeVarsToJimuVars(t.merge(r,{deep:!0}));return this.themeModules[e].variables.mergedToJimuVariables=n,n},e.prototype.getCustomVariables=function(e){return this.themeModules[e]&&this.themeModules[e].variables&&this.themeModules[e].variables.customVariables},e.prototype.getThemeManifest=function(e){return this.themeModules[e]&&this.themeModules[e].manifest},e.prototype.getThemeModule=function(e){return this.themeModules[e]},e.prototype.mergeThemeVarsToJimuVars=function(e){var t=this;if(Object.keys(this.jimuThemeVariablesGenerators).find((function(e){return"jimu-ui"===e}))){var r=this.jimuThemeVariablesGenerators["jimu-ui"].generate(e);return Object.keys(this.jimuThemeVariablesGenerators).forEach((function(n){"jimu-ui"!==n&&(r=r.merge(t.jimuThemeVariablesGenerators[n].generate(e),{deep:!0}))})),r}console.error("Does not find jimu-ui theme.")},e.prototype.parseVars=function(e,t){if(!e)return l({});t||(t=e.merge({}));var r=/\$\{([^<]+)\}/;for(var n in e){var o=e[n],i=Object.prototype.toString.call(o);if("[object Object]"===i)e=e.setIn([n],this.parseVars(o,t));else if("[object String]"===i&&r.test(o)){var a=o.match(r)[1];e=e.setIn([n],f(t,a))}}return e},e.prototype.onThemeChange=function(e,t){var r=this;g((function(){e!==t&&r.loadTheme(t)}))},e.prototype.onCustomThemeChange=function(e,t){var r=this;g((function(){p.isDeepEqual(e,t)||r.updateThemeCustomVariables(d.getAppStore().getState().appConfig.theme,t)}))},e}();t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(33),i=r(4);function a(e,t){if(void 0===t&&(t=[]),e)return c(e,t)}function s(e,t){return e.split("-")[0]===t.split("-")[0]}t.getLocaleToLoad=function(e,t){var r=a(e=e.toLowerCase(),t);return r?r===(t&&t[0])?void 0:r:void 0},t.getBrowserLanguage=function(e){if(e){var t,r,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(e.languages)&&e.languages.length>0&&(r=e.languages[0])&&r.length)return r;for(t=0;t<n.length;t++)if((r=e[n[t]])&&r.length)return r}},t.getTranslatedLocale=a,t.isSameLanguage=s,t.loadLocaleMessages=function(e,t){return n.loadModule(e+"/"+t)},t.isRTLLocale=function(e){for(var t=!1,r=["ar","he"],n=0;n<r.length;n++)s(r[n],e)&&(t=!0);return t};var u={};function c(e,t){var r;if(void 0===t&&(t=[]),e=e.toLowerCase(),t.indexOf(e)>-1)r=e;else{var n=e.split("-")[0];if(t.indexOf(n)>-1)r=n;else{var o=t.find((function(t){return t.split("-")[0]===e}));o&&(r=o)}}return r}t.getIntl=function(e){if(void 0===e&&(e="_jimu"),u[e])return u[e];var t,r=o.createIntlCache(),n=i.getAppStore().getState();if(!n)return null;if("_jimu"===e)t=o.createIntl({locale:n.appContext.locale,messages:n.appI18nMessages},r);else{var a=n.appConfig.widgets[e]&&n.appConfig.widgets[e].manifest.i18nMessages,s=Object.assign({},a,n.appI18nMessages);t=o.createIntl({locale:n.appContext.locale,messages:s},r)}return u[e]=t,t},t.getDecimalSeparator=function(e){return c(e,["ar","en","he","ja","ko","es-mx","th","zh","it-ch"])?".":","},t.findLocale=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(25),u=r(30),c=r(4),l=r(5),d=r(29),f=r(7),p=r(22),h=r(106),g=r(11),m=r(41),y=r(33),v=r(110),b=r(60),S=r(39),w=r(103),I=r(65),_=r(66),O=r(59),E=r(43),C=function(){function e(){this.widgetRawClasses={},this.widgetClasses={},this.widgetClassesPromise={},this.widgetManifestsPromise={},this.widgetConfigsPromise={},this.widgetBuilderSupportModulesPromise={},this.widgetBuilderSupportModules={},c.observeStore(this.onStoreChange.bind(this),["appConfig","widgets"]),this.dsManager=g.default.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e,window._widgetManager=e.instance),e.instance},e.prototype.getWidgetListInfo=function(){var e=this;return this.widgetListInfo&&this.widgetListInfo.length>0?Promise.resolve(this.widgetListInfo):fetch(f.resolveModuleFullPath("widgets")+"/widgets-info.json").then((function(e){return e.json()})).then((function(t){return e.widgetListInfo=t.map((function(e){return e.manifest=u.addWidgetManifestProperties(e.manifest),{itemType:O.LayoutItemType.Widget,name:e.name,label:e.i18nLabel[c.getAppStore().getState().appContext.locale]||e.manifest.label||e.name,uri:e.uri,manifest:e.manifest,icon:f.resolveModuleFullPath("widgets")+"/../"+e.icon}})),e.widgetListInfo}))},e.prototype.getWidgetClass=function(e){return this.widgetClasses[e]},e.prototype.removeWidget=function(e){delete this.widgetClasses[e],delete this.widgetClassesPromise[e]},e.prototype.loadWidgetClass=function(e){var t,r=this;if(!(t="string"==typeof e?c.getAppStore().getState().appConfig.widgets[e]:e))return Promise.resolve(null);if(this.getWidgetClass(t.id))return Promise.resolve(this.getWidgetClass(t.id));if(this.widgetClassesPromise[t.id])return this.widgetClassesPromise[t.id];var n=t.id;return t.manifest.properties.hasMainClass?(this.widgetClassesPromise[n]=this.loadRawClass(t).then((function(e){return r.loadWidgetConfig(t).then((function(o){!o||t.config&&"string"!=typeof t.config||c.getAppStore().dispatch(l.widgetConfigLoaded(t.id,o));var i=c.getAppStore().getState().appConfig.widgets[n];return r.upgradeWidgetConfig(i,e.clazz.versionManager)})).then((function(){return e}))})).then((function(e){return t=e.clazz,o=e.i18nMessages,r.injectWidgetProps(t,o,n).then((function(e){var t=c.getAppStore().getState().appConfig.widgets[n];return r.appWidgetClassWrapperExtension(e,t,o)}));var t,o})).then((function(e){return r.widgetClasses[n]=e,c.getAppStore().dispatch(l.widgetClassLoaded(n)),e})),this.widgetClassesPromise[n]):Promise.resolve(null)},e.prototype.loadRawClass=function(e){var t=e.manifest.name;return this.widgetRawClasses[t]?this.widgetRawClasses[t]:(this.widgetRawClasses[t]=this.loadWidgetDependency(e).then((function(){var t=e.uri+"dist/runtime/widget";return f.loadModule(t)})).then((function(t){return{clazz:t.default?t.default:t,i18nMessages:e.manifest.i18nMessages}})),this.widgetRawClasses[t])},e.prototype.loadWidgetTranslation=function(e){var t=c.getAppStore().getState().appContext.locale;return(t=m.getLocaleToLoad(t,e.manifest.translatedLocales))?m.loadLocaleMessages(e.uri+"dist/runtime/translations",t).catch((function(e){return console.error("Load widget translation error",e),Promise.resolve({})})):Promise.resolve({})},e.prototype.openWidget=function(e){c.getAppStore().dispatch(l.openWidget(e))},e.prototype.closeWidget=function(e){c.getAppStore().dispatch(l.closeWidget(e))},e.prototype.appWidgetClassWrapperExtension=function(e,t,r){var n=d.default.getInstance().getExtensions(p.ExtensionPoints.WidgetClassWrapper)[0];return n?n.wrap(e,t,r):e},e.prototype.handleNewWidgetJson=function(e){var t=this;return e.context=u.getWidgetContext(e.uri),this.loadWidgetManifest(e).then((function(r){return e._originManifest=r,t.processWidgetManifest(e)})).then((function(r){e.manifest=r,e.version=r.version;var n=c.getAppStore().getState().appStateInBuilder?c.getAppStore().getState().appStateInBuilder.appConfig:c.getAppStore().getState().appConfig;return u.addWidgetDefaultLabelAndIcon(n,e),t.loadWidgetConfig(e)})).then((function(t){return e.config=t,e}))},e.prototype.createWidgetJsonFromExistedWidget=function(e,t,r){void 0===r&&(r={});var n=c.getAppStore().getState().appStateInBuilder?c.getAppStore().getState().appStateInBuilder.appConfig:c.getAppStore().getState().appConfig;if(!n.widgets[t])return null;r.id=e;var o=Object.assign({},n.widgets[t],r);return u.addWidgetDefaultLabelAndIcon(n,o),o},e.prototype.loadWidgetManifest=function(e){var t;return t=e.context.isRemote?e.context.folderUrl+"manifest.json?f=json":e.context.folderUrl+"manifest.json",e.manifest?Promise.resolve(e.manifest):this.widgetManifestsPromise[e.uri]?this.widgetManifestsPromise[e.uri]:(this.widgetManifestsPromise[e.uri]=window.fetch(t).then((function(e){return e.json()})).then((function(e){if(e.error&&e.error.code)return Promise.reject(e.error);var t=e;return!t.widgetType&&t.properties&&t.properties.type&&(t.widgetType=t.properties.type,delete t.properties.type),!t.layouts&&t.properties&&t.properties.layouts&&(t.layouts=t.properties.layouts,delete t.properties.layouts),!t.translatedLocales&&t.supportedLocales&&(t.translatedLocales=t.supportedLocales),Promise.resolve(t)})),this.widgetManifestsPromise[e.uri])},e.prototype.processWidgetManifest=function(e){var t=u.addWidgetManifestProperties(e._originManifest);return e.manifest=t,this.loadWidgetTranslation(e).then((function(r){return t.i18nMessages=r,e.manifest=t,t}))},e.prototype.registerManifestProps=function(e,t){var r=e.manifest,n=[];return r.extensions&&r.extensions.length>0&&n.push(d.default.getInstance().registerWidgetExtensions(e)),r.messageActions&&r.messageActions.length>0&&n.push(I.default.getInstance().registerWidgetActions(e,t)),Promise.all(n).then((function(){}))},e.prototype.unRegisterManifestProps=function(e){d.default.getInstance().destryWidgetExtensions(e),I.default.getInstance().destroyWidgetActions(e),_.default.getInstance().destroyWidgetActions(e)},e.prototype.upgradeWidgetConfig=function(e,t){var r,n=e.manifest.version,o=e.version,i=e.config;if(n===o)return Promise.resolve(i);if(!t)return Promise.resolve(i);if(!E.valid(o)||!E.valid(n))return Promise.reject("Bad widget version number, "+e.manifest.name+","+o+","+n);if(E.lt(o,n))try{return r=t.upgrade(i,o,n),c.getAppStore().dispatch(l.widgetConfigUpgraded(e.id,r)),Promise.resolve(r)}catch(t){return console.log("Upgrade widget ["+e.manifest.name+"] old config error,"+t.stack),i}},e.prototype.loadWidgetConfig=function(e){return e.config?"object"==typeof e.config?Promise.resolve(e.config):this.widgetConfigsPromise[e.uri]?this.widgetConfigsPromise[e.uri]:(this.widgetConfigsPromise[e.uri]=window.fetch(e.config).then((function(e){return e.json()})).then((function(e){return e})),this.widgetConfigsPromise[e.uri]):e.manifest.properties.hasConfig?this.widgetConfigsPromise[e.uri]?this.widgetConfigsPromise[e.uri]:(this.widgetConfigsPromise[e.uri]=window.fetch(e.context.folderUrl+"config.json").then((function(e){return e.json()})).then((function(e){return e})),this.widgetConfigsPromise[e.uri]):Promise.resolve(null)},e.prototype.loadWidgetDependency=function(e,t){void 0===t&&(t="runtime");var r="runtime"===t?"dependency":"settingDependency";if(!e.manifest[r])return Promise.resolve();var n="string"==typeof e.manifest[r]?[e.manifest[r]]:e.manifest[r];return v.loadDependencies(n)},e.prototype.createDataSourcesForWidget=function(e,t){var r=this,n=t.appConfig.widgets[e];if(!n.useDataSourcesEnabled||!n.useDataSources||0===n.useDataSources.length||!t.appConfig.dataSources)return Promise.resolve();var o=t.widgetsRuntimeInfo[e];if(!(n.manifest.properties.autoBindDataSource||o&&o.isReadyInjectDataSource))return Promise.resolve();var i=[];return n.useDataSources.forEach((function(e){var t=e.dataSourceId;r.dsManager.getDataSource(t)||i.push(r.dsManager.createDataSourceByUseDataSource(e))})),Promise.all(i)},e.prototype.injectWidgetProps=function(e,t,r){var n=this,u=y.injectIntl(e),d=b.withTheme(u),f=w.withRepeatedDataSource(d),p=function(t,o){var i=t.appConfig.widgets[r];if(!i)return{};var a=t.widgetsRuntimeInfo[r],s=Object.assign({queryObject:t.queryObject,portalUrl:t.portalUrl,portalSelf:t.portalSelf,user:t.user,token:t.token,locale:t.appContext.locale,appI18nMessages:t.appI18nMessages},o);t.widgetsState[r]&&(s.stateProps=t.widgetsState[r]),t.widgetsMutableStateVersion[r]&&(s.mutableStatePropsVersion=t.widgetsMutableStateVersion[r],s.mutableStateProps=S.default.getInstance().getStateValue([r])),n.widgetBuilderSupportModules[i.uri]&&(s.builderSupportModules=n.widgetBuilderSupportModules[i.uri]),t.widgetsPreloadProps&&t.widgetsPreloadProps[r]&&Object.assign(s,t.widgetsPreloadProps[r]);var u=Object.assign(s,t.appConfig.widgets[r],a);return Object.assign(u,e.mapExtraStateProps?e.mapExtraStateProps(t,u):{})},g=function(r){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){if(!this.props.id)return null;var e=Object.assign({},t,this.props.appI18nMessages);return a.createElement(y.IntlProvider,{locale:this.props.locale,defaultLocale:this.props.locale,messages:e},a.createElement(f,i({},this.props)))},n.displayName="WidgetWrapper("+r+")",n}(h.default);for(var s in e)n[s]||(n[s]=e[s]);return n},m=c.getAppStore().getState();if(!m.appConfig.widgets[r])return e;var v=m.appConfig.widgets[r].manifest,I=v.name,_=m.appConfig.widgets[r].uri;return this.createDataSourcesForWidget(r,m).then((function(){return n.loadWidgetBuilderSupportModules(_,v)})).then((function(){if(m.widgetsPreloadProps&&m.widgetsPreloadProps[r])return Promise.resolve(s.connect(p)(g(I)));if(e.preloadData){var o={},i=m.appConfig.widgets[r];return i.useDataSourcesEnabled&&i.useDataSources&&i.useDataSources.forEach((function(e){o[e.dataSourceId]=n.dsManager.getDataSource(e.dataSourceId)})),e.preloadData(m,Object.assign(p(m,{}),{messages:t}),o).then((function(e){return c.getAppStore().dispatch(l.setWidgetPreloadProps(r,e)),Promise.resolve(s.connect(p)(g(I)))}))}return Promise.resolve(s.connect(p)(g(I)))}))},e.prototype.loadWidgetBuilderSupportModules=function(e,t){var r=this,n=[];if(window.jimuConfig.isInBuilder){if(this.widgetBuilderSupportModulesPromise[e])return this.widgetBuilderSupportModulesPromise[e];if(t.properties.hasEmbeddedLayout?n.push(f.loadModule("jimu-layouts/layout-builder").then((function(e){return e.LayoutEntry}))):n.push(Promise.resolve(null)),t.properties.hasBuilderSupportModule){var o=e+"dist/runtime/builder-support";n.push(f.loadModule(o).then((function(e){return e.default})))}else n.push(Promise.resolve(null));return this.widgetBuilderSupportModulesPromise[e]=Promise.all(n).then((function(t){return r.widgetBuilderSupportModules[e]={jimuForBuilderLib:f.getJimuForBuilderModules(),LayoutEntry:t[0],widgetModules:t[1]},r.widgetBuilderSupportModules[e]})),this.widgetBuilderSupportModulesPromise[e]}return Promise.resolve({jimuForBuilderLib:null})},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(e){t[e]||(r.removeWidget(e),r.unRegisterManifestProps(e))})),e&&t&&Object.keys(t).forEach((function(n){e[n]||r.registerManifestProps(t[n])}))},e}();t.default=C},function(e,t,r){(function(r){var n;t=e.exports=J,n="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],s=t.src=[],u=0,c=u++;s[c]="0|[1-9]\\d*";var l=u++;s[l]="[0-9]+";var d=u++;s[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=u++;s[f]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var p=u++;s[p]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var h=u++;s[h]="(?:"+s[c]+"|"+s[d]+")";var g=u++;s[g]="(?:"+s[l]+"|"+s[d]+")";var m=u++;s[m]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var y=u++;s[y]="(?:-?("+s[g]+"(?:\\."+s[g]+")*))";var v=u++;s[v]="[0-9A-Za-z-]+";var b=u++;s[b]="(?:\\+("+s[v]+"(?:\\."+s[v]+")*))";var S=u++,w="v?"+s[f]+s[m]+"?"+s[b]+"?";s[S]="^"+w+"$";var I="[v=\\s]*"+s[p]+s[y]+"?"+s[b]+"?",_=u++;s[_]="^"+I+"$";var O=u++;s[O]="((?:<|>)?=?)";var E=u++;s[E]=s[l]+"|x|X|\\*";var C=u++;s[C]=s[c]+"|x|X|\\*";var P=u++;s[P]="[v=\\s]*("+s[C]+")(?:\\.("+s[C]+")(?:\\.("+s[C]+")(?:"+s[m]+")?"+s[b]+"?)?)?";var A=u++;s[A]="[v=\\s]*("+s[E]+")(?:\\.("+s[E]+")(?:\\.("+s[E]+")(?:"+s[y]+")?"+s[b]+"?)?)?";var T=u++;s[T]="^"+s[O]+"\\s*"+s[P]+"$";var x=u++;s[x]="^"+s[O]+"\\s*"+s[A]+"$";var j=u++;s[j]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=u++;s[M]="(?:~>?)";var D=u++;s[D]="(\\s*)"+s[M]+"\\s+",a[D]=new RegExp(s[D],"g");var k=u++;s[k]="^"+s[M]+s[P]+"$";var R=u++;s[R]="^"+s[M]+s[A]+"$";var F=u++;s[F]="(?:\\^)";var L=u++;s[L]="(\\s*)"+s[F]+"\\s+",a[L]=new RegExp(s[L],"g");var U=u++;s[U]="^"+s[F]+s[P]+"$";var N=u++;s[N]="^"+s[F]+s[A]+"$";var W=u++;s[W]="^"+s[O]+"\\s*("+I+")$|^$";var B=u++;s[B]="^"+s[O]+"\\s*("+w+")$|^$";var V=u++;s[V]="(\\s*)"+s[O]+"\\s*("+I+"|"+s[P]+")",a[V]=new RegExp(s[V],"g");var q=u++;s[q]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var G=u++;s[G]="^\\s*("+s[A]+")\\s+-\\s+("+s[A]+")\\s*$";var z=u++;s[z]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)n(H,s[H]),a[H]||(a[H]=new RegExp(s[H]));function $(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>o)return null;if(!(t.loose?a[_]:a[S]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>o)throw new TypeError("version is longer than "+o+" characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?a[_]:a[S]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=$,t.valid=function(e,t){var r=$(e,t);return r?r.version:null},t.clean=function(e,t){var r=$(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof J||(e=new J(e,this.options)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return Q(r,o)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new J(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(ee(e,t))return null;var r=$(e),n=$(t);if(r.prerelease.length||n.prerelease.length){for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return"pre"+o;return"prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return o},t.compareIdentifiers=Q;var K=/^[0-9]+$/;function Q(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function Y(e,t,r){return new J(e,r).compare(new J(t,r))}function Z(e,t,r){return Y(e,t,r)>0}function X(e,t,r){return Y(e,t,r)<0}function ee(e,t,r){return 0===Y(e,t,r)}function te(e,t,r){return 0!==Y(e,t,r)}function re(e,t,r){return Y(e,t,r)>=0}function ne(e,t,r){return Y(e,t,r)<=0}function oe(e,t,r,n){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e!==r;break;case"":case"=":case"==":o=ee(e,r,n);break;case"!=":o=te(e,r,n);break;case">":o=Z(e,r,n);break;case">=":o=re(e,r,n);break;case"<":o=X(e,r,n);break;case"<=":o=ne(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return o}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return Q(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,r){return Y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=Z,t.lt=X,t.eq=ee,t.neq=te,t.gte=re,t.lte=ne,t.cmp=oe,t.Comparator=ie;var ae={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ue(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,o,i,a,s,u,c,l,d,f){return((t=ue(r)?"":ue(n)?">="+r+".0.0":ue(o)?">="+r+"."+n+".0":">="+t)+" "+(s=ue(u)?"":ue(c)?"<"+(+u+1)+".0.0":ue(l)?"<"+u+"."+(+c+1)+".0":d?"<="+u+"."+c+"."+l+"-"+d:"<="+s)).trim()}function le(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ae&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function de(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var o,i,a,s,u;switch(e=new J(e,n),t=new se(t,n),r){case">":o=Z,i=ne,a=X,s=">",u=">=";break;case"<":o=X,i=re,a=Z,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(de(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,f=null;if(l.forEach((function(e){e.semver===ae&&(e=new ie(">=0.0.0")),d=d||e,f=f||e,o(e.semver,d.semver,n)?d=e:a(e.semver,f.semver,n)&&(f=e)})),d.operator===s||d.operator===u)return!1;if((!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===u&&a(e,f.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?a[W]:a[B],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new J(r[2],this.options.loose):this.semver=ae},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ae||("string"==typeof e&&(e=new J(e,this.options)),oe(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),de(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),de(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=oe(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=oe(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&a||s||u},t.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?a[G]:a[q];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(a[V],"$1$2$3"),n("comparator trim",e,a[V]),e=(e=(e=e.replace(a[D],"$1~")).replace(a[L],"$1^")).split(/\s+/).join(" ");var o=t?a[W]:a[B],i=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[N]:a[U];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),ue(r)?s="":ue(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":ue(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[R]:a[k];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),ue(r)?s="":ue(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":ue(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+o+"."+i+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[x]:a[T];return e.replace(r,(function(t,r,o,i,a,s){n("xRange",e,t,r,o,i,a,s);var u=ue(o),c=u||ue(i),l=c||ue(a);return"="===r&&l&&(r=""),u?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(c&&(i=0),l&&(a=0),">"===r?(r=">=",c?(o=+o+1,i=0,a=0):l&&(i=+i+1,a=0)):"<="===r&&(r="<",c?o=+o+1:i=+i+1),t=r+o+"."+i+"."+a):c?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(a[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(o)}))),i=i.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=de,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new se(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new J(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new se(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new J(n=e,r)))})),n},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=$(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof J)return e;if("string"!=typeof e)return null;var t=e.match(a[j]);return null==t?null:$((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(this,r(184))},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(95),i=r(93),a=r(94);function s(e){return void 0===e&&(e={}),e.portal?Object(a.a)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}function u(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!=typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function c(e){return e.owner?e.owner:e.item&&e.item.owner?e.item.owner:e.authentication.username}function l(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=n.a({},e.params,u(e.item)),Object(i.d)(r,e)}function d(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=n.a({file:e.resource,fileName:e.name,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),Object(i.d)(r,e)}function f(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",o=e.folderId;return o||(o="/"),e.params=n.a({folder:o},e.params),Object(i.d)(r,e)}function p(e){c(e);var t=n.a({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,l(t)}function h(e){var t=c(e),r=s(e)+"/content/users/"+t+"/addRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function g(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=n.a({file:e.resource,fileName:e.name,text:e.content,access:e.private?"private":"inherit"},e.params),Object(i.d)(r,e)}function m(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/addPart",a=Object(o.a)(e,["file","partNum"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function y(e){var t=c(e),r=s(e)+"/content/users/"+t+"/createFolder";return e.params=n.a({title:e.title},e.params),Object(i.d)(r,e)}function v(e){if(e.file&&!e.multipart)return Promise.reject(new Error("The request must be a multipart request for file uploading."));if(e.multipart&&!e.filename)return Promise.reject(new Error("The file name is required for a multipart request."));var t=c(e),r=s(e)+"/content/users/"+t,a=r+"/addItem";e.folderId&&(a=r+"/"+e.folderId+"/addItem"),e.params=n.a({},e.params,u(e.item));var l=Object(o.a)(e,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:n.a({},e.params)});return Object(i.d)(a,l)}function b(e){return v(n.a({folderId:null},e))}function S(e,t){var r=s(t)+"/content/items/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function w(e,t){var r=s(t)+"/content/items/"+e+"/data",o=n.a({httpMethod:"GET",params:{}},t);return o.file&&(o.params.f=null),Object(i.d)(r,o).catch((function(e){if(!RegExp(/Unexpected end of (JSON input|data at line 1 column 1)/i).test(e.message))throw e}))}function I(e){var t=s(e)+"/content/items/"+e.id+"/relatedItems",r=n.a({httpMethod:"GET",params:{direction:e.direction}},e);return"string"==typeof e.relationshipType?r.params.relationshipType=e.relationshipType:r.params.relationshipTypes=e.relationshipType,delete r.direction,delete r.relationshipType,Object(i.d)(t,r)}function _(e,t){var r=s(t)+"/content/items/"+e+"/resources";return t.params=n.a({},t.params,{num:1e3}),Object(i.d)(r,t)}function O(e,t){var r=s(t)+"/content/items/"+e+"/groups";return Object(i.d)(r,t)}function E(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/status",a=Object(o.a)(e,["jobId","jobType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function C(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/parts";return Object(i.d)(r,e)}function P(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/protect";return Object(i.d)(r,e)}function A(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect";return Object(i.d)(r,e)}function T(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/delete";return Object(i.d)(r,e)}function x(e){var t=c(e),r=s(e)+"/content/users/"+t+"/removeRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function j(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=n.a({},e.params,{resource:e.resource}),Object(i.d)(r,e)}function M(e){var t=c(e),r=s(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete";return Object(i.d)(r,e)}var D=r(45),k=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(Object(D.a)(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(Object(D.a)("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(Object(D.a)("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(Object(D.a)("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(Object(D.a)("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(Object(D.a)("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!0,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(Object(D.a)("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&Object(D.a)("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}();function R(e,t){var r,n;n="string"==typeof e||e instanceof k?{httpMethod:"GET",params:{q:e}}:Object(o.a)(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"});var a="item"===t?"/search":"/community/groups";switch(t){case"item":a="/search";break;case"group":a="/community/groups";break;default:a="/portals/self/users/search"}return r=s(n)+a,Object(i.d)(r,n).then((function(r){return r.nextStart&&-1!==r.nextStart&&(r.nextPage=function(){var n;return"string"==typeof e||e instanceof k?n={q:e,start:r.nextStart}:(n=e).start=r.nextStart,R(n,t)}),r}))}function F(e){return R(e,"item")}function L(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/commit";return Object(i.d)(r,e)}function U(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/cancel";return Object(i.d)(r,e)}function N(e){var t=e.id,r=s(e)+"/community/groups/"+t+"/addUsers",n=Object.assign({},e,{admins:void 0,users:void 0}),o=W("users",e.users,n).concat(W("admins",e.admins,n)).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(r,e)}));return Promise.all(o).then(B)}function W(e,t,r){return!t||t.length<1?[]:function(e,t){if(0===e.length)return[];for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}(t,25).map((function(t){return function(e,t,r){var o,i;return Object.assign({},r,((o={})[e]=t,o.params=n.a({},r.params,((i={})[e]=t,i)),o))}(e,t,r)}))}function B(e){var t=e.filter((function(e){return e.notAdded})).reduce((function(e,t){return e.concat(t.notAdded)}),[]),r=e.filter((function(e){return e.errors})).reduce((function(e,t){return e.concat(t.errors)}),[]),n={notAdded:t};return r.length>0&&(n.errors=r),n}function V(e){var t=s(e)+"/community/createGroup";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function q(e,t){var r=s(t)+"/community/groups/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function G(e,t){var r=s(t)+"/content/groups/"+e,o=n.a({httpMethod:"GET"},{params:{start:1,num:100}},t);return t&&t.paging&&(o.params=n.a({},t.paging)),Object(i.d)(r,o)}function z(e,t){var r=s(t)+"/community/groups/"+e+"/users",o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function H(e,t){var r=s(t)+"/community/groups/"+e+"/userlist",n=Object(o.a)(t||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return Object(i.d)(r,n)}function $(e){var t=s(e)+"/community/groups/"+e.id+"/createNotification",r=n.a({params:n.a({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e);return Object(i.d)(t,r)}function J(e){var t=s(e)+"/community/groups/"+e.id+"/protect";return Object(i.d)(t,e)}function K(e){var t=s(e)+"/community/groups/"+e.id+"/unprotect";return Object(i.d)(t,e)}function Q(e){var t=s(e)+"/community/groups/"+e.id+"/delete",r=n.a({},e);return Object(i.d)(t,r)}function Y(e){return R(e,"group")}function Z(e){var t=s(e)+"/community/groups/"+e.group.id+"/update";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function X(e){var t=s(e)+"/community/groups/"+e.id+"/join";return Object(i.d)(t,e)}function ee(e){var t=s(e)+"/community/groups/"+e.id+"/leave";return Object(i.d)(t,e)}function te(e){var t,r={httpMethod:"GET"};if("string"==typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var o=e.username||e.authentication.username;t=s(e)+"/community/users/"+encodeURIComponent(o),r=n.a({},e,r)}return Object(i.d)(t,r)}function re(e){var t=e.username||e.authentication.username,r=s(e)+"/community/users/"+encodeURIComponent(t)+"/tags";return Object(i.d)(r,e)}function ne(e){return s(e)+"/community/users/"+encodeURIComponent(e.username)}function oe(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/invitations";return t=n.a({},e,t),Object(i.d)(o,t)}function ie(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId,o={httpMethod:"GET"};return o=n.a({},e,o),Object(i.d)(r,o)}function ae(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o=n.a({},e);return Object(i.d)(r,o)}function se(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o=n.a({},e);return Object(i.d)(r,o)}function ue(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/notifications";return t=n.a({},e,t),Object(i.d)(o,t)}function ce(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete";return Object(i.d)(r,e)}function le(e){return R(e,"user")}function de(e){var t=e.user.username||e.authentication.username,r=s(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=n.a({},e.user,e.params),delete e.user,Object(i.d)(r,e)}function fe(e){var t=e.authentication.username,r=e.owner||t;return s(e)+"/content/users/"+encodeURIComponent(r)+"/items/"+e.id+"/share"}function pe(e){var t=e.authentication.username;return(e.owner||t)===t}function he(e){return e.authentication.getUser(e).then((function(e){return!(!e||"org_admin"!==e.role)}))}function ge(e){return q(e.groupId,e).then((function(e){return e.userMembership.memberType})).catch((function(){return"nonmember"}))}function me(e){var t=fe(e);return pe(e)?ye(t,e):he(e).then((function(r){if(r)return ye(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")}))}function ye(e,t){return t.params=n.a({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.account=!0,t.params.everyone=!0),Object(i.d)(e,t)}function ve(e){return Se(n.a({action:"share"},e))}function be(e){return Se(n.a({action:"unshare"},e))}function Se(e){var t=e.authentication.username,r=e.owner||t;return he(e).then((function(o){var a="share"===e.action?"notSharedWith":"notUnsharedFrom";return function(e){var t={q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title"},r=n.a({},e,{rawResponse:!1});r.params=n.a({},t,e.params);var o=s(r)+"/search";return Object(i.d)(o,r).then((function(t){return 0!==t.total&&(t.results.some((function(t){var n=t.id===e.id;return n&&(r=t),n})),!!r);var r}))}(e).then((function(n){if("share"===e.action&&!0===n||"unshare"===e.action&&!1===n){var u={itemId:e.id,shortcut:!0};return u[a]=[],u}return ge(e).then((function(n){if("nonmember"===n)throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".");if(r===t)return s(e)+"/content/users/"+r+"/items/"+e.id+"/"+e.action;if("admin"===n||"owner"===n||o)return s(e)+"/content/items/"+e.id+"/"+e.action;throw Error("This item can not be "+e.action+"d by "+t+" as they are neither the owner, a groupAdmin of "+e.groupId+", nor an org_admin.")})).then((function(t){return e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},Object(i.d)(t,e)})).then((function(t){if(t[a].length)throw Error("Item "+e.id+" could not be "+e.action+"d to group "+e.groupId+".");return t}))}))}))}function we(e){return Ie(null,e)}function Ie(e,t){var r=e||"self",o=s(t)+"/portals/"+r,a=n.a({httpMethod:"GET"},t);return Object(i.d)(o,a)}r.d(t,"addItemData",(function(){return p})),r.d(t,"addItemRelationship",(function(){return h})),r.d(t,"addItemResource",(function(){return g})),r.d(t,"addItemPart",(function(){return m})),r.d(t,"createFolder",(function(){return y})),r.d(t,"createItemInFolder",(function(){return v})),r.d(t,"createItem",(function(){return b})),r.d(t,"getItem",(function(){return S})),r.d(t,"getItemData",(function(){return w})),r.d(t,"getRelatedItems",(function(){return I})),r.d(t,"getItemResources",(function(){return _})),r.d(t,"getItemGroups",(function(){return O})),r.d(t,"getItemStatus",(function(){return E})),r.d(t,"getItemParts",(function(){return C})),r.d(t,"protectItem",(function(){return P})),r.d(t,"unprotectItem",(function(){return A})),r.d(t,"removeItem",(function(){return T})),r.d(t,"removeItemRelationship",(function(){return x})),r.d(t,"removeItemResource",(function(){return j})),r.d(t,"removeFolder",(function(){return M})),r.d(t,"searchItems",(function(){return F})),r.d(t,"updateItem",(function(){return l})),r.d(t,"updateItemResource",(function(){return d})),r.d(t,"moveItem",(function(){return f})),r.d(t,"serializeItem",(function(){return u})),r.d(t,"determineOwner",(function(){return c})),r.d(t,"commitItemUpload",(function(){return L})),r.d(t,"cancelItemUpload",(function(){return U})),r.d(t,"addGroupUsers",(function(){return N})),r.d(t,"createGroup",(function(){return V})),r.d(t,"getGroup",(function(){return q})),r.d(t,"getGroupContent",(function(){return G})),r.d(t,"getGroupUsers",(function(){return z})),r.d(t,"searchGroupUsers",(function(){return H})),r.d(t,"createGroupNotification",(function(){return $})),r.d(t,"protectGroup",(function(){return J})),r.d(t,"unprotectGroup",(function(){return K})),r.d(t,"removeGroup",(function(){return Q})),r.d(t,"searchGroups",(function(){return Y})),r.d(t,"updateGroup",(function(){return Z})),r.d(t,"joinGroup",(function(){return X})),r.d(t,"leaveGroup",(function(){return ee})),r.d(t,"getUser",(function(){return te})),r.d(t,"getUserTags",(function(){return re})),r.d(t,"getUserUrl",(function(){return ne})),r.d(t,"getUserInvitations",(function(){return oe})),r.d(t,"getUserInvitation",(function(){return ie})),r.d(t,"acceptInvitation",(function(){return ae})),r.d(t,"declineInvitation",(function(){return se})),r.d(t,"getUserNotifications",(function(){return ue})),r.d(t,"removeNotification",(function(){return ce})),r.d(t,"searchUsers",(function(){return le})),r.d(t,"updateUser",(function(){return de})),r.d(t,"setItemAccess",(function(){return me})),r.d(t,"shareItemWithGroup",(function(){return ve})),r.d(t,"unshareItemWithGroup",(function(){return be})),r.d(t,"getSharingUrl",(function(){return fe})),r.d(t,"isItemOwner",(function(){return pe})),r.d(t,"isOrgAdmin",(function(){return he})),r.d(t,"getUserMembership",(function(){return ge})),r.d(t,"getSelf",(function(){return we})),r.d(t,"getPortal",(function(){return Ie})),r.d(t,"getPortalUrl",(function(){return s})),r.d(t,"SearchQueryBuilder",(function(){return k}))},function(e,t,r){"use strict";function n(e){console&&console.warn&&console.warn.apply(console,[e])}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(18),o=r(26);function i(e,t){var r=Object(n.b)(e)||t,i=Object(n.a)(e);if(r){var a=new FormData;return Object.keys(i).forEach((function(e){if("undefined"!=typeof Blob&&i[e]instanceof Blob){var t=i.fileName||i[e].name||e;a.append(e,i[e],t)}else a.append(e,i[e])})),a}return Object(o.b)(e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);t.React=o;var i=r(69);t.ReactDOM=i;var a=r(25);t.ReactRedux=a;var s=r(37);t.queryString=s;var u=r(10);t.Immutable=u;var c=r(138);t.classNames=c;var l=r(75);t.uuidv1=l;var d=r(15),f=r(78);t.styled=f.default;var p=r(79);t.xss=p;var h=r(52),g=r(28),m=r(87),y=r(159),v=r(161),b=r(165),S=r(166),w=r(167),I=r(88),_=r(168),O=r(170),E=r(171),C=r(8);t.invariant=C;var P=r(218);t.ReactResizeDetector=P.default;var A=r(127),T=r(126),x=r(2),j=r(44),M=r(173),D=r(5);t.appActions=D;var k=r(12);t.utils=k;var R=r(13);t.urlUtils=R;var F=r(17);t.portalUrlUtils=F;var L=r(30);t.appConfigUtils=L;var U=r(179);t.themeUtils=U;var N=r(181);t.keyboardUtils=N;var W=r(182);t.privilegeUtils=W;var B=r(22);t.extensionSpec=B;var V=r(7);t.moduleLoader=V;var q=r(55);t.jimuHistory=q;var G=r(41);t.i18n=G;var z=r(62);t.requestUtils=z;var H=r(63);t.expressionUtils=H;var $=r(56);t.dateUtils=$;var J=r(58);t.layoutUtils=J;var K=r(33);t.FormattedDate=K.FormattedDate,t.FormattedHTMLMessage=K.FormattedHTMLMessage,t.FormattedMessage=K.FormattedMessage,t.FormattedNumber=K.FormattedNumber,t.FormattedPlural=K.FormattedPlural,t.FormattedRelativeTime=K.FormattedRelativeTime,t.FormattedTime=K.FormattedTime,t.IntlProvider=K.IntlProvider,t.injectIntl=K.injectIntl,t.createIntl=K.createIntl,t.createIntlCache=K.createIntlCache;var Q=r(103);t.RepeatedDataSourceProvider=Q.RepeatedDataSourceProvider,t.withRepeatedDataSource=Q.withRepeatedDataSource;var Y=r(20);t.dataSourceUtils=Y;var Z=r(96);t.CONSTANTS=Z;var X=r(106);t.BaseWidget=X.default;var ee=r(42);t.WidgetManager=ee.default;var te=r(111);t.ConfigManager=te.default;var re=r(11);t.DataSourceManager=re.default;var ne=r(65);t.MessageManager=ne.default;var oe=r(23);t.SessionManager=oe.default,t.SessionChangedReasonType=oe.SessionChangedReasonType;var ie=r(29);t.ExtensionManager=ie.default;var ae=r(66);t.DataActionManager=ae.default;var se=r(40);t.ThemeManager=se.default;var ue=r(108);t.ServiceManager=ue.default;var ce=r(185);t.AppRoot=ce.default;var le=r(31);t.defaultMessages=le.default;var de=r(39);t.MutableStoreManager=de.default;var fe=r(120);t.DataSourceComponent=fe.default;var pe=r(190);t.DataQueryComponent=pe.default;var he=r(121);t.MultipleDataSourceComponent=he.default;var ge=r(192);t.ExpressionResolverComponent=ge.ExpressionResolverComponent,t.ExpressionResolverErrorCode=ge.ExpressionResolverErrorCode;var me=r(117);t.Keyboard=me.default;var ye=r(116);t.AppKeyboardComponent=ye.default;var ve=r(198);t.WidgetDataSourceQueryManager=ve.default;var be=r(114).exbVersion;t.version=be;var Se=r(97),we={assign:r(199),defer:r(61),debounce:r(123),setValue:Se,isDeepEqual:r(38),throttle:r(200)};t.lodash=we;var Ie={restAuth:A,restFeatureLayer:T,restPortal:j,restRequest:x,Sanitizer:M.Sanitizer};t.esri=Ie;var _e={rgba:h,parseToRgb:g,rem:m,readableColor:y,lighten:v,darken:b,ellipsis:S,mix:w,stripUnit:I,math:_,getValueAndUnit:O,borderRadius:E};t.polished=_e;var Oe=d.jsx;t.jsx=Oe;var Ee=d.css;t.css=Ee;var Ce=d.Global;t.Global=Ce;var Pe=d.ThemeContext;t.ThemeContext=Pe,n(r(59)),n(r(201)),n(r(57)),n(r(6)),n(r(99)),n(r(24)),n(r(105)),n(r(14)),n(r(64)),n(r(107)),n(r(109)),n(r(68)),n(r(202)),n(r(4)),n(r(112));var Ae=r(206);t.LoadingHandler=Ae.LoadingHandler,n(r(110)),n(r(119)),n(r(124)),n(r(125)),n(r(67)),n(r(115))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(141),o=r(142),i=r(143);function a(e){e&&s.current.insert(e+"}")}var s={current:null},u=function(e,t,r,n,o,i,u,c,l,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return s.current.insert(r[0]+t),"";default:return t+(0===d?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(a)}},c=function(e,t){if(1===e&&108===t.charCodeAt(0)&&98===t.charCodeAt(2))return""},l="undefined"!=typeof document,d={},f=l?void 0:i.default((function(){var e=i.default((function(){return{}})),t={},r={};return function(n){return void 0===n||!0===n?t:!1===n?r:e(n)}}));t.default=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new o.default(t);var a,p,h={};if(l){a=e.container||document.head;var g=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(g,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){h[e]=!0})),e.parentNode!==a&&a.appendChild(e)}))}if(l)i.use(e.stylisPlugins)(u),p=function(e,t,r,n){var o=t.name;s.current=r,i(e,t.styles),n&&(y.inserted[o]=!0)};else{i.use(c);var m=d;(e.stylisPlugins||void 0!==e.prefix)&&(i.use(e.stylisPlugins),m=f(e.stylisPlugins||d)(e.prefix));p=function(e,t,r,n){var o=t.name,a=function(e,t){var r=t.name;return void 0===m[r]&&(m[r]=i(e,t.styles)),m[r]}(e,t);return void 0===y.compat?(n&&(y.inserted[o]=!0),a):n?void(y.inserted[o]=a):a}}var y={key:r,sheet:new n.StyleSheet({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:h,registered:{},insert:p};return y}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(145),o=r(146),i=r(76),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=i.default((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),l=function(e,t){if(null==t||"boolean"==typeof t)return"";switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===o.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)f={name:o.name,styles:o.styles,next:f},o=o.next;return r.styles}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":n+=c(i)+":"+l(i,a)+";";else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a,!1);switch(i){case"animation":case"animationName":n+=c(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var u=0;u<a.length;u++)n+=c(i)+":"+l(i,a[u])+";"}return n}(e,t,r);case"function":if(void 0!==e){var i=f,a=r(e);return f=i,d(e,t,a,n)}default:if(null==t)return r;var s=t[r];return void 0===s||n?r:s}}var f,p=/label:\s*([^\s;\n{]+)\s*;/g;t.serializeStyles=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";f=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=d(r,t,a,!1)):i+=a[0];for(var s=1;s<e.length;s++)i+=d(r,t,e[s],46===i.charCodeAt(i.length-1)),o&&(i+=a[s]);p.lastIndex=0;for(var u,c="";null!==(u=p.exec(i));)c+="-"+u[1];return{name:n.default(i)+c,styles:i,next:f}}},function(e,t,r){var n=r(81),o=r(153);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,n)t[i]=n[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("string"==typeof e&&"number"==typeof t){var s=(0,n.default)(e);return"rgba("+s.red+","+s.green+","+s.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,o.default)(e,t,r):"rgba("+e+","+t+","+r+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,o.default)(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new i.default(7)};var n=a(r(28)),o=a(r(84)),i=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";function n(e){return Math.round(255*e)}function o(e,t,r){return n(e)+","+n(t)+","+n(r)}t.__esModule=!0,t.default=void 0;var i=function(e,t,r,n){if(void 0===n&&(n=o),0===t)return n(r,r,r);var i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*t,s=a*(1-Math.abs(i%2-1)),u=0,c=0,l=0;i>=0&&i<1?(u=a,c=s):i>=1&&i<2?(u=s,c=a):i>=2&&i<3?(c=a,l=s):i>=3&&i<4?(c=s,l=a):i>=4&&i<5?(u=s,l=a):i>=5&&i<6&&(u=a,l=s);var d=r-a/2;return n(u+d,c+d,l+d)};t.default=i,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function e(t,r,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=r?t.apply(this,o):e(t,r,o)}}(e,e.length,[])},e.exports=t.default},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(219),u=r(5),c=r(4),l=r(37),d=r(38),f=r(13),p=r(98),h=r(12);function g(e){c.getAppStore().getState().dataSourcesInfo[e]&&c.getAppStore().getState().dataSourcesInfo[e].selectedIds&&c.getAppStore().dispatch(u.dataSourceSelectedIdsChanged(e,null)),c.getAppStore().getState().dataSourcesInfo[e]&&c.getAppStore().getState().dataSourcesInfo[e].selectedIndexes&&c.getAppStore().dispatch(u.dataSourceSelectedIndexesChanged(e,null))}t.browserHistory=document&&s.createBrowserHistory(),p.listenForMessage(p.ListenMessageType.ChangePage,(function(e){v(e.pageId)})),p.listenForMessage(p.ListenMessageType.ChangeQuery,(function(e){y(e.queryObject)})),t.browserHistory&&t.browserHistory.listen((function(e,t){var r=c.getAppStore().getState().queryObject.asMutable();if(e.pathname!==c.getAppStore().getState().appPath){c.getAppStore().dispatch(u.appPathChanged(e.pathname));var n=f.parseAppPath(e.pathname).pageId;p.postPageChangeMessage(n)}var o=l.parse(e.search);if(!d(r,o)){c.getAppStore().dispatch(u.queryObjectChanged(o));var i=f.getDataSourceInfosFromQueryObject(o),a=c.getAppStore().getState().dataSourcesInfo;i?(Object.keys(i).forEach((function(e){var t=i[e],r=a&&a[e];"id"===t.selectionType?r&&h.isArrayContainSameItems(t.selection,r.selectedIds.asMutable())||c.getAppStore().dispatch(u.dataSourceSelectedIdsChanged(e,t.selection)):r&&h.isArrayContainSameItems(t.selection,r.selectedIndexes.asMutable())||c.getAppStore().dispatch(u.dataSourceSelectedIndexesChanged(e,t.selection))})),a&&Object.keys(a).filter((function(e){return Object.keys(i).indexOf(e)<0})).forEach((function(e){g(e)}))):a&&Object.keys(a).forEach((function(e){g(e)})),p.postQueryChangeMessage(o)}}));var m=a.createContext(t.browserHistory);function y(e,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=!1),!h.isDeepEqual(e,c.getAppStore().getState().queryObject)){var o=n?e:c.getAppStore().getState().queryObject.merge(e),i=f.createLocation(t.browserHistory.location,"?"+l.stringify(o)),a=t.browserHistory.createHref(i);r?t.browserHistory.replace(a):t.browserHistory.push(a)}}function v(e){f.parseAppPath().pageId!==e&&t.browserHistory.push(f.getPageLinkUrl(e,c.getAppStore().getState().queryObject))}t.HistoryProvider=function(e){return a.createElement(m.Provider,{value:t.browserHistory},e.children)},t.withHistory=function(e){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r.prototype.render=function(){var t=this;return a.createElement(m.Consumer,null,(function(r){return a.createElement(e,i({},t.props,{history:r}))}))},r.displayName="HistoryComponent("+e.displayName+")",r}(a.PureComponent)},t.changeQueryObject=y,t.replaceQueryObject=function(e,r){void 0===r&&(r=!1);var n=f.createLocation(t.browserHistory.location,"?"+l.stringify(e)),o=t.browserHistory.createHref(n);r?t.browserHistory.replace(o):t.browserHistory.push(o)},t.changePage=v,t.changeView=function(e,t){var r=c.getAppStore().getState().queryObject.views?c.getAppStore().getState().queryObject.views.split(","):[];if(!(r.indexOf(t)>-1))return(r=r.filter((function(t){return c.getAppStore().getState().appConfig.sections[e].views.indexOf(t)<0}))).push(t),y({views:r.join(",")})},t.changeDialog=function(e){return y({dlg:e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);function o(e){var r=t.ESRI_DATE_FORMAT_MAP[e];return r||(console.warn("Invalid data format "+e),null)}function i(e,r,n,o){if(!e)return"";if("number"==typeof e&&(e=new Date(e)),!n&&!o)return r.formatDate(e);var i=a(e,n,r);if(o){var u=s(e,o,r),c=r.locale||"en";i=i+(t.DATE_TIME_CONNECTOR[c]||t.DATE_TIME_CONNECTOR.common)+u}return i}function a(e,t,r){if(!e)return null;var n={};if(t.indexOf("y")>=0&&(n.year="numeric"),t.indexOf("MMMM")>=0?n.month="long":t.indexOf("MMM")>=0?n.month="short":t.indexOf("MM")>=0?n.month="2-digit":t.indexOf("M")>=0&&(n.month="numeric"),t.indexOf("d")>=0&&(n.day="numeric"),t.indexOf("EEEE")>=0&&(n.weekday="long"),0!==Object.keys(n).length)return r.formatDate(e,n);console.warn("Invalid date pattern "+t)}function s(e,t,r){if(!e)return null;var n={};if(t.toLowerCase().indexOf("h")>=0&&(n.hour="numeric"),t.indexOf("mm")>=0&&(n.minute="2-digit"),t.indexOf("ss")>=0&&(n.second="2-digit"),0!==Object.keys(n).length)return r.formatDate(e,n);console.warn("Not support time pattern "+t)}t.ESRI_DATE_FORMAT_MAP={shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}},t.DATE_TIME_CONNECTOR={common:" ",de:" , ",el:" , ",fi:" klo ",fr:"  ",he:" , ",hi:" , ",it:" , ",nb:" , ",pl:" , ",ro:" , ",ru:" , ",vi:" , "},t.DATE_TIME_DEFAULT_FORMAT={date:"yyyy/MM/dd",time:"H:mm",dateTime:"yyyy/MM/dd H:mm"},t.getEsriDateFormat=o,t.getDateTimeFormat=function(e,r,i){if(!r&&!i)return t.DATE_TIME_DEFAULT_FORMAT.date;var a="";if(r){if(n.ESRI_DATE_FORMAT_ARRAY.indexOf(r)>=0){var s=o(r);r=s.datePattern,i=i||s.timePattern}a=r}if(i){var u=e.locale||"en";a=a+(r?t.DATE_TIME_CONNECTOR[u]||t.DATE_TIME_CONNECTOR.common:"")+i}return a},t.formatDateField=function(e,t,r){if(!e)return"";"number"==typeof e&&(e=new Date(e));var n=o(t);return i(e,r,n.datePattern,n.timePattern)},t.formatDateLocally=i,t.formatDate=a,t.formatTime=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Page="pages",e.View="views",e.Dialog="dialogs",e.Header="header",e.Footer="footer"}(t.ContainerType||(t.ContainerType={})),t.DEFAULT_EMBED_LAYOUT_NAME="DEFAULT",function(e){e.Normal="NORMAL",e.Folder="FOLDER",e.Link="LINK"}(t.PageType||(t.PageType={})),function(e){e.FitWindow="FIT_WINDOW",e.AutoScroll="AUTO_SCROLL"}(t.PageMode||(t.PageMode={})),function(e){e.Widget="widgets",e.Page="pages",e.Section="sections",e.View="views",e.Layout="layouts",e.Dialog="dialogs"}(t.ConfigNodeType||(t.ConfigNodeType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(59),i=r(6),a=r(35);function s(e,t,r){return void 0===r&&(r=!1),e&&e.content?Object.keys(e.content).filter((function(n){return e.content[n].type===t&&!!(t===o.LayoutItemType.Widget?e.content[n].widgetId:e.content[n].sectionId)&&(r||!e.content[n].isPending)})).map((function(r){return t===o.LayoutItemType.Widget?e.content[r].widgetId:e.content[r].sectionId})):[]}function u(e,t,r){return void 0===r&&(r=!1),e&&e.content?Object.keys(e.content).filter((function(n){return e.content[n].type===t&&!!(t===o.LayoutItemType.Widget?e.content[n].widgetId:e.content[n].sectionId)&&(r||!e.content[n].isPending)})).map((function(t){return{layoutId:e.id,layoutItemId:t}})):[]}function c(e,t,r,n,a){void 0===a&&(a=!1);var u=[],l=s(e.layouts[t],o.LayoutItemType.Widget,a),d=s(e.layouts[t],o.LayoutItemType.Section,a);return u=r===o.LayoutItemType.Widget?u.concat(l):u.concat(d),l.filter((function(t){return e.widgets&&e.widgets[t]&&(e.widgets[t].manifest.widgetType===i.WidgetType.Layout||e.widgets[t].manifest.properties.hasEmbeddedLayout)})).forEach((function(t){Object.keys(e.widgets[t].layouts).forEach((function(o){var i=e.widgets[t].layouts[o][n];u=u.concat(c(e,i,r,n,a))}))})),d.forEach((function(t){e.sections[t]&&e.sections[t].views&&e.sections[t].views.forEach((function(t){e.views[t]&&e.views[t].layout[n]&&(u=u.concat(c(e,e.views[t].layout[n],r,n,a)))}))})),u}function l(e,t,r){var n=e.layouts[r.layoutId].content[r.layoutItemId];return!!t.find((function(t){var r=e.layouts[t.layoutId].content[t.layoutItemId];return r.type===n.type&&(r.type===o.LayoutItemType.Widget&&r.widgetId===n.widgetId||r.type===o.LayoutItemType.Section&&r.sectionId===n.sectionId)}))}t.fixLayoutIds=function(e){Object.keys(e.layouts).forEach((function(t){var r=e.layouts[t];return r.content&&Object.keys(r.content).forEach((function(e){isNaN(parseInt(e))?console.error("Layout item MUST be integer string"):r.content[e].id=e})),r.id=t,r}))},t.generateLayoutStructure=function(e,t){return t.content&&Object.keys(t.content).forEach((function(e){isNaN(parseInt(e))||(t.content[e].id=e)})),t.id=e,t},t.cleanupRuntimeLayouts=function(e){return Object.keys(e).forEach((function(t){var r=e[t];delete r.id,r.content&&Object.keys(r.content).forEach((function(e){delete r.content[e].id}))})),e},t.getLayoutItemIds=function(e,t,r){void 0===r&&(r=!1);var n=e.layouts[t];return n&&n.content?r?Object.keys(n.content):Object.keys(n.content).filter((function(e){return!n.content[e].isPending})):[]},t.getWidgetsOrSectionsInLayout=s,t.getLayoutItemsInLayoutByType=u,t.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly=function e(t,r,n,a,u){void 0===u&&(u=!1);var c=[],l=s(t.layouts[r],o.LayoutItemType.Widget,u),d=s(t.layouts[r],o.LayoutItemType.Section,u);return c=n===o.LayoutItemType.Widget?c.concat(l):c.concat(d),l.filter((function(e){return t.widgets&&t.widgets[e]&&t.widgets[e].manifest.widgetType===i.WidgetType.Layout})).forEach((function(r){Object.keys(t.widgets[r].layouts).forEach((function(o){var i=t.widgets[r].layouts[o][a];c=c.concat(e(t,i,n,a,u))}))})),c},t.getAllWidgetsOrSectionsInLayout=c,t.getPendingLayoutItemsFromOtherSizeMode=function e(t,r,n,a,s){void 0===a&&(a=null),void 0===s&&(s=null);var d=[];return a||(a=c(t,r[n],o.LayoutItemType.Widget,n,!0)),s||(s=c(t,r[n],o.LayoutItemType.Section,n,!0)),Object.keys(i.BrowserSizeMode).filter((function(e){return i.BrowserSizeMode[e]!==n})).map((function(e){return i.BrowserSizeMode[e]})).forEach((function(c){u(t.layouts[r[c]],o.LayoutItemType.Widget,!0).forEach((function(r){var o=t.layouts[r.layoutId].content[r.layoutItemId];t.widgets[o.widgetId].manifest.widgetType!==i.WidgetType.Layout&&a.indexOf(o.widgetId)<0?!l(t,d,r)&&d.push(r):t.widgets[o.widgetId].layouts&&Object.keys(t.widgets[o.widgetId].layouts).forEach((function(r){e(t,t.widgets[o.widgetId].layouts[r],n,a,s).forEach((function(e){!l(t,d,e)&&d.push(e)}))}))})),u(t.layouts[r[c]],o.LayoutItemType.Section,!0).forEach((function(r){var o=t.layouts[r.layoutId].content[r.layoutItemId];s.indexOf(o.sectionId)<0?!l(t,d,r)&&d.push(r):t.sections[o.sectionId].views&&t.sections[o.sectionId].views.forEach((function(r){e(t,t.views[r].layout,n,a,s).forEach((function(e){!l(t,d,e)&&d.push(e)}))}))}))})),d},t.getPendingLayoutItemsInLayoutWithDeep=function e(t,r,n){var i=[];return u(t.layouts[r],o.LayoutItemType.Widget,!0).forEach((function(r){var o=t.layouts[r.layoutId].content[r.layoutItemId];o.isPending?i.push(r):t.widgets[o.widgetId].layouts&&Object.keys(t.widgets[o.widgetId].layouts).forEach((function(r){i=i.concat(e(t,t.widgets[o.widgetId].layouts[r][n],n))}))})),u(t.layouts[r],o.LayoutItemType.Section,!0).forEach((function(r){var o=t.layouts[r.layoutId].content[r.layoutItemId];o.isPending?i.push(r):t.sections[o.sectionId].views&&t.sections[o.sectionId].views.forEach((function(r){i=i.concat(e(t,t.views[r].layout[n],n))}))})),i},t.getWidgetOrSectionLayoutItem=function(e,t,r){if(!e||!e.content)return null;var n=Object.keys(e.content).find((function(n){return e.content[n].type===r&&(e.content[n].widgetId===t||e.content[n].sectionId===t)&&!e.content[n].isPending}));return e.content[n]},t.isWidgetPlaceholder=function(e){if(!e||e.itemType!==o.LayoutItemType.Widget)return!1;if(e.layoutInfo){var t=e.layoutInfo,r=t.layoutId,i=t.layoutItemId,s=n.getAppStore().getState().appConfig,u=a(s,"layouts."+r+".content."+i);if(u&&!u.widgetId)return!0}return!e.layoutInfo&&!e.uri},t.findParentViewId=function(e){var t=n.getAppStore().getState().appConfig;if(t.views)for(var r in t.views){var o=t.views[r];for(var i in o.layout)if(o.layout[i]==e)return r}return null},t.findParentSectionId=function(e){var t=n.getAppStore().getState().appConfig;if(t.sections)for(var r in t.sections){if(t.sections[r].views.indexOf(e)>=0)return r}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unkown="UNKNOWN",e.Widget="WIDGET",e.Section="SECTION"}(t.LayoutItemType||(t.LayoutItemType={})),function(e){e.FixedLayout="FIXED",e.FlowLayout="FLOW",e.GridLayout="GRID"}(t.LayoutType||(t.LayoutType={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"ThemeProvider",(function(){return f})),r.d(t,"withTheme",(function(){return p}));var n=r(73),o=r.n(n),i=r(1),a=r(15),s=r(74),u=r.n(s),c=r(27),l=r.n(c),d=u()((function(e){return u()((function(t){return function(e,t){return"function"==typeof t?t(e):o()({},e,t)}(e,t)}))})),f=function(e){return Object(i.createElement)(a.ThemeContext.Consumer,null,(function(t){return e.theme!==t&&(t=d(t)(e.theme)),Object(i.createElement)(a.ThemeContext.Provider,{value:t},e.children)}))};function p(e){var t=e.displayName||e.name||"Component",r=Object(i.forwardRef)((function(t,r){return Object(i.createElement)(a.ThemeContext.Consumer,null,(function(n){return Object(i.createElement)(e,o()({theme:n,ref:r},t))}))}));return r.displayName="WithTheme("+t+")",l()(r,e)}},function(e,t){var r="Expected a function";function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var o=Math.max;var i=function(e,t){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=o(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=s,n(e,this,u)}}((function(e,t){return function(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout((function(){e.apply(void 0,n)}),t)}(e,1,t)}));e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(23);t.requestWrapper=function(e,t,r){void 0===r&&(r=1);var i=function(e,a){return void 0===a&&(a=0),t(e).catch((function(t){if(a>r)throw t;var s=t.options;return t instanceof n.ArcGISAuthError&&s&&(!s.authentication||498===t.code||"AUTHENTICATION_ERROR_CODE"===t.code)?o.default.getInstance().signIn(window.location&&window.location.href,!0,t.url).then((function(e){return i(e,a+1)})):i(e,a+1)}))};return i(o.default.getInstance().getSessionByUrl(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47);function o(e){return!(!e||e.type!==n.ExpressionPartType.Function)&&Object.keys(n.ExpressionFunctions).some((function(t){return n.ExpressionFunctions[t]===e.exp}))}function i(e,t,r){if(!e||!t)return!1;var o=n.DataSourceManager.getInstance().getDataSource(e),i=o&&o.getSchema&&o.getSchema(),a=i&&i.fields;return!!a&&!(!a[t]||r!==(a[t].alias||a[t].name))}function a(e){var t,r={},o=!0;return e.filter((function(e){return!/^\s*$/.test(e.exp)})).forEach((function(e,i){e.type===n.ExpressionPartType.Operator&&","===e.exp?o=!0:(o?(t=i,r[i]={name:"default",parts:[e]}):r[t].parts=r[t].parts.concat(e),o=!1)})),r}t.getUseDataSourceFromExpParts=function(e){if(!e)return n.Immutable([]);var t={};return n.Immutable([]),e.filter((function(e){return!!e})).forEach((function(e){e.dataSourceId&&(t[e.dataSourceId]||(t[e.dataSourceId]=n.Immutable({dataSourceId:e.dataSourceId,fields:[]})),e.jimuFieldName&&(t[e.dataSourceId].fields&&t[e.dataSourceId].fields.every((function(t){return t!==e.jimuFieldName}))?t[e.dataSourceId]=t[e.dataSourceId].set("fields",t[e.dataSourceId].fields.concat(e.jimuFieldName)):t[e.dataSourceId].fields||(t[e.dataSourceId]=t[e.dataSourceId].set("fields",[e.jimuFieldName]))))})),n.Immutable(Object.keys(t).map((function(e){return t[e]})))},t.mergeUseDataSources=function(e,t){void 0===e&&(e=n.Immutable([])),void 0===t&&(t=n.Immutable([]));var r=n.Immutable([]),o=n.Immutable({}),i=n.Immutable(e.concat(t)),a={};return i.forEach((function(e){a[e.dataSourceId]||(a[e.dataSourceId]=i.filter((function(t){return e.dataSourceId===t.dataSourceId})))})),Object.keys(a).forEach((function(e){o=n.Immutable({}),a[e].forEach((function(e){o=function(e,t){if(!e||!t)return e||t;if(e.dataSourceId&&t.dataSourceId&&e.dataSourceId!==t.dataSourceId)return console.warn("can not merge data sources with different id"),null;if(!e.dataSourceId&&!t.dataSourceId)return e;if(e.fields&&t.fields){var r=Array.from(new Set(e.fields.asMutable().concat(t.fields.asMutable())));return e.merge(t.asMutable({deep:!0})).set("fields",r)}return e.merge(t.asMutable({deep:!0}))}(o,e)})),r=n.Immutable(r.concat(o))})),r},t.getWhetherExpressionValid=function(e){if(!e||!e.parts)return!0;var t=e.parts.filter((function(e){return!!e})),r=t.some((function(e){return e.type===n.ExpressionPartType.Unknown}));if(r)return!1;var a=t.filter((function(e){return e.type===n.ExpressionPartType.Operator&&"("===e.exp})).length===t.filter((function(e){return e.type===n.ExpressionPartType.Operator&&")"===e.exp})).length;if(!a)return!1;for(var s=t.filter((function(e){return!(e.type===n.ExpressionPartType.Operator&&("("===e.exp||")"===e.exp||/^\s*$/.test(e.exp))||e.type===n.ExpressionPartType.Function&&e.exp!==n.ExpressionFunctions.Count)})),u=!0,c=0;c<s.length;c++)if((c%2==0||c===s.length-1)&&s[c].type===n.ExpressionPartType.Operator||c%2==1&&s[c].type!==n.ExpressionPartType.Operator){u=!1;break}if(!u)return!1;var l=!0;for(c=0;c<t.length;c++)if(t[c].type===n.ExpressionPartType.Function&&!o(t[c])||t[c].type===n.ExpressionPartType.Field&&!i(t[c].dataSourceId,t[c].jimuFieldName,t[c].exp.replace(/^\{/,"").replace(/\}$/,""))){l=!1;break}if(!l)return!1;var d=n.groupExpressionPartsByFunction(t),f=!d.some((function(e){return e.type===n.ExpressionPartType.Operator&&","===e.exp}));if(!f)return!1;var p=d.every((function(e){if(e.type===n.ExpressionPartType.Function){if(e.exp===n.ExpressionFunctions.Count)return e.parts&&0===e.parts.length;if(Object.keys(n.ExpressionFunctions).some((function(t){return e.exp===n.ExpressionFunctions[t]}))){if(e.parts&&1===e.parts.length&&e.parts[0].type===n.ExpressionPartType.Field){var t=n.DataSourceManager.getInstance().getDataSource(e.parts[0].dataSourceId),r=t&&t.getSchema(),o=e.parts[0].jimuFieldName,i=r&&r.fields&&r.fields[o];return i&&i.type===n.JimuFieldType.Number}return!1}return!1}return!0}));return!r&&a&&u&&l&&f&&p},t.getWhetherFunctionIncludeChildExpression=function(e){return!!(e&&e.length>1&&e.some((function(e){return e.type===n.ExpressionPartType.Operator&&/^[\+\-\*\/\(\)]$/.test(e.exp)})))||!(!e||1!==e.length||e[0].type!==n.ExpressionPartType.Function)},t.getWhetherFunctionIncludeFieldParam=function(e){var t=a(e);return!!(t&&Object.keys(t).length>0&&Object.keys(t).some((function(e){return t[e].parts&&1===t[e].parts.length&&t[e].parts[0].type===n.ExpressionPartType.Field})))},t.getWhetherFieldInDs=i,t.getChildExpression=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(14),a=r(20),s=function(e){function t(t,r,n){void 0===n&&(n=!0);var o=e.call(this)||this;return o.dataSource=r,n?(t.attributes=o.convertBeforeMappingDataToData(t.attributes),o.feature=t):o.feature=t,o}return o(t,e),t.prototype.getData=function(){return this.feature.attributes},t.prototype.getFormattedFieldValue=function(t,r){var n=this.dataSource.getLayerDefinition(),o=a.getDisplayValueForCodedValueOrSubtype(n,t,this.getData());return o.isCodedValueOrSubtype?o.displayValue:e.prototype.getFormattedFieldValue.call(this,t,r)},t.prototype.getDataBeforeMapping=function(){return this.convertDataToDataBeforeMapping(this.getData())},t.prototype.getOriginData=function(){var e=Object.assign({},this.feature);return e.attributes=this.convertDataToDataBeforeMapping(this.getData()),e},t.prototype.toJson=function(){return this.feature},t.prototype.getId=function(){return this.feature.attributes[this.dataSource.getIdField()]+""},t.prototype.setId=function(e){},t.prototype.getGeometry=function(){return this.feature.geometry},t}(i.AbstractDataRecord);t.FeatureDataRecord=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),a=r(7),s=r(43),u=r(30),c=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._messageManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.registerWidgetActions=function(e,t){var r=this,n=[];return e.manifest.messageActions&&e.manifest.messageActions.forEach((function(o){var i;i=e.context.isRemote?e.context.folderUrl+"dist/"+o.uri+".js":e.uri+"dist/"+o.uri,n.push(r.registerAction({id:e.id+"-"+o.name,name:o.name,uri:i,widgetId:e.id,appConfig:t,label:e.manifest.i18nMessages["_action_"+o.name+"_label"]||o.label}))})),Promise.all(n)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find((function(t){return t.id===e.id}));if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(n){(r=new n({id:e.id,name:e.name,widgetId:e.widgetId,label:e.label}),n.versionManager&&e.appConfig)&&u.getWidgetMessageActionJsons(e.appConfig,e.widgetId,e.name).forEach((function(r){return t.upgradeActionConfig(r,n.versionManager,e.appConfig.widgets[e.widgetId].manifest.version)}));return t.actions.push(r),Promise.resolve(r)}))},e.prototype.upgradeActionConfig=function(e,t,r){var n=e.version,o=e.widgetId,i=e.config;if(n||(e.version="1.0.0-beta2"),r===n)return i;if(!t)return i;if(!s.valid(n)||!s.valid(r))return console.error("Bad widget action config version number, "+o+","+n+","+r),i;var a=t.upgrade(i,n,r);e.config=a,e.version=r},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]?this.actionClassPromises[e]:(this.actionClassPromises[e]=a.loadModule(e).then((function(e){return e.default})),this.actionClassPromises[e])},e.prototype.publishMessage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,a,s,u,c;return o(this,(function(l){switch(l.label){case 0:for(t=i.getAppStore().getState().appConfig.messageConfigs,r=Object.keys(t),n=null,u=0;u<r.length;u++)if(t[r[u]].messageType===e.type&&t[r[u]].widgetId===e.widgetId){n=t[r[u]];break}if(!n)return[2];a=function(t){var r,i;return o(this,(function(o){switch(o.label){case 0:return r=n.actions[t],(i=s.actions.filter((function(e){return e.widgetId===r.widgetId&&e.name===r.actionName}))[0])?i.filterMessage(e)?[4,s.exeAction(i,e,r.config)]:[2,"break"]:(console.error("Not find action: "+r.actionName),[2,"break"]);case 1:return o.sent()?[2]:[2,{value:void 0}]}}))},s=this,u=0,l.label=1;case 1:return u<n.actions.length?[5,a(u)]:[3,4];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];if("break"===c)return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return[2]}}))}))},e.prototype.exeAction=function(e,t,r){var n=e.onExecute(t,r);return n&&n instanceof Promise?n.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(n)},e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._dataActionManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getSupportedActions=function(e,t){var r=this;void 0===t&&(t=[]);var n=this.actions.map((function(n){return r.testActionSupportData(n,e,t).then((function(e){return{action:n,result:e}}))}));return Promise.all(n).then((function(e){return e.filter((function(e){return e.result})).map((function(e){return e.action}))}))},e.prototype.testActionSupportData=function(e,t,r){var n=e.isSupported(t,r);return n&&n instanceof Promise?n.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(n)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find((function(t){return t.id===e.id}));if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(r){var n=new r({id:e.id,name:e.name,widgetId:e.widgetId});return t.actions.push(n),n}))},e.prototype.registerWidgetActions=function(e){var t=this;return e.uri&&e.manifest.dataActions&&0!==e.manifest.dataActions.length?Promise.all(e.manifest.dataActions.asMutable().map((function(r){var n;n=e.context.isRemote?e.context.folderUrl+"dist/"+r.uri+".js":e.uri+"dist/"+r.uri;var o=e.id+"-"+r.name;return t.registerAction({id:o,name:r.name,uri:n,widgetId:e.id,label:e.manifest.i18nMessages["_action_"+r.name+"_label"]||r.label})}))):Promise.resolve([])},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.getActionsByWidgetId=function(e){return this.actions.filter((function(t){return t.widgetId===e}))},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]?this.actionClassPromises[e]:(this.actionClassPromises[e]=n.loadModule(e).then((function(e){return e.default})),this.actionClassPromises[e])},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32);t.groupExpressionPartsByFunction=n.groupPartsByFunction;var o=r(63);t.resolveExpression=function(e,t,r){var i=e&&e.parts&&e.parts.slice();if(!i)return Promise.resolve("");var a=n.groupPartsByFunction(i);if(n.getWhetherExpUseSelectedRecord(a)){var s=o.getUseDataSourceFromExpParts(i),u=n.isMultiple(t)?Object.keys(t):t&&t.dataSource&&t.dataSource.id?[t.dataSource.id]:[];if(s.some((function(e){return e&&e.dataSourceId&&!u.includes(e.dataSourceId)})))return Promise.reject("Need record to resolve expression")}var c=a&&1===Object.keys(a).filter((function(e){return!/^\s*$/.test(a[e].exp)})).length;return Promise.all(n.resolveFieldAndFunctionParts(a,t,c,r)).then((function(e){var t=n.getPostfixParts(e);return""+(n.calculatePostfixExpression(t,c)||"")}))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(31);!function(e){e.StringSelectionChange="STRING_SELECTION_CHANGE",e.ExtentChange="EXTENT_CHANGE",e.DataRecordsSelectionChange="DATA_RECORDS_SELECTION_CHANGE",e.DataRecordSetCreate="DATA_RECORD_SET_CREATE",e.DataRecordSetUpdate="DATA_RECORD_SET_UPDATE",e.SelectDataRecord="SELECT_DATA_RECORD"}(i=t.MessageType||(t.MessageType={})),t.getMessageTypeLabel=function(e,t){return{STRING_SELECTION_CHANGE:t.formatMessage({id:"message_StringSelectionChange",defaultMessage:a.default.message_StringSelectionChange}),EXTENT_CHANGE:t.formatMessage({id:"message_ExtentChange",defaultMessage:a.default.message_ExtentChange}),DATA_RECORDS_SELECTION_CHANGE:t.formatMessage({id:"message_DataRecordsSelectionChange",defaultMessage:a.default.message_DataRecordsSelectionChange}),DATA_RECORD_SET_CREATE:t.formatMessage({id:"message_DataRecordSetCreate",defaultMessage:a.default.message_DataRecordSetCreate}),DATA_RECORD_SET_UPDATE:t.formatMessage({id:"message_DataRecordSetUpdate",defaultMessage:a.default.message_DataRecordSetUpdate}),SELECT_DATA_RECORD:t.formatMessage({id:"message_SelectDataRecord",defaultMessage:a.default.message_SelectDataRecord})}[e]};var s=function(e,t){this.type=i.StringSelectionChange,this.widgetId=e,this.str=t};t.StringSelectionChangeMessage=s;var u=function(e,t){this.type=i.DataRecordsSelectionChange,this.widgetId=e,this.records=t};t.DataRecordsSelectionChangeMessage=u;var c=function(){function e(e,t){this.type=i.ExtentChange,this.widgetId=e,this.extent=t,this.relatedWidgetIds=[]}return e.prototype.setRelatedWidgetIds=function(e){this.relatedWidgetIds=e},e.prototype.getRelatedWidgetIds=function(){return this.relatedWidgetIds},e.prototype.addRelatedWidgetId=function(e){-1===this.relatedWidgetIds.indexOf(e)&&this.relatedWidgetIds.push(e)},e}();t.ExtentChangeMessage=c;var l=function(e,t,r){this.type=i.DataRecordSetCreate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r};t.DataRecordSetCreateMessage=l;var d=function(e,t,r){this.type=i.DataRecordSetUpdate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r};t.DataRecordSetUpdateMessage=d;var f=function(e,t,r){this.type=i.SelectDataRecord,this.widgetId=e,this.dataSourceId=t,this.recordId=r};t.SelectDataRecordMessage=f;var p=function(){function e(e){this.id=e.id,e.name&&(this.name=e.name),e.widgetId&&(this.widgetId=e.widgetId),this.label=e.label}return e.prototype.destroy=function(){},e}();t.AbstractMessageAction=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.filterMessageType=function(e,t){return!0},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){return!0},t}(p);t.DummyMessageAction=h},function(e,r){e.exports=t},function(e,t,r){"use strict";e.exports=r(133)},function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return i})),r.d(t,"applyMiddleware",(function(){return m})),r.d(t,"bindActionCreators",(function(){return d})),r.d(t,"combineReducers",(function(){return c})),r.d(t,"compose",(function(){return g})),r.d(t,"createStore",(function(){return s}));var n=r(72),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var o;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var r=d.indexOf(e);d.splice(r,1)}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=d,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:i.INIT}),(o={dispatch:m,subscribe:g,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:i.REPLACE})}})[n.a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e},o}function u(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var a,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,o={},i=0;i<s.length;i++){var c=s[i],l=r[c],d=e[c],f=l(d,t);if(void 0===f){var p=u(c,t);throw new Error(p)}o[c]=f,n=n||f!==d}return n?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=l(o,t))}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return h({},r,{dispatch:n=g.apply(void 0,i)(r.dispatch)})}}}},function(e,t,r){"use strict";(function(e,n){var o,i=r(128);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(19),r(134)(e))},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},function(e,t,r){var n,o,i=r(139),a=r(140),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,o=f;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var v=h/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=d[b];return t||a(l)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.serializeStyles(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148).default.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){n[e]=n(e)})),t.default=n},function(e,t,r){var n=r(80),o=r(83),i=r(155);function a(e,t){return new i(t).process(e)}for(var s in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,n)t[s]=n[s];for(var s in o)t[s]=o[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,r){var n=r(50).FilterCSS,o=r(50).getDefaultWhiteList,i=r(51);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new n;function u(e){return e.replace(c,"&lt;").replace(l,"&gt;")}var c=/</g,l=/>/g,d=/"/g,f=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(d,"&quot;")}function S(e){return e.replace(f,'"')}function w(e){return e.replace(p,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function I(e){return e.replace(h,":").replace(g," ")}function _(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return i.trim(t)}function O(e){return e=_(e=I(e=w(e=S(e))))}function E(e){return e=u(e=b(e))}var C=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,r){},t.onIgnoreTag=function(e,t,r){},t.onTagAttr=function(e,t,r){},t.onIgnoreTagAttr=function(e,t,r){},t.safeAttrValue=function(e,t,r,n){if(r=O(r),"href"===t||"src"===t){if("#"===(r=i.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(r))return""}else if("style"===t){if(y.lastIndex=0,y.test(r))return"";if(v.lastIndex=0,v.test(r)&&(m.lastIndex=0,m.test(r)))return"";!1!==n&&(r=(n=n||s).process(r))}return r=E(r)},t.escapeHtml=u,t.escapeQuote=b,t.unescapeQuote=S,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=I,t.clearNonPrintableCharacter=_,t.friendlyAttrValue=O,t.escapeAttrValue=E,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!r||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var c="[/removed]",l=u.position+c.length;return n.push([!1!==o?o:u.position,l]),o=!1,c}return o||(o=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",r=0;return i.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},t.stripCommentTag=function(e){return e.replace(C,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=o},function(e,t){function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,r){var n=r(51);function o(e){var t=n.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=n.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function u(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,r){var n="",a=0,s=!1,u=!1,c=0,l=e.length,d="",f="";for(c=0;c<l;c++){var p=e.charAt(c);if(!1===s){if("<"===p){s=c;continue}}else if(!1===u){if("<"===p){n+=r(e.slice(a,c)),s=c,a=c;continue}if(">"===p){n+=r(e.slice(a,s)),d=o(f=e.slice(s,c+1)),n+=t(s,n.length,d,f,i(f)),a=c+1,s=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(c-1)){u=p;continue}}else if(p===u){u=!1;continue}}return a<e.length&&(n+=r(e.substr(a))),n},t.parseAttr=function(e,t){var r=0,o=[],i=!1,l=e.length;function d(e,r){if(!((e=(e=n.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&o.push(i)}}for(var f=0;f<l;f++){var p,h=e.charAt(f);if(!1!==i||"="!==h)if(!1===i||f!==r||'"'!==h&&"'"!==h||"="!==e.charAt(f-1))if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(p=s(e,f))){d(n.trim(e.slice(r,f))),i=!1,r=f+1;continue}f=p-1;continue}if(-1===(p=u(e,f-1))){d(i,c(n.trim(e.slice(r,f)))),i=!1,r=f+1;continue}}else;else{if(-1===(p=e.indexOf(h,f+1)))break;d(i,n.trim(e.slice(r+1,p))),i=!1,r=(f=p)+1}else i=e.slice(r,f),r=f+1}return r<e.length&&(!1===i?d(e.slice(r)):d(i,c(n.trim(e.slice(r))))),n.trim(o.join(" "))}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)("#"+(0,o.default)(e)+(0,o.default)(t)+(0,o.default)(r));if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)("#"+(0,o.default)(e.red)+(0,o.default)(e.green)+(0,o.default)(e.blue));throw new i.default(6)};var n=a(r(85)),o=a(r(86)),i=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var o=(0,n(r(157)).default)("rem");t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var r=e.match(n);if(t)return r?[parseFloat(e),r[2]]:[e,void 0];return r?parseFloat(e):e};var n=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t,r){return Math.max(e,Math.min(t,r))};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)((0,n.default)(e))};var n=i(r(28)),o=i(r(162));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e)throw new s.default(8);if(l(e))return(0,a.default)(e);if(c(e))return(0,i.default)(e);if(f(e))return(0,o.default)(e);if(d(e))return(0,n.default)(e);throw new s.default(8)};var n=u(r(163)),o=u(r(164)),i=u(r(84)),a=u(r(52)),s=u(r(16));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},l=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},d=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},f=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(53)),o=a(r(85)),i=a(r(86));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,i.default)(Math.round(255*e))}function u(e,t,r){return(0,o.default)("#"+s(e)+s(t)+s(r))}var c=function(e,t,r){return(0,n.default)(e,t,r,u)};t.default=c,e.exports=t.default},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return d})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return h}));var n=r(0),o=r(46),i=r(26),a=r(18),s=r(21),u=r(45),c="@esri/arcgis-rest-js",l={httpMethod:"POST",params:{f:"json"}};function d(e,t){e.authentication&&!t&&Object(u.a)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),l=e}var f=function(e){function t(t,r,n,o,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var a=e.call(this,t,r,n,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,a}return n.b(t,e),t.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var o=0,i=function(a,s){e(r.url,r.options).then((function(e){var t=n.a({},r.options,{authentication:e});return o+=1,h(r.url,t)})).then((function(e){a(e)})).catch((function(e){"ArcGISAuthError"===e.name&&o<t?i(a,s):"ArcGISAuthError"===e.name&&o>=t?s(r):s(e)}))};return new Promise((function(e,t){i(e,t)}))},t}(s.a);function p(e,t,r,n,o){if(e.code>=400){var i=e.message,a=e.code;throw new s.a(i,a,e,t,n)}if(e.error){var u=e.error,c=(i=u.message,a=u.code,u.messageCode),l=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c||400===a&&"Unable to generate token."===i)throw o||new f(i,l,e,t,n);throw new s.a(i,l,e,t,n)}if("failed"===e.status||"failure"===e.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new s.a(i,a,e,t,n)}return e}function h(e,t){void 0===t&&(t={params:{f:"json"}});var r=n.a({httpMethod:"POST"},l,t,{params:n.a({},l.params,t.params),headers:n.a({},l.headers,t.headers)}),u=[],d=[];if(r.fetch||"undefined"==typeof fetch?(u.push("`fetch`"),d.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(u.push("`Promise`"),d.push("`es6-promise`")),"undefined"==typeof FormData&&(u.push("`FormData`"),d.push("`isomorphic-form-data`")),!r.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+u.join(", ")+". We recommend installing the "+d.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var f=r.httpMethod,h=r.authentication,g=r.rawResponse,m=n.a({f:"json"},r.params),y=null,v={method:f,credentials:"same-origin"};return(h?h.getToken(e,{fetch:r.fetch}).catch((function(t){return t.url=e,t.options=r,y=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){if(t.length&&(m.token=t),"GET"===v.method){var s=""===Object(i.b)(m)?e:e+"?"+Object(i.b)(m);r.maxUrlLength&&s.length>r.maxUrlLength?v.method="POST":e=s}var u=new RegExp("/items/.+/updateResources").test(e);return"POST"===v.method&&(v.body=Object(o.a)(m,u)),v.headers=n.a({},r.headers),"undefined"!=typeof window||v.headers.referer||(v.headers.referer=c),Object(a.b)(m)||u||(v.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,v)})).then((function(t){if(!t.ok){var n=t.status,o=t.statusText;throw new s.a(o,"HTTP "+n,t,e,r)}if(g)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==m.f&&"geojson"!==m.f||g)return t;var n=p(t,e,0,r,y);if(y){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},y=null}return n}))}},function(e,t,r){"use strict";function n(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0);function o(e,t,r){var o=n.a({params:{}},r,e);return o.params=t.reduce((function(t,r){return(e[r]||"boolean"==typeof e[r])&&(t[r]=e[r]),t}),o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return o[t]&&(e[t]=o[t]),e}),{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.BREAK_POINTS=[576,992],t.DEFAULT_VIEWPORT_SIZE={DESKTOP:{width:1280,height:800},PAD:{width:768,height:1024},PHONE:{width:414,height:896}},t.DEFAULT_PAGE_WIDTH=960;var o={};o[n.BrowserSizeMode.Large]=[{width:1024,height:768},{width:1280,height:800},{width:1280,height:1024},{width:1366,height:768},{width:1440,height:900},{width:1536,height:864},{width:1600,height:900},{width:1920,height:1080}],o[n.BrowserSizeMode.Medium]=[{width:601,height:962},{width:600,height:1024},{width:768,height:1024},{width:800,height:1280},{width:834,height:1112}],o[n.BrowserSizeMode.Small]=[{width:360,height:640},{width:360,height:720},{width:360,height:740},{width:375,height:667},{width:414,height:736}],t.SCREEN_RESOLUTIONS=o,t.SHARED_THEME="themes/shared-theme/"},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")();var b,S=Array.prototype,w=Function.prototype,I=Object.prototype,_=v["__core-js_shared__"],O=(b=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",E=w.toString,C=I.hasOwnProperty,P=I.toString,A=RegExp("^"+E.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.Symbol,x=S.splice,j=q(v,"Map"),M=q(Object,"create"),D=T?T.prototype:void 0,k=D?D.toString:void 0;function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function F(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function U(e,t,r){var n=e[t];C.call(e,t)&&J(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function N(e,t){for(var r=e.length;r--;)if(J(e[r][0],t))return r;return-1}function W(e){return!(!Q(e)||(t=e,O&&O in t))&&(function(e){var t=Q(e)?P.call(e):"";return t==a||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:h).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function B(e,t,r,n){if(!Q(e))return e;for(var o=-1,i=(t=function(e,t){if(K(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||Y(e))return!0;return l.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return K(e)?e:z(e)}(t)).length,a=i-1,s=e;null!=s&&++o<i;){var u=H(t[o]),d=r;if(o!=a){var f=s[u];void 0===(d=n?n(f,u,s):void 0)&&(d=Q(f)?f:G(t[o+1])?[]:{})}U(s,u,d),s=s[u]}return e}function V(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function q(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return W(r)?r:void 0}function G(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||g.test(e))&&e>-1&&e%1==0&&e<t}R.prototype.clear=function(){this.__data__=M?M(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:C.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=M&&void 0===t?n:t,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(e){var t=this.__data__,r=N(t,e);return!(r<0)&&(r==t.length-1?t.pop():x.call(t,r,1),!0)},F.prototype.get=function(e){var t=this.__data__,r=N(t,e);return r<0?void 0:t[r][1]},F.prototype.has=function(e){return N(this.__data__,e)>-1},F.prototype.set=function(e,t){var r=this.__data__,n=N(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},L.prototype.clear=function(){this.__data__={hash:new R,map:new(j||F),string:new R}},L.prototype.delete=function(e){return V(this,e).delete(e)},L.prototype.get=function(e){return V(this,e).get(e)},L.prototype.has=function(e){return V(this,e).has(e)},L.prototype.set=function(e,t){return V(this,e).set(e,t),this};var z=$((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Y(e))return k?k.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var r=[];return d.test(e)&&r.push(""),e.replace(f,(function(e,t,n,o){r.push(n?o.replace(p,"$1"):t||e)})),r}));function H(e){if("string"==typeof e||Y(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function $(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new($.Cache||L),n}function J(e,t){return e===t||e!=e&&t!=t}$.Cache=L;var K=Array.isArray;function Q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Y(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&P.call(e)==u}e.exports=function(e,t,r){return null==e?e:B(e,t,r)}}).call(this,r(19))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=[/\.arcgis\.com$/];function a(e){if(window&&window.parent&&window.parent!==window){var t=window.parent;try{if(t.jimuConfig&&t.jimuConfig.isBuilder)return}catch(e){}t.postMessage(e,window.location.origin)}}function s(e,t){return function(r){var n;if((n=r.origin,window&&window.location.origin===n||i.some((function(e){return e.test(n)})))&&(r.data&&!(Object.keys(o).map((function(e){return o[e]})).indexOf(r.data.type)<0))){var a=r.data;a.type===e&&t(a)}}}function u(e,t){if(window&&window.addEventListener){var r=s(e,t);return window.addEventListener("message",r,!1),r}}function c(e){window&&window.removeEventListener("message",e)}!function(e){e.JimuPageChanged="JIMU_PAGE_CHANGED",e.JimuQueryChanged="JIMU_QUERY_CHANGED"}(n=t.PostMessageType||(t.PostMessageType={})),function(e){e.ChangePage="CHANGE_PAGE",e.ChangeQuery="CHANGE_QUERY",e.HostAuth="HOST_AUTH"}(o=t.ListenMessageType||(t.ListenMessageType={})),t.postPageChangeMessage=function(e){a({type:n.JimuPageChanged,pageId:e})},t.postQueryChangeMessage=function(e){a({type:n.JimuQueryChanged,queryObject:e})},t.postMessage=a,t.listenForMessage=u,t.listenForMessageOnce=function(e){return window?new Promise((function(t){var r=u(e,(function(e){c(r),t(e)}))})):Promise.resolve(null)},t.removeMessageListener=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.White="white",e.Black="black",e.Transparent="transparent"}(t.ThemeCommonColorKeys||(t.ThemeCommonColorKeys={})),function(e){e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(t.ThemeThemeAlertColorKeys||(t.ThemeThemeAlertColorKeys={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark"}(t.ThemeThemeMainColorKeys||(t.ThemeThemeMainColorKeys={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark",e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(t.ThemeThemeColorKeys||(t.ThemeThemeColorKeys={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STYLIS_PROPERTY_CONTEXT=void 0;var n,o=r(180),i=(n=o)&&n.__esModule?n:{default:n};var a=t.STYLIS_PROPERTY_CONTEXT=1;t.default=function(e,t){if(e===a)return i.default.transform(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",ControlLeft:"control",ControlRight:"control"};t.default=function(e){return"code"in e?!!n[e.code]:16===e.which||17===e.which||18===e.which||91===e.which}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=o.createContext(null);t.RepeatedDataSourceProvider=function(e){var t=e.data,r=e.children;return o.createElement(i.Consumer,null,(function(e){var n=t;return e&&(n=Array.isArray(e)?e.concat(t):[e].concat(t)),o.createElement(i.Provider,{value:n},r)}))},t.RepeatedDataSourceConsumer=i.Consumer,t.withRepeatedDataSource=function(e){function t(t){return o.createElement(i.Consumer,null,(function(r){return o.createElement(e,n({},t,{repeatedDataSource:r}))}))}return t.displayName="RepeatedDataSourceContextConsumerWrapper",t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(105),o=r(20),i=r(6),a=r(56),s={is:{op:"= ?"},is_not:{op:"<> ?"},is_at_least:{op:">= ?"},is_at_most:{op:"<= ?"},is_less_than:{op:"< ?"},is_greater_than:{op:"> ?"},is_between:{op:"BETWEEN ?",sep:" AND "},is_not_between:{op:"NOT BETWEEN ?",sep:" AND "},contains:{op:"LIKE ?",mod:"%{0}%"},does_not_contain:{op:"NOT LIKE ?",mod:"%{0}%"},starts_with:{op:"LIKE ?",mod:"{0}%"},ends_with:{op:"LIKE ?",mod:"%{0}"},is_any_of:{op:"IN ?",mod:"[{0}]"},is_none_of:{op:"NOT IN ?",mod:"[{0}]"},is_on:{op:"= ?"},is_not_on:{op:"<> ?"}};function u(e,t){return e.replace("?",(function(){return t}))}function c(e){var t=[];return new Array(e).fill(1).map((function(e,r){t.push("{"+r+"}")})),"("+t.join(",")+")"}function l(e){return e.replace(/[\0\n\r\b\\\'\"]/g,(function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";default:return"\\"+e}})).replace(/\t/g,"\\t").replace(/\x1a/g,"\\Z")}function d(e,t){return e.replace(/{([0-9]+)}/g,(function(e,r){return t[parseInt(r)]}))}function f(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}t.getArcGISSQL=function(e,t,r){var a={sql:"(1=1)",displaySQL:"(1=1)"};if(!e)return a;var p=t.getSchema().fields,v=o.isHostedService(t.url),b=function e(t){if(!t.parts)return a;var o=t.logicalOperator?t.logicalOperator:n.ClauseLogic.And,b=[],S=[];t.parts.forEach((function(t){var o,a,I;if(t.type===n.ClauseType.Set){var _=e(t);b.push("("+_.sql+")"),S.push("( "+_.displaySQL+" )")}else{var O=t,E=!1,C=s[function(e){var t="";switch(e){case n.ClauseOperator.NumberOperatorIs:case n.ClauseOperator.StringOperatorIs:t="is";break;case n.ClauseOperator.NumberOperatorIsNot:case n.ClauseOperator.StringOperatorIsNot:t="is_not";break;case n.ClauseOperator.NumberOperatorIsAtLeast:t="is_at_least";break;case n.ClauseOperator.NumberOperatorIsAtMost:t="is_at_most";break;case n.ClauseOperator.NumberOperatorIsLessThan:t="is_less_than";break;case n.ClauseOperator.NumberOperatorIsGreaterThan:t="is_greater_than";break;case n.ClauseOperator.NumberOperatorIsBetween:t="is_between";break;case n.ClauseOperator.NumberOperatorIsNotBetween:t="is_not_between";break;case n.ClauseOperator.StringOperatorContains:t="contains";break;case n.ClauseOperator.StringOperatorDoesNotContain:t="does_not_contain";break;case n.ClauseOperator.StringOperatorStartsWith:t="starts_with";break;case n.ClauseOperator.StringOperatorEndsWith:t="ends_with";break;case n.ClauseOperator.NumberOperatorIsAnyOf:case n.ClauseOperator.StringOperatorIsAnyOf:t="is_any_of";break;case n.ClauseOperator.NumberOperatorIsNoneOf:case n.ClauseOperator.StringOperatorIsNoneOf:t="is_none_of";break;case n.ClauseOperator.DateOperatorIsOn:t="is_on";break;case n.ClauseOperator.DateOperatorIsNotOn:t="is_not_on"}return t}(O.operator)],P="",A="",T=O.valueOptions.value?O.valueOptions.value.asMutable({deep:!0}):null,x=p[O.jimuFieldName],j=x?x.type:null;if(!j)return;if(j===i.JimuFieldType.Date&&O.valueOptions.sourceType!==n.ClauseSourceType.Field){if(null===T)A="?";else{var M=v?"":"timestamp ",D=T[0].value,k=M+y(D),R=M+function(e,t,r){"number"==typeof e&&(e=new Date(e));var n;"DATE_PICKER"===t?n=new Date(e.getTime()+h):"DATE_TIME_PICKER"===t&&(n=r&&r.indexOf("ShortTime")>=0?function(e){return new Date(e.getTime()+g)}(e):function(e){return new Date(e.getTime()+m)}(e));return y(n)}(D,O.valueOptions.inputEditor,null===(o=x.format)||void 0===o?void 0:o.dateFormat);O.operator===n.ClauseOperator.DateOperatorIsOn?(P=x.name+" BETWEEN '"+k+"' AND '"+R+"' AND ("+x.name+" <> '"+R+"')",A=w(new Date(D),O.valueOptions.inputEditor,null===(a=x.format)||void 0===a?void 0:a.dateFormat,r)):O.operator===n.ClauseOperator.DateOperatorIsNotOn&&(P=x.name+" < '"+k+"' OR "+x.name+" >= '"+R+"'",A=w(new Date(D),O.valueOptions.inputEditor,null===(I=x.format)||void 0===I?void 0:I.dateFormat,r)),b.push("("+P+")")}var F=u(C.op,A);return void S.push("("+(x.alias?x.alias:x.name)+" "+F+")")}var L=[],U=[];if(null===T){var N="?";C.mod&&-1===C.op.indexOf("IN")&&(N=d(C.mod,[N])),U.push(N),C.op.indexOf("BETWEEN")>-1&&U.push(N),!C.sep&&C.mod&&C.op.indexOf("IN")>-1?(C.mod=c(1),A=d(C.mod,U)):U.map((function(e,t){t>0&&(A+=C.sep),A+=e}))}else{for(var W=!1,B=0;B<T.length;B++){null===T[B]&&(W=!0,T[B]={value:null,label:"?"});var V=T[B].value;N=T[B].label;if(O.valueOptions.sourceType===n.ClauseSourceType.Field){var q=p[V];N=q.alias?q.alias:q.name}else{if(j===i.JimuFieldType.String&&(V=null!==V?l(V):null,E=!(v||O.caseSensitive)),N=l(N),C.mod&&-1===C.op.indexOf("IN")&&(V=null!==V?d(C.mod,[V]):null,N=d(C.mod,[N])),j===i.JimuFieldType.String){var G=v&&f(V)?"N":"";V=null!==V?G+"'"+V+"'":null}N=j===i.JimuFieldType.String&&null!==V?"'"+N+"'":N,E&&(V=null!==V?V.toUpperCase():null,N=N.toUpperCase())}null!==V&&L.push(V),U.push(N)}W&&(L=[]),!C.sep&&C.mod&&C.op.indexOf("IN")>-1?(C.mod=c(L.length),P=d(C.mod,L),A=d(C.mod,U)):(L.map((function(e,t){t>0&&(P+=C.sep),P+=e})),U.map((function(e,t){t>0&&(A+=C.sep),A+=e})))}var z=x.name;if(""!==P){var H=u(C.op,P),$=E?"UPPER("+z+")":z;b.push("("+$+" "+H+")")}var J=u(C.op,A),K=x.alias?x.alias:z;K=E?"UPPER("+K+")":K,S.push("("+K+" "+J+")")}}));var I=" "+o+" ";return{sql:b.join(I),displaySQL:S.join(I)}}(e);return{sql:""===b.sql?"(1=1)":"("+b.sql+")",displaySQL:b.displaySQL}},t.parserSQL=function(e){return null};var p,h=864e5,g=6e4,m=1e3;function y(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)}function v(e){var t=e.getTimezoneOffset();return(t<0?1:-1)*(t<0?Math.abs(t)/60:t/60)*60*60*1e3}function b(e){return e.getTime()-v(e)}function S(e){return e.getTime()+v(e)}function w(e,t,r,n){var o=new Date(S(e)),i="";if(n){var s=a.DATE_TIME_DEFAULT_FORMAT.date,u=a.DATE_TIME_DEFAULT_FORMAT.time;if(r){var c=a.getEsriDateFormat(r);s=c.datePattern,u="DATE_TIME_PICKER"===t?c.timePattern||u:""}else"DATE_PICKER"===t&&(u="");i=a.formatDateLocally(o,n,s,u)}else"DATE_PICKER"===t?i=o.toLocaleDateString():"DATE_TIME_PICKER"===t&&(i=o.toLocaleDateString()+" "+("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2));return i}t.getUTCTimes=b,t.getLocalTimes=S,function(e){e.Date="DATE",e.DateTimeShort="DATE_TIME_SHORT",e.DateTimeLong="DATE_TIME_LONG"}(p=t.DateTimeType||(t.DateTimeType={})),t.getUTCDateValue=function(e,t){return"number"!=typeof e&&"string"!=typeof e||(e=new Date(e)),e.setMilliseconds(0),t===p.Date?(e.setHours(0),e.setMinutes(0),e.setSeconds(0)):t===p.DateTimeShort&&e.setSeconds(0),b(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.And="AND",e.Or="OR"}(t.ClauseLogic||(t.ClauseLogic={})),function(e){e.None="NONE",e.Previous="PREVIOUS",e.All="ALL"}(t.ClauseCascade||(t.ClauseCascade={})),function(e){e.StringOperatorIs="STRING_OPERATOR_IS",e.StringOperatorIsNot="STRING_OPERATOR_IS_NOT",e.StringOperatorContains="STRING_OPERATOR_CONTAINS",e.StringOperatorDoesNotContain="STRING_OPERATOR_DOES_NOT_CONTAIN",e.StringOperatorStartsWith="STRING_OPERATOR_STARTS_WITH",e.StringOperatorEndsWith="STRING_OPERATOR_ENDS_WITH",e.StringOperatorIsAnyOf="STRING_OPERATOR_IS_ANY_OF",e.StringOperatorIsNoneOf="STRING_OPERATOR_IS_NONE_OF",e.NumberOperatorIs="NUMBER_OPERATOR_IS",e.NumberOperatorIsNot="NUMBER_OPERATOR_IS_NOT",e.NumberOperatorIsAtLeast="NUMBER_OPERATOR_IS_AT_LEAST",e.NumberOperatorIsAtMost="NUMBER_OPERATOR_IS_AT_MOST",e.NumberOperatorIsLessThan="NUMBER_OPERATOR_IS_LESS_THAN",e.NumberOperatorIsGreaterThan="NUMBER_OPERATOR_IS_GREATER_THAN",e.NumberOperatorIsBetween="NUMBER_OPERATOR_IS_BETWEEN",e.NumberOperatorIsNotBetween="NUMBER_OPERATOR_IS_NOT_BETWEEN",e.NumberOperatorIsAnyOf="NUMBER_OPERATOR_IS_ANY_OF",e.NumberOperatorIsNoneOf="NUMBER_OPERATOR_IS_NONE_OF",e.DateOperatorIsOn="DATE_OPERATOR_IS_ON",e.DateOperatorIsNotOn="DATE_OPERATOR_IS_NOT_ON"}(t.ClauseOperator||(t.ClauseOperator={})),function(e){e.UserInput="USER_INPUT",e.Field="FIELD",e.SingleSelectFromUnique="UNIQUE",e.MultipleSelectFromUnique="MULTIPLE"}(t.ClauseSourceType||(t.ClauseSourceType={})),function(e){e.Single="SINGLE",e.Set="SET"}(t.ClauseType||(t.ClauseType={})),function(e){e.Asc="ASC",e.Desc="DESC"}(t.OrderRule||(t.OrderRule={}))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(1).PureComponent);t.default=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(10),s=r(126),u=r(14),c=r(64),l=r(44),d=r(108),f=r(20),p=r(17),h=r(62),g=r(104),m=function(e){function t(t){var r=e.call(this,t)||this;return r.portalUrl=t.dataSourceJson.portalUrl,r.itemId=t.dataSourceJson.itemId,r.layerId=t.dataSourceJson.layerId,r}return o(t,e),t.prototype.getIdField=function(){var e=this.layerDefinition,t=e.objectIdField;if(!t){var r=e.fields.find((function(e){return"esriFieldTypeOID"===e.type}));r&&(t=r.name)}return t||(t="OBJECTID"),t},t.prototype.getGeometryType=function(){return this.getLayerDefinition().geometryType},t.prototype.setJsonData=function(e){var t=this;this.records=e.map((function(e){return new c.FeatureDataRecord(e,t,!1)}))},t.prototype.doQuery=function(e){var t=this;if(e.returnCountOnly)return console.error("To query count, please use queryCount."),Promise.reject("To query count, please use queryCount.");if(e.outFields&&"*"!==e.outFields&&"*"!==e.outFields[0]){var r=this.getLayerDefinition().typeIdField;r&&e.outFields.indexOf(r)<0&&e.outFields.push(r)}return this._q(e).then((function(r){var n=Object.keys(t.getSchema().fields).filter((function(e){return r.fields&&r.fields.find((function(r){return r.name===t.getSchema().fields[e].name}))}));return{queryParams:e,fields:n,records:r.features.map((function(e){return new c.FeatureDataRecord(e,t)}))}}))},t.prototype.doQueryCount=function(e){var t=Object.assign({},e);return delete t.resultRecordCount,delete t.resultOffset,t.returnCountOnly||(t.returnCountOnly=!0),this._q(t).then((function(t){return{queryParams:e,count:t.count}}))},t.prototype._q=function(e){var t=i({url:this.url},e);return h.requestWrapper(this.url,(function(e){return t.authentication=e,s.queryFeatures(t)}))},t.prototype.doQueryById=function(e){return this.doQuery({objectIds:[parseInt(e)]}).then((function(e){return e.records[0]}))},t.prototype.getConfigQueryParams=function(){return this.dataSourceJson.query?{where:g.getArcGISSQL(this.dataSourceJson.query.where,this).sql,orderByFields:this.getOrderBy(this.dataSourceJson.query.orderBy)}:null},t.prototype.getOrderBy=function(e){return e.map((function(e){return e.jimuFieldName+" "+e.order})).join(",")},t.prototype.mergeQueryParams=function(e,t){var r;return r=[e&&e.where,t&&t.where].filter((function(e){return e})).map((function(e){return""+e})).join(" and "),i(i(i({},e),t),{where:r})},t.prototype.getRealQueryParams=function(t,r,n){var o=e.prototype.getRealQueryParams.call(this,t,r,n);return this.getSchema().filter&&(o.where?o.where.indexOf(this.getSchema().filter)<0&&(o.where=o.where+" and "+this.getSchema().filter):o.where=this.getSchema().filter),o},t.prototype.addRecord=function(e){var t=this,r=e.getData(),n={attributes:r},o={url:this.url,features:[n]};return h.requestWrapper(this.url,(function(e){return o.authentication=e,s.addFeatures(o).then((function(e){var n=e.addResults[0].objectId;return r.OBJECTID=n,new c.FeatureDataRecord({attributes:r},t)}))}))},t.prototype.fetchSchema=function(){var e=this;return this.dataSourceJson.isStatistic?Promise.resolve(a({})):d.default.getInstance().fetchServiceInfo(this.url).then((function(t){return e.itemId?h.requestWrapper(e.url,(function(r){return l.getItemData(e.itemId,{portal:p.getPortalRestUrl(e.portalUrl),authentication:r}).then((function(r){var n=r&&r.layers&&r.layers[e.layerId];return{serviceDefinition:e._getUpdatedLayerDefinition(n,t.definition),fieldInfos:n&&n.popupInfo&&n.popupInfo.fieldInfos,filter:n&&n.layerDefinition&&n.layerDefinition.definitionExpression}}))})):{serviceDefinition:t.definition,fieldInfos:null,filter:null}})).then((function(t){var r=t.serviceDefinition,n=t.fieldInfos,o=t.filter,i={fields:{},idField:r.idField,filter:o};return e.layerDefinition=r,r.fields.forEach((function(e){var t=n&&n.find((function(t){return t.fieldName===e.name}));i.fields[e.name]=f.convertFieldToJimuField(e,t)})),a(i)}))},t.prototype._getUpdatedLayerDefinition=function(e,t){var r=t;if(e&&e.layerDefinition){var n=void 0,o=e.layerDefinition.drawingInfo;if(o){if(o.renderer&&"uniqueValue"===o.renderer.type){var i=t.types;o.renderer.field1!==t.typeIdField&&(i=[],o.renderer.uniqueValueInfos.map((function(e){i.push({id:e.value,name:e.label,domain:{}})}))),n={defaultVisibility:e.layerDefinition.defaultVisibility,drawingInfo:e.layerDefinition.drawingInfo,typeIdField:o.renderer.field1,types:i}}}else e.layerDefinition.defaultVisibility!==t.defaultVisibility&&(n={defaultVisibility:e.layerDefinition.defaultVisibility});r=Object.assign({},r,n)}return r},t.prototype.getLayerDefinition=function(){return this.layerDefinition},t.prototype.getFieldCodedValueList=function(e,t){var r="",n=this.getSchema().fields;return Object.keys(n).some((function(t){return t===e&&(r=n[t].name,!0)})),f.getCodedValueListForCodedValueOrSubtypeField(this.getLayerDefinition(),r,t)},t}(u.AbstractQueriableDataSource);t.FeatureQueryDataSource=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(62),i=r(23),a=r(4),s=r(17),u=function(){function e(){this.servicesInfo={},this.servicesInfoPromise={}}return e.getInstance=function(){if(window.jimuConfig&&window.jimuConfig.isBuilder){if(window._appWindow&&window._appWindow._serviceManager)return window._appWindow._serviceManager;console.error("No window._appWindow._serviceDefinitionManager.")}return e.instance||(e.instance=new e),e.instance},e.prototype.getServiceInfo=function(e){return this.servicesInfo[e]},e.prototype.setServiceInfo=function(e,t){this.servicesInfo[e]=t},e.prototype.fetchServiceInfo=function(e){var t=this;return this.getServiceInfo(e)?Promise.resolve(this.getServiceInfo(e)):this.servicesInfoPromise[e]?this.servicesInfoPromise[e]:(this.servicesInfoPromise[e]=this.isHostedServiceInSamePortal(e).then((function(t){return o.requestWrapper(e,(function(r){return n.request(e,{authentication:r}).then((function(e){return{definition:e,isHostedInSamePortal:t}}))}))})).then((function(r){return t.servicesInfo[e]=r,r})),this.servicesInfoPromise[e])},e.prototype.isHostedServiceInSamePortal=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?n.request(t+"/rest/info").then((function(t){return t.owningSystemUrl?!(!/https?:\/\/(www|services)\.arcgis\.com/.test(t.owningSystemUrl)||!/maps\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||(!(!/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsdevext\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||(!(!/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsqa\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||s.isSamePortalUrl(a.getAppStore().getState().portalUrl,t.owningSystemUrl))):!!i.default.getInstance().getSessionByUrl(e)})):Promise.resolve(!1)},e.prototype.isHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?n.request(t+"/rest/info").then((function(e){return!!e.owningSystemUrl})):Promise.resolve(!1)},e}();t.default=u,window.jimuConfig&&!window.jimuConfig.isBuilder&&(window._serviceManager=u.getInstance())},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(14),a=r(64),s=function(e){function t(t){var r=e.call(this,t)||this;return r.records=t.records||[],r}return o(t,e),t.prototype.getIdField=function(){return this.dataSourceJson.schema&&this.dataSourceJson.schema.idField?this.dataSourceJson.schema.idField:this.dataSourceJson.originDataSources&&this.dataSourceJson.originDataSources.length>0&&this.dataSourceManager.getDataSource(this.dataSourceJson.originDataSources[0].dataSourceId)?this.dataSourceManager.getDataSource(this.dataSourceJson.originDataSources[0].dataSourceId).getIdField():e.prototype.getIdField.call(this)},t.prototype.setJsonData=function(e){var t=this;this.records=e.map((function(e){return new a.FeatureDataRecord(e,t,!1)}))},t.prototype.addRecord=function(e){},t}(i.AbstractDataSource);t.FeatureSetDataSource=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),o=r(22),i=r(7),a={},s={};function u(e){if(s[e])return s[e];var t=[],r=n.default.getInstance().getExtensions(o.ExtensionPoints.DependencyDefine).filter((function(t){return t.getDependencyKey()===e}))[0];r?t=t.concat(r.getResources()):/^http/.test(e)?t.push({url:e}):console.error("Unknown dependency.",e);var u=[];return t.forEach((function(e){a[e.url]?u.push(a[e.url]):u.push(function e(t){if(t.dependencies&&t.dependencies.length>0)return Promise.all(t.dependencies.map((function(t){return e(t)}))).then((function(){return delete t.dependencies,e(t)}));return a[t.url]=i.loadModule(t.url),a[t.url]}(e))})),s[e]=Promise.all(u).then((function(e){}))}t.loadDependency=u,t.loadDependencies=function(e){return Promise.all(e.map((function(e){return u(e)}))).then((function(){}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(4),i=r(30),a=r(42),s=r(29),u=r(23),c=r(22),l=r(44),d=r(13),f=r(17),p=r(112),h=r(2),g=r(5),m=r(113),y=r(31),v=r(43),b=r(114),S=r(115),w=function(){function e(e){this.intl=e.intl}return e.getInstance=function(t){return e.instance||(e.instance=new e(t)),e.instance},e.prototype.loadAppConfig=function(){var e=this;return this._loadAndProcessAppConifg().then((function(t){e.setDocumentTitle(t.attributes);var r=n(t);return e.initTrackingManager(r)}))},e.prototype.initTrackingManager=function(e){var t=e.analytics;return t?p.TrackingManager.getInstance().initialize(t).then((function(){return e}),(function(t){return console.error(t.message||t),e})):Promise.resolve(e)},e.prototype._loadAndProcessAppConifg=function(){var e=this;return o.getAppStore().getState().appConfig?Promise.resolve(o.getAppStore().getState().appConfig.asMutable({deep:!0})):this.loadRawAppConfig().then((function(t){return t.__not_publish?Promise.reject(new Error(e.intl.formatMessage({id:"notPublishError",defaultMessage:y.default.notPublishError}))):(v.lt(t.exbVersion,b.exbVersion)&&((t=(new S.AppVersionManager).upgrade(t,t.exbVersion,b.exbVersion)).exbVersion=b.exbVersion),t)})).then((function(t){return e.processRawConfig(t)})).then((function(e){if(!o.getAppStore().getState().portalUrl&&e.attributes&&e.attributes.portalUrl){var t=f.fixPortalUrlProtocol(e.attributes.portalUrl);return m.initPortalSelf(e.attributes.portalUrl),o.getAppStore().dispatch(g.setPortalInfo(t,e.attributes.clientId)),e.attributes.clientId&&u.default.getInstance().setMainPortal({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId}),e}return e})).then((function(t){return e.handlePortalResourceInConfig(t)}))},e.prototype.processRawConfig=function(e){var t=this;return this.processAppConfigAfterLoad(e),this.loadAllWidgetsManifest(e).then((function(e){return t.applyAppConfigProcessorExtension(e)})).then((function(e){return t.addDefaultLabelAndIcon(e),i.addLayoutLabel(e),e}))},e.prototype.loadAppInfo=function(e){return window.isDevEdition?this.loadAppInfoFromLocalServer(e):this.loadAppInfoFromPortal(e)},e.prototype.setDocumentTitle=function(e){if(e.title){document.title=e.title;var t={name:e.title,description:e.description};o.getAppStore().dispatch(g.appInfoChanged(t))}else{var r=d.getAppIdPageIdFromUrl().appId;r&&this.loadAppInfo(r).then((function(e){document&&(document.title=e.name)}))}},e.prototype.loadRawAppConfig=function(){var e=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigService)[0];return e?e.loadAppConfig():this.loadAppConfigWithDefault()},e.prototype.loadAppConfigWithDefault=function(){var e=o.getAppStore().getState();if(!e.appContext.isBuilder){var t=d.getAppIdPageIdFromUrl().appId;if(t)return window.isDevEdition?this.loadAppConfigFromLocalServer(t):this.loadAppConfigFromPortal(t)}var r=e.queryObject.config;r||(r="config.json");var n=r.split(":");return 2===n.length&&"item"===n[0]?this.loadAppConfigFromPortal(n[1]):window.fetch(r).then((function(e){return e.json()}))},e.prototype.loadAppInfoFromLocalServer=function(e){return window.fetch("/apps/"+e+"/info.json").then((function(e){return e.json()})).then((function(e){var t={name:e.title,description:e.description};return o.getAppStore().dispatch(g.appInfoChanged(t)),t}))},e.prototype.loadAppInfoFromPortal=function(e){var t=u.default.getInstance();return l.getItem(e,{portal:f.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl)}).then((function(e){var t={name:e.title,description:e.description};return o.getAppStore().dispatch(g.appInfoChanged(t)),t})).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})}))},e.prototype.loadAppConfigFromLocalServer=function(e){var t=o.getAppStore().getState().queryObject.draft;return"true"===t||"1"===t?window.fetch("/apps/"+e+"/resources/config/config.json").then((function(e){return e.json()})):window.fetch("/apps/"+e+"/config.json").then((function(e){return e.json()}))},e.prototype.loadAppConfigFromPortal=function(e){var t=u.default.getInstance(),r=o.getAppStore().getState().queryObject.draft;return"true"===r||"1"===r?h.request(f.getPortalRestUrl(o.getAppStore().getState().portalUrl)+"/content/items/"+e+"/resources/config/config.json",{authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl)}).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})})):l.getItemData(e,{portal:f.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl)}).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})}))},e.prototype.applyAppConfigProcessorExtension=function(e){var t=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigProcessor)[0];return t?t.process(e):Promise.resolve(e)},e.prototype.loadAllWidgetsManifest=function(e){var t=[],r=a.default.getInstance();return i.getAllWidgets(e).forEach((function(n,o){var i=n,a=i.uri;if(a)return e.useCachedManifest&&e.widgetsManifest[a]?(i._originManifest=e.widgetsManifest[a],void t.push(r.processWidgetManifest(i).then((function(){return r.registerManifestProps(n)})))):void t.push(r.loadWidgetManifest(i).then((function(e){return i._originManifest=e,r.processWidgetManifest(i).then((function(){return r.registerManifestProps(i)}))})))})),Promise.all(t).then((function(t){return e}))},e.prototype.processAppConfigAfterLoad=function(e){this.handleEmbedMode(e),this.addDefaultValues(e),this.fixAllIds(e),this.fixWidgetUri(e),this.fixThemeUri(e),this.addWidgetContext(e),this.addDefaultPageStructure(e)},e.prototype.handlePortalResourceInConfig=function(e){if(window.jimuConfig.isBuilder&&!window.jimuConfig.isInBuilder)return Promise.resolve(e);var t=u.default.getInstance().getMainSession();if(t&&t.token){var r=t.token;return i.appendPortalInfoToResource(e,r)}return i.appendPortalInfoToResource(e,null)},e.prototype.handleEmbedMode=function(e){var t=o.getAppStore().getState().queryObject.embedded;"true"!==t&&"1"!==t||Object.keys(e.pages).forEach((function(t){e.pages[t].header=!1,e.pages[t].footer=!1}))},e.prototype.addDefaultPageStructure=function(e){e.pageStructure||(e.pageStructure=[],Object.keys(e.pages).forEach((function(t){var r;e.pageStructure.push(((r={})[t]=[],r))})))},e.prototype.fixAllIds=function(e){this.fixId(e.pages),this.fixId(e.widgets),this.fixId(e.sections),this.fixId(e.views),this.fixId(e.dialogs),this.fixId(e.messageConfigs),this.fixId(e.dataSources),i.fixLayoutIds(e)},e.prototype.fixId=function(e){e&&Object.keys(e).forEach((function(t){"string"!=typeof e[t]&&(e[t].id=t)}))},e.prototype.fixWidgetUri=function(e){i.getAllWidgets(e).forEach((function(e){/\/$/.test(e.uri)||(e.uri=e.uri+"/")}))},e.prototype.fixThemeUri=function(e){/\/$/.test(e.theme)||(e.theme=e.theme+"/")},e.prototype.addWidgetContext=function(e){i.getAllWidgets(e).forEach((function(e){var t=i.getWidgetContext(e.uri);e.context=t}))},e.prototype.addDefaultValues=function(e){return e.attributes||(e.attributes={}),e.widgets||(e.widgets={}),e.widgetsManifest||(e.widgetsManifest={}),e.views||(e.views={}),e.sections||(e.sections={}),e.dialogs||(e.dialogs={}),e.pages||(e.pages={}),e.layouts||(e.layouts={}),e.dataSources||(e.dataSources={}),e.messageConfigs||(e.messageConfigs={}),this.addDefaultPageVisible(e),e},e.prototype.addDefaultPageVisible=function(e){Object.keys(e.pages).forEach((function(t){void 0===e.pages[t].isVisible&&(e.pages[t].isVisible=!0)}))},e.prototype.addDefaultLabelAndIcon=function(e){i.getAllWidgets(e).forEach((function(t){i.addWidgetDefaultLabelAndIcon(e,t)}))},e}();t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(7),i=r(10),a=function(){function e(){var e=this;this.initialize=function(t){var r=!(!t||!t.enable);return r?Promise.all([e.initializeGtag(),e.createTracker(t)]).then((function(){e.enable=r}),function(e){throw this.enable=!1,new Error(e)}.bind(e)):(e.enable=r,Promise.resolve())},this.initializeGtag=function(){return e.gtag?Promise.resolve():o.loadModule("gtm").then((function(){var t=window;t.dataLayer=t.dataLayer||[],e.gtag=function(){t.dataLayer.push(arguments)},e.gtag("js",new Date)}))},this.compareGoogleAnalytics=function(t){if(void 0===t&&(t=i({})),e.enable){var r=e.googleAnalytics||i({});t!==r&&(t.trackId!==r.trackId&&(r.trackId&&e.disableGaTrackForGtag(r.trackId,!0),t.trackId&&e.addGaTrackIdToGtag(t.trackId,t.anonymizeip)),t.dimensions!==r.dimensions&&e.updateGgTrackerDimensions(e.track,t.dimensions),t.metrics!==r.metrics&&e.updateGgTrackerMetrics(e.track,t.metrics),t.anonymizeip!==r.anonymizeip&&e.updateGgTrackerAnonymizeip(t.trackId,t.anonymizeip),e.googleAnalytics=t)}},this.disableGaTrackForGtag=function(e,t){void 0===t&&(t=!0),e&&(window["ga-disable-"+e]=t)},this.addGaTrackIdToGtag=function(t,r){void 0===r&&(r=!0),e.gtag&&(e.disableGaTrackForGtag(t,!1),e.gtag("config",t,{anonymize_ip:r}))},this.updateGgTrackerDimensions=function(t,r){var n=e.getGgTracker(t);n&&(n.dimensions=r)},this.updateGgTrackerMetrics=function(t,r){var n=e.getGgTracker(t);n&&(n.metrics=r)},this.updateGgTrackerAnonymizeip=function(t,r){void 0===r&&(r=!0),e.gtag&&e.gtag("config",t,{anonymize_ip:r})},this.getGgTracker=function(e){return e&&e.trackers&&e.trackers.find((function(e){return"google"===e.name}))},this.mutablePortalUser=function(){var e=n.getAppStore().getState().portalSelf.asMutable();return e.user=e.user.asMutable(),e},this.isTrackAvailable=function(){return e.enable,!!e.enable},n.observeStore(this.onStoreChange.bind(this),["appConfig","analytics"])}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.onStoreChange=function(e,t){var r=this;void 0===e&&(e=i({})),void 0===t&&(t=i({})),t.enable!==e.enable?this.initialize(t).then((function(){return r.compareGoogleAnalytics(t&&t.google)})):this.compareGoogleAnalytics(t&&t.google)},e.prototype.createTracker=function(e){var t=this;if(this.track)return Promise.resolve(this.track);var r={google:e&&e.google,portal:this.mutablePortalUser()};return o.loadModule("jimu-core/telemetry").then((function(e){return t.track=new e(r),t.track}))},e.prototype.logPageView=function(e){if(this.isTrackAvailable())return this.track.logPageView(e)},e.prototype.logEvent=function(e){if(this.isTrackAvailable())return this.track.logEvent(e)},e.prototype.logError=function(e){if(this.isTrackAvailable())return this.track.logError(e)},e}();t.TrackingManager=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(17),i=r(4),a=r(5),s=r(23);t.initPortalSelf=function(e){var t=s.default.getInstance(),r=t.handleAuthError.bind(t);return n.request(o.getPortalRestUrl(e)+"portals/self?f=json",{authentication:t.getMainSession()}).then((function(t){if(!t.isPortal){var r="https://"+t.urlKey+"."+t.customBaseUrl;t.urlKey&&!o.isSamePortalUrl(e,r)&&i.getAppStore().dispatch(a.setPortalInfo(r))}i.getAppStore().dispatch(a.setPortalSelf(t))})).catch((function(e){r(e,!1)}))}},function(e){e.exports=JSON.parse('{"exbVersion":"1.0.0","exbBuildNum":"339","exbBuildCommit":"5ede4657648ad6b43745721aeb5f7b829fad9ece","exbExtensionsBuildCommit":"ef312055fecd95a5e5ef6e8c5a466ecbf2f9b0cf","exbBuildDate":"20200226.184333.CST","productVersion":"ArcGIS Experience Builder"}')},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(43),a=function(){function e(){}return e.prototype.upgrade=function(e,t,r){if(i.valid(t)&&i.valid(r)&&this.checkVersion()){var n=this.getVersionIndex(t),o=this.getVersionIndex(r);if(n>o)throw Error("New version should higher than old version.");if(n===o)return this.versions[o]&&this.versions[o].upgrader(e);var a,s=e;for(a=n+1;a<=o;a++)this.versions[a]&&this.versions[a].upgrader&&(s=this.versions[a].upgrader(s));return s}},e.prototype.getVersionIndex=function(e){var t=this.versions.findIndex((function(t){return i.eq(e,t.version)}));if(t>-1)return t;for(var r=0;r<this.versions.length-1;r++)if(i.gt(e,this.versions[r].version)&&i.lt(e,this.versions[r+1].version))return r;return i.lt(e,this.versions[0].version)?-1:i.gt(e,this.versions[this.versions.length-1].version)?this.versions.length:void 0},e.prototype.checkVersion=function(){for(var e=0;e<this.versions.length-1;e++){if(!i.valid(this.versions[e].version))return console.error("Invalid version.",this.versions[e].version),!1;if(i.gt(this.versions[e].version,this.versions[e+1].version))return console.error("Version order error.",this.versions[e].version,this.versions[e+1]),!1}return!0},e}();t.BaseVersionManager=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versions=[{version:"1.0.0",description:"First release.",upgrader:function(e){var t,r=e;return delete r.widgetsManifest,(t=r).widgets&&Object.keys(t.widgets).forEach((function(e){var r,n=t.widgets[e];"widgets/common/controller/"===n.uri&&(null===(r=n.layouts)||void 0===r?void 0:r.openwidget)&&(n.layouts._openwidget=n.layouts.openwidget,delete n.layouts.openwidget)})),r=function(e){var t;return Object.keys((t=e.layouts,null!=t?t:{})).forEach((function(t){var r,n;Object.keys((n=null===(r=e.layouts[t])||void 0===r?void 0:r.content,null!=n?n:{})).forEach((function(r){var n,o,i,a,s,u,c,l=e.layouts[t].content[r];(null===(o=null===(n=l)||void 0===n?void 0:n.setting)||void 0===o?void 0:o.fitContainer)&&(l.setting.heightMode="fit",(c=null!=(i=l.setting.autoProps)?i:{}).height=!1,l.setting.autoProps=c,delete l.setting.fitContainer);(null===(s=null===(a=l)||void 0===a?void 0:a.setting)||void 0===s?void 0:s.autoHeight)&&((c=null!=(u=l.setting.autoProps)?u:{}).height=!0,l.setting.autoProps=c,delete l.setting.autoHeight)}))})),e}(r=t)}}],t}return o(t,e),t}(a);t.AppVersionManager=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(117),s=r(7),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyboardTrigger=function(e){-1===e.key.indexOf("-manual")&&s.getJimuForBuilderModules().appBuilderSync.letBuilderResponseToKeyboard(e)},t.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},t}return o(t,e),t.prototype.render=function(){return this.isMac()?i.createElement(a.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"command+keys":function(){return!1}}}):i.createElement(a.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"ctrl+keys":function(){return!1}}})},t}(i.PureComponent);t.default=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(187),s=function(e){function t(t){var r=e.call(this,t)||this;return r.subs=[],r.keyboardListener=a.default(t.eventName,r.props.element),r.props.onKeyboardTrigger&&r.keyboardListener.setKeyboardTriggerFunction(r.props.onKeyboardTrigger),r}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.bindings,n=t.monitor;Object.keys(r).forEach((function(t){var n=r[t],o=e.keyboardListener.subscribe(t,n);e.subs.push(o)})),n&&this.keyboardListener.setMonitor(n)},t.prototype.componentWillUnmount=function(){this.subs.forEach((function(e){return e.unsubscribe()}))},t.prototype.render=function(){return null},t.defaultProps={eventName:"keydown",bindings:{},monitor:null},t}(i.PureComponent);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return!(!e||!e.tagName)&&("BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&"true"===e.contentEditable||"SPAN"===e.tagName&&"true"===e.contentEditable)}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=function(e){function t(t){var r=e.call(this,t)||this;return r.state={error:null},r}return o(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e})},t.prototype.render=function(){return this.state.error?i.createElement("h1",null,this.state.error.message):this.props.children},t}(i.Component);t.ErrorBoundary=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(25),s=r(14),u=r(11),c=r(20),l=function(e){function t(t){var r=e.call(this,t)||this;return r.state={count:null},r}return o(t,e),t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.componentDidUpdate=function(e){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),e.dataSourceInfo!==this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.render=function(){var e=this.props,t=e.useDataSource,r=e.dataSource,n=e.dataSourceInfo,o=e.children;return t?r&&n?o?"function"==typeof o?o(r,n,r.count):o:null:i.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"}):(console.log("No data source configured."),null)},t.prototype.doQuery=function(){var e=this.props,t=e.dataSource,r=e.query,n=e.defaultQuery,o=e.queryCount,i=e.refresh,a=e.onQueryStart;if(t){var u,l=t;if(l.load&&l.query)if(r?u=r:l.getStatus()===s.DataSourceStatus.Unloaded&&n&&(u=n),u){var d=l.getRealQueryParams(u,"load");if(!c.checkDoQuery({queryType:s.QueryType.ByQueryParam,queryValue:d,currentQuery:l.getCurrentQueryParams(),refresh:i}))return;a&&a(),l.load(u),o&&l.loadCount()}}},t.prototype.createDataSource=function(){var e=this;if(this.props.useDataSource){var t=this.props.dataSourceManager;if(!t.getDataSource(this.props.useDataSource.dataSourceId)){var r=this.props.dataSourceJson;if(r)!r.isOutputFromWidget&&t.createDataSource(r).then((function(e){}),(function(t){t&&e.props.dataSourceJson&&t.dataSourceId===e.props.dataSourceJson.id&&e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}));else{var n=this.props.rootDataSourceJson;if(!n)return void console.error("Can not find data source:",this.props.useDataSource.dataSourceId);!n.isOutputFromWidget&&t.createDataSource(n).then((function(e){}),(function(t){t&&e.props.rootDataSourceJson&&t.dataSourceId===e.props.rootDataSourceJson.id&&e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}))}}}},t}(i.PureComponent);t.DataSourceComponent=a.connect((function(e,t){var r=u.default.getInstance();return window.jimuConfig.isBuilder?{dataSourceInfo:t.useDataSource&&e.appStateInBuilder&&e.appStateInBuilder.dataSourcesInfo[t.useDataSource.dataSourceId],dataSourceJson:t.useDataSource&&e.appStateInBuilder&&e.appStateInBuilder.appConfig.dataSources[t.useDataSource.dataSourceId],rootDataSourceJson:t.useDataSource&&e.appStateInBuilder&&e.appStateInBuilder.appConfig.dataSources[t.useDataSource.rootDataSourceId],dataSource:t.useDataSource&&r.getDataSource(t.useDataSource.dataSourceId),dataSourceManager:r}:{dataSourceInfo:t.useDataSource&&e.dataSourcesInfo[t.useDataSource.dataSourceId],dataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.dataSourceId],rootDataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.rootDataSourceId],dataSource:t.useDataSource&&r.getDataSource(t.useDataSource.dataSourceId),dataSourceManager:r}}))(l),t.default=t.DataSourceComponent},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(11),s=r(120),u=r(25),c=r(191),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDataSourceCreated=function(){var e=t.props.onDataSourceCreated;(void 0===e?function(){}:e)(t.getDataSources())},t.handleDataSourceInfoChange=function(){var e=t.props.onDataSourceInfoChange;(void 0===e?function(){}:e)(t.getDataSourcesInfo())},t.getDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n={},o=a.default.getInstance();return r.forEach((function(e){return n[e.dataSourceId]=o.getDataSource(e.dataSourceId)})),n},t.getDataSourcesInfo=function(){var e=t.props.useDataSources,r={};return(void 0===e?[]:e).forEach((function(e){r[e.dataSourceId]=t.props[e.dataSourceId]})),r},t.hasLoadedDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n=t.getDataSources();return r.every((function(e){return!!n[e.dataSourceId]}))},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.useDataSources,n=void 0===r?c.Immutable([]):r,o=t.queries,a=void 0===o?{}:o,u=t.children,l=n.asMutable().map((function(t,r){return i.createElement(s.default,{key:r,useDataSource:t,query:a[t.dataSourceId],onDataSourceCreated:e.handleDataSourceCreated,onDataSourceInfoChange:e.handleDataSourceInfoChange})}));return u?i.createElement(i.Fragment,null,l,"function"==typeof u?u(this.getDataSources(),this.getDataSourcesInfo()):u):l},t}(i.PureComponent);t.MultipleDataSourceComponentInner=l;t.default=u.connect((function(e,t){var r={};return t.useDataSources.forEach((function(t){return r[t.dataSourceId]=e.dataSourcesInfo[t.dataSourceId]})),r}))(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Count="count",e.Sum="sum",e.Min="min",e.Max="max",e.Avg="avg"}(t.StatisticType||(t.StatisticType={})),t.ESRIOBJECTIDTYPE="esriFieldTypeOID"},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,g=Math.min,m=function(){return f.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var o,i,a,s,u,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var r=o,n=i;return o=i=void 0,l=t,s=e.apply(n,r)}function S(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-l>=a}function w(){var e=m();if(S(e))return I(e);u=setTimeout(w,function(e){var r=t-(e-c);return f?g(r,a-(e-l)):r}(e))}function I(e){return u=void 0,p&&o?b(e):(o=i=void 0,s)}function _(){var e=m(),r=S(e);if(o=arguments,i=this,c=e,r){if(void 0===u)return function(e){return l=e,u=setTimeout(w,t),d?b(e):s}(c);if(f)return u=setTimeout(w,t),b(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=v(t)||0,y(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(v(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},_.flush=function(){return void 0===u?s:I(m())},_}}).call(this,r(19))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.index&&(this.index=e.index),e.widgetId&&(this.widgetId=e.widgetId)}return e.prototype.destroy=function(){},e}();t.AbstractDataAction=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isSupported=function(e,t){return!0},t.prototype.onExecute=function(e,t){return Promise.resolve(!0)},t}(i);t.DummnyDataAction=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(68),a=r(11),s=r(20),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="filter data record action",t}return o(t,e),t.prototype.filterMessageType=function(e,t){return e==i.MessageType.DataRecordsSelectionChange||e==i.MessageType.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"filter-data-record-action"},t.prototype.onExecute=function(e,t){switch(e.type){case i.MessageType.DataRecordsSelectionChange:var r=null;if(t&&t.messageUseDataSource&&t.actionUseDataSource){if(e.records.length>0&&e.records[0].dataSource.id!==t.messageUseDataSource.dataSourceId)return!0;var n=a.default.getInstance().getDataSource(t.messageUseDataSource.dataSourceId),o=a.default.getInstance().getDataSource(t.actionUseDataSource.dataSourceId);if(n&&o){if(t.enabledDataRelationShip){var u=null,c=null;if(t.messageUseDataSource.dataSourceId===t.actionUseDataSource.dataSourceId&&t.messageUseDataSource.rootDataSourceId===t.actionUseDataSource.rootDataSourceId){var l=n.getSchema(),d=l&&l.fields&&Object.keys(l.fields).find((function(e){return"esriFieldTypeOID"===l.fields[e].esriType}));c=u=l&&l.fields&&l.fields[d]}else{var f=t.messageUseDataSource.fields[0],p=t.actionUseDataSource.fields[0];u=n.getSchema().fields[f],c=o.getSchema().fields[p]}var h="";if(u&&c){for(var g=u.name,m=u.type,y=e,v=[],b=0;b<y.records.length;b++){var S=y.records[b].getData()[g];v.indexOf(""+this.formatValue(S,m))>-1||v.push(""+this.formatValue(y.records[b].getData()[g],m))}h=c.name+" IN ",h=v.length>0?h+"("+v.join(", ")+")":""}if(e.records.length>0)(w=t.sqlExprObj?s.getArcGISSQL(t.sqlExprObj,o).sql:null)&&(h=h?h+" AND "+w:w);else h="";r={outFields:["*"],where:h,returnGeometry:!0}}else{var w;h="";if(e.records.length>0)(w=t.sqlExprObj?s.getArcGISSQL(t.sqlExprObj,o).sql:null)&&(h=w);else h="";r={outFields:["*"],where:h,returnGeometry:!0}}o.load(r)}}return!0}},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(i.AbstractMessageAction);t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(94),i=r(93),a=r(95);function s(e){var t=Object(o.a)(e.url)+"/"+e.id,r=n.a({httpMethod:"GET"},e);return Object(i.d)(t,r).then((function(e){return r.rawResponse?e:e.feature}))}function u(e){var t=Object(a.a)(e,["where","objectIds","relationParam","time","distance","units","outFields","geometry","geometryType","spatialRel","returnGeometry","maxAllowableOffset","geometryPrecision","outSR","gdbVersion","returnDistinctValues","returnIdsOnly","returnCountOnly","returnExtentOnly","orderByFields","groupByFieldsForStatistics","outStatistics","returnZ","returnM","multipatchOption","resultOffset","resultRecordCount","quantizationParameters","returnCentroid","resultType","historicMoment","returnTrueCurves","sqlFormat","returnExceededLimitFeatures","f"],{httpMethod:"GET",params:n.a({where:"1=1",outFields:"*"},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/query",t)}function c(e){var t=Object(o.a)(e.url)+"/addFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function l(e){var t=Object(o.a)(e.url)+"/updateFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function d(e){var t=Object(o.a)(e.url)+"/deleteFeatures",r=Object(a.a)(e,["where","objectIds","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function f(e){var t=n.a({httpMethod:"GET"},e);return Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/attachments",t)}function p(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/addAttachment",t)}function h(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,t.params.attachmentId=e.attachmentId,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/updateAttachment",t)}function g(e){var t=n.a({params:{}},e);return t.params.attachmentIds=e.attachmentIds,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/deleteAttachments",t)}function m(e){var t=Object(a.a)(e,["objectIds","relationshipId","definitionExpression","outFields"],{httpMethod:"GET",params:n.a({definitionExpression:"1=1",outFields:"*",relationshipId:0},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/queryRelatedRecords",t)}function y(e){return Object(i.d)(Object(o.a)(e.url),e)}function v(e){return new Promise((function(t){if(!e.fields)return y({url:e.url}).then((function(r){t(e.fields=r.fields)}));t(e.fields)})).then((function(t){var r=function(e){return e.reduce((function(e,t){var r=t.domain;return r&&"codedValue"===r.type&&(e[t.name]=r),e}),{})}(t);if(Object.keys(r).length<1)return e.queryResponse;var o=e.queryResponse.features.map((function(e){var t={};for(var o in e.attributes)if(e.attributes.hasOwnProperty(o)){var i=e.attributes[o],a=r[o];t[o]=null!==i&&a?b(i,a):i}return n.a({},e,{attributes:t})}));return n.a({},e.queryResponse,{features:o})}))}function b(e,t){var r=t.codedValues.find((function(t){return e===t.code}));return r?r.name:e}r.d(t,"getFeature",(function(){return s})),r.d(t,"queryFeatures",(function(){return u})),r.d(t,"addFeatures",(function(){return c})),r.d(t,"updateFeatures",(function(){return l})),r.d(t,"deleteFeatures",(function(){return d})),r.d(t,"getAttachments",(function(){return f})),r.d(t,"addAttachment",(function(){return p})),r.d(t,"updateAttachment",(function(){return h})),r.d(t,"deleteAttachments",(function(){return g})),r.d(t,"queryRelated",(function(){return m})),r.d(t,"getLayer",(function(){return y})),r.d(t,"decodeValues",(function(){return v}))},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(93);function i(e,t){var r=t;return r.rawResponse=!1,Object(o.d)(e,r).then((function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t}))}var a=function(){function e(e){this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.expires=e.expires,this.portal=e.portal||"https://www.arcgis.com/sharing/rest",this.duration=e.duration||7200}return e.prototype.getToken=function(e,t){return this.token&&this.expires&&this.expires.getTime()>Date.now()?Promise.resolve(this.token):this._pendingTokenRequest?this._pendingTokenRequest:(this._pendingTokenRequest=this.refreshToken(t),this._pendingTokenRequest)},e.prototype.refreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"client_credentials",expiration:this.duration}},e);return i(this.portal+"/oauth2/token/",r).then((function(e){return t._pendingTokenRequest=null,t.token=e.token,t.expires=e.expires,e.token}))},e.prototype.refreshSession=function(){var e=this;return this.refreshToken().then((function(){return e}))},e}(),s=r(94),u=r(26);function c(e,t){var r=t;return"undefined"!=typeof window&&window.location&&window.location.host?r.params.referer=window.location.host:r.params.referer=o.b,Object(o.d)(e,r)}var l=/^https?:\/\/(\S+)\.arcgis\.com.+/;function d(e){return l.test(e)}function f(e){if(!l.test(e))return null;var t=e.match(l)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function p(e,t){var r=Object(s.a)(function(e){if(!l.test(e))return e;switch(f(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),n=Object(s.a)(e).replace(/https?:\/\//,"");return new RegExp(n,"i").test(r)}var h=function(){function e(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Object(s.a)(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return e.beginOAuth2=function(t,r){void 0===r&&(r=window);var i,a=n.a({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,state:t.clientId,locale:""},t),s=a.portal,c=a.provider,l=a.clientId,d=a.duration,f=a.redirectUri,p=a.popup,h=a.state,g=a.locale,m=a.params;if(i="arcgis"===c?s+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+d+"&redirect_uri="+encodeURIComponent(f)+"&state="+h+"&locale="+g:s+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+c+"&autoAccountCreateForSocial=true&response_type=token&expiration="+d+"&redirect_uri="+encodeURIComponent(f)+"&state="+h+"&locale="+g,m&&(i=i+"&"+Object(u.b)(m)),p){var y,v=((y={promise:null,resolve:null,reject:null}).promise=new Promise((function(e,t){y.resolve=e,y.reject=t})),y);return r["__ESRI_REST_AUTH_HANDLER_"+l]=function(t,r){if(t){var n=JSON.parse(t);v.reject(new o.a(n.errorMessage,n.error))}else if(r){var i=JSON.parse(r);v.resolve(new e({clientId:l,portal:s,ssl:i.ssl,token:i.token,tokenExpires:new Date(i.expires),username:i.username}))}},r.open(i,"oauth-window","height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes"),v.promise}r.location.href=i},e.completeOAuth2=function(t,r){void 0===r&&(r=window);var i=n.a({portal:"https://www.arcgis.com/sharing/rest"},t),a=i.portal,s=i.clientId;function u(t,n){if(r.opener&&r.opener.parent)return r.opener.parent["__ESRI_REST_AUTH_HANDLER_"+s](t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close();if(r!==r.parent)return r.parent["__ESRI_REST_AUTH_HANDLER_"+s](t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close();if(t)throw new o.a(t.errorMessage,t.error);return new e({clientId:s,portal:a,ssl:n.ssl,token:n.token,tokenExpires:n.expires,username:n.username})}var c=r.location.href.match(/access_token=(.+)&expires_in=(.+)&username=([^&]+)/);if(!c){var l=r.location.href.match(/error=(.+)&error_description=(.+)/);return u({error:l[1],errorMessage:decodeURIComponent(l[2])})}var d=c[1],f=new Date(Date.now()+1e3*parseInt(c[2],10)-6e4),p=decodeURIComponent(c[3]);return u(void 0,{token:d,expires:f,ssl:r.location.href.indexOf("&ssl=true")>-1||r.location.href.indexOf("#ssl=true")>-1,username:p})},e.authorize=function(e,t){var r=n.a({portal:"https://arcgis.com/sharing/rest",duration:20160},e),o=r.portal,i=r.clientId,a=r.duration,s=r.redirectUri;t.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+i+"&duration="+a+"&response_type=code&redirect_uri="+encodeURIComponent(s)}),t.end()},e.exchangeAuthorizationCode=function(t,r){var o=n.a({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},t),a=o.portal,s=o.clientId,u=o.redirectUri,c=o.refreshTokenTTL;return i(a+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:s,redirect_uri:u,code:r}}).then((function(t){return new e({clientId:s,portal:a,ssl:t.ssl,redirectUri:u,refreshToken:t.refreshToken,refreshTokenTTL:c,refreshTokenExpires:new Date(Date.now()+1e3*(c-1)),token:t.token,tokenExpires:t.expires,username:t.username})}))},e.deserialize=function(t){var r=JSON.parse(t);return new e({clientId:r.clientId,refreshToken:r.refreshToken,refreshTokenExpires:new Date(r.refreshTokenExpires),username:r.username,password:r.password,token:r.token,tokenExpires:new Date(r.tokenExpires),portal:r.portal,ssl:r.ssl,tokenDuration:r.tokenDuration,redirectUri:r.redirectUri,refreshTokenTTL:r.refreshTokenTTL})},e.fromCredential=function(t){return new e({portal:t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest",ssl:t.ssl,token:t.token,username:t.userId,tokenExpires:new Date(t.expires)})},Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!0,configurable:!0}),e.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},e.prototype.getUser=function(e){var t=this;if(this._user&&this._user.username===this.username)return Promise.resolve(this._user);var r=this.portal+"/community/users/"+encodeURIComponent(this.username),i=n.a({httpMethod:"GET",authentication:this},e,{rawResponse:!1});return Object(o.d)(r,i).then((function(e){return t._user=e,e}))},e.prototype.getToken=function(e,t){return r=this.portal,n=e,o=d(r),i=d(n),a=f(r),s=f(n),o&&i&&a===s?this.getFreshToken(t):new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t);var r,n,o,i,a,s},e.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},e.prototype.serialize=function(){return JSON.stringify(this)},e.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new o.a("Unable to refresh token."))},e.prototype.getServerRootUrl=function(e){var t=Object(s.a)(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),r=(t[0],t[1]),n=t[2].split("/"),o=n[0],i=n.slice(1);return""+r+o.toLowerCase()+"/"+i.join("/")},e.prototype.getTokenForServer=function(e,t){var r=this,n=this.getServerRootUrl(e),i=this.trustedServers[n];return i&&i.expires&&i.expires.getTime()>Date.now()?Promise.resolve(i.token):this._pendingTokenRequests[n]?this._pendingTokenRequests[n]:(this._pendingTokenRequests[n]=Object(o.d)(n+"/rest/info").then((function(i){if(i.owningSystemUrl){if(p(i.owningSystemUrl,r.portal))return Object(o.d)(i.owningSystemUrl+"/sharing/rest/info",t);throw new o.a(e+" is not federated with "+r.portal+".","NOT_FEDERATED")}if(i.authInfo&&void 0!==r.trustedServers[n])return Promise.resolve({authInfo:i.authInfo});throw new o.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(e){return e.authInfo.tokenServicesUrl})).then((function(t){return r.token&&r.tokenExpires.getTime()>Date.now()?c(t,{params:{token:r.token,serverUrl:e,expiration:r.tokenDuration,client:"referer"}}):c(t,{params:{username:r.username,password:r.password,expiration:r.tokenDuration,client:"referer"}}).then((function(e){return r._token=e.token,r._tokenExpires=new Date(e.expires),e}))})).then((function(e){return r.trustedServers[n]={expires:new Date(e.expires),token:e.token},e.token})),this._pendingTokenRequests[n])},e.prototype.getFreshToken=function(e){var t=this;return this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then((function(e){return t._pendingTokenRequests[t.portal]=null,e.token}))),this._pendingTokenRequests[this.portal])},e.prototype.refreshWithUsernameAndPassword=function(e){var t=this,r=n.a({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return c(this.portal+"/generateToken",r).then((function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t}))},e.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t}))},e.prototype.refreshRefreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t}))},e}();r.d(t,"ApplicationSession",(function(){return a})),r.d(t,"UserSession",(function(){return h})),r.d(t,"fetchToken",(function(){return i})),r.d(t,"generateToken",(function(){return c}))},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}())}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=2;var s=20,u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function s(){r&&(r=!1,e()),n&&c()}function u(){i(s)}function c(){var e=Date.now();if(r){if(e-o<a)return;n=!0}else r=!0,n=!1,setTimeout(u,t);o=e}return c}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;u.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=b(0,0,0,0);function h(e){return parseFloat(e)||0}function g(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+h(e["border-"+r+"-width"])}),0)}function m(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return p;var n=f(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=h(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=h(n.width),u=h(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=g(n,"left","right")+i),Math.round(u+a)!==r&&(u-=g(n,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+i)-t,l=Math.round(u+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return b(o.left,o.top,s,u)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?y(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):m(e):p}function b(e,t,r,n){return{x:e,y:t,width:r,height:n}}var S=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var r,n,o,i,a,s,u,c=(n=(r=t).x,o=r.y,i=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),d(u,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),u);d(this,{target:e,contentRect:c})},I=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new r,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new I(t,r,this);_.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var E=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.a=E}).call(this,r(19))},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(19))},function(e,t,r){"use strict";var n=r(132);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case y:case m:case i:return t}}}function w(e){return S(e)===f}t.typeOf=S,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b)},t.isAsyncMode=function(e){return w(e)||S(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===y},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var u=i[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();t.StyleSheet=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,n){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===T||2===T&&o(u,1)?"-webkit-"+u+u:u}if(0===T||2===T&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),D(2!==t?n:n.replace(_,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,c,l){for(var d,f=0,p=t;f<M;++f)switch(d=j[f].call(u,e,p,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?T=1:(T=2,D=e):T=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var u=a(-1,r,s,s,P,C,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var d=function e(r,s,u,d,f){for(var p,h,g,b,w,I=0,_=0,O=0,E=0,j=0,D=0,R=g=p=0,F=0,L=0,U=0,N=0,W=u.length,B=W-1,V="",q="",G="",z="";F<W;){if(h=u.charCodeAt(F),F===B&&0!==_+E+O+I&&(0!==_&&(h=47===_?10:47),E=O=I=0,W++,B++),0===_+E+O+I){if(F===B&&(0<L&&(V=V.replace(l,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(F)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),g=1,N=++F;F<W;){switch(h=u.charCodeAt(F)){case 123:g++;break;case 125:g--;break;case 47:switch(h=u.charCodeAt(F+1)){case 42:case 47:e:{for(R=F+1;R<B;++R)switch(u.charCodeAt(R)){case 47:if(42===h&&42===u.charCodeAt(R-1)&&F+2!==R){F=R+1;break e}break;case 10:if(47===h){F=R+1;break e}}F=R}}break;case 91:h++;case 40:h++;case 34:case 39:for(;F++<B&&u.charCodeAt(F)!==h;);}if(0===g)break;F++}switch(g=u.substring(N,F),0===p&&(p=(V=V.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(V=V.replace(l,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=x}if(N=(g=e(s,L,g,h,f+1)).length,0<M&&(w=a(3,g,L=t(x,V,U),s,P,C,N,h,f,d),V=L.join(""),void 0!==w&&0===(N=(g=w.trim()).length)&&(h=0,g="")),0<N)switch(h){case 115:V=V.replace(S,i);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(m,"$1 $2"))+"{"+g+"}",g=1===T||2===T&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===d&&(q+=g,g="")}else g="";break;default:g=e(s,t(s,V,U),g,d,f+1)}G+=g,g=U=L=R=p=0,V="",h=u.charCodeAt(++F);break;case 125:case 59:if(1<(N=(V=(0<L?V.replace(l,""):V).trim()).length))switch(0===R&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(N=(V=V.replace(" ",":")).length),0<M&&void 0!==(w=a(1,V,s,r,P,C,q.length,d,f,d))&&0===(N=(V=w.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){z+=V+u.charAt(F);break}default:58!==V.charCodeAt(N-1)&&(q+=n(V,p,h,V.charCodeAt(2)))}U=L=R=p=0,V="",h=u.charCodeAt(++F)}}switch(h){case 13:case 10:47===_?_=0:0===1+p&&107!==d&&0<V.length&&(L=1,V+="\0"),0<M*k&&a(0,V,s,r,P,C,q.length,d,f,d),C=1,P++;break;case 59:case 125:if(0===_+E+O+I){C++;break}default:switch(C++,b=u.charAt(F),h){case 9:case 32:if(0===E+I+_)switch(j){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+_+I&&(L=U=1,b="\f"+b);break;case 108:if(0===E+_+I+A&&0<R)switch(F-R){case 2:112===j&&58===u.charCodeAt(F-3)&&(A=j);case 8:111===D&&(A=D)}break;case 58:0===E+_+I&&(R=F);break;case 44:0===_+O+E+I&&(L=1,b+="\r");break;case 34:case 39:0===_&&(E=E===h?0:0===E?h:E);break;case 91:0===E+_+O&&I++;break;case 93:0===E+_+O&&I--;break;case 41:0===E+_+I&&O--;break;case 40:if(0===E+_+I){if(0===p)switch(2*j+3*D){case 533:break;default:p=1}O++}break;case 64:0===_+O+E+I+R+g&&(g=1);break;case 42:case 47:if(!(0<E+I+O))switch(_){case 0:switch(2*h+3*u.charCodeAt(F+1)){case 235:_=47;break;case 220:N=F,_=42}break;case 42:47===h&&42===j&&N+2!==F&&(33===u.charCodeAt(N+2)&&(q+=u.substring(N,F+1)),b="",_=0)}}0===_&&(V+=b)}D=j,j=h,F++}if(0<(N=q.length)){if(L=s,0<M&&(void 0!==(w=a(2,q,L,r,P,C,N,d,f,d))&&0===(q=w).length))return z+q+G;if(q=L.join(",")+"{"+q+"}",0!=T*A){switch(2!==T||o(q,2)||(A=0),A){case 111:q=q.replace(v,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}A=0}}return z+q+G}(x,s,r,0,0);return 0<M&&(void 0!==(u=a(-2,d,s,s,P,C,d.length,0,0,0))&&(d=u)),"",A=0,C=P=1,d}var c=/^\0+/g,l=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,I=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,P=1,A=0,T=1,x=[],j=[],M=0,D=null,k=0;return u.use=function e(t){switch(t){case void 0:case null:M=j.length=0;break;default:if("function"==typeof t)j[M++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else k=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document;t.getRegisteredStyles=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n};t.insertStyles=function(e,t,r){var o=e.key+"-"+t.name;if((!1===r||!1===n&&void 0!==e.compat)&&void 0===e.registered[o]&&(e.registered[o]=t.styles),void 0===e.inserted[t.name]){var i="",a=t;do{var s=e.insert("."+o,a,e.sheet,!0);n||void 0===s||(i+=s),a=a.next}while(void 0!==a);if(!n&&0!==i.length)return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,r=e.length,n=r^r,o=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),((n^=n>>>15)>>>0).toString(36)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();t.StyleSheet=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(149),o=r(1),i=r(151),a=r(15),s=r(152),u=r(49),c=i.default,l=function(e){return"theme"!==e&&"innerRef"!==e},d=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?c:l},f="undefined"!=typeof document;t.default=function e(t,r){var i,c,l;void 0!==r&&(i=r.label,l=r.target,c=t.__emotion_forwardProp&&r.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&r.shouldForwardProp(e)}:r.shouldForwardProp);var p=t.__emotion_real===t,h=p&&t.__emotion_base||t;"function"!=typeof c&&p&&(c=t.__emotion_forwardProp);var g=c||d(h),m=!g("as");return function(){var y=arguments,v=p&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&v.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var b=y.length,S=1;S<b;S++)v.push(y[S],y[0][S])}var w=a.withEmotionCache((function(e,t,r){return o.createElement(a.ThemeContext.Consumer,null,(function(n){var i=m&&e.as||h,a="",p=[],y=e;if(null==e.theme){for(var b in y={},e)y[b]=e[b];y.theme=n}"string"==typeof e.className&&(a+=s.getRegisteredStyles(t.registered,p,e.className));var S=u.serializeStyles(v.concat(p),t.registered,y),w=s.insertStyles(t,S,"string"==typeof i);a+=t.key+"-"+S.name,void 0!==l&&(a+=" "+l);var I=m&&void 0===c?d(i):g,_={};for(var O in e)m&&"as"===O||I(O)&&(_[O]=e[O]);_.className=a,_.ref=r||e.innerRef;var E=o.createElement(i,_);if(!f&&void 0!==w){for(var C,P=S.name,A=S.next;void 0!==A;)P+=" "+A.name,A=A.next;return o.createElement(o.Fragment,null,o.createElement("style",((C={})["data-emotion-"+t.key]=P,C.dangerouslySetInnerHTML={__html:w},C.nonce=t.sheet.nonce,C)),E)}return E}))}));return w.displayName=void 0!==i?i:"Styled("+("string"==typeof h?h:h.displayName||h.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=h,w.__emotion_styles=v,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(t,o){return e(t,void 0!==o?n.default({},r||{},o):r).apply(void 0,v)},w}}},function(e,t,r){var n=r(150);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=n.default((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document;t.getRegisteredStyles=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n};t.insertStyles=function(e,t,r){var o=e.key+"-"+t.name;if((!1===r||!1===n&&void 0!==e.compat)&&void 0===e.registered[o]&&(e.registered[o]=t.styles),void 0===e.inserted[t.name]){var i="",a=t;do{var s=e.insert("."+o,a,e.sheet,!0);n||void 0===s||(i+=s),a=a.next}while(void 0!==a);if(!n&&0!==i.length)return i}}},function(e,t,r){var n=r(81),o=r(154);r(82);function i(e){return null==e}function a(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return o(e,(function(e,t,o,u,c){var l=r[o],d=!1;if(!0===l?d=l:"function"==typeof l?d=l(u):l instanceof RegExp&&(d=l.test(u)),!0!==d&&(d=!1),u=s(o,u)){var f,p={position:t,sourcePosition:e,source:c,isWhite:d};return d?i(f=n(o,u,p))?o+":"+u:f:i(f=a(o,u,p))?void 0:f}}))},e.exports=a},function(e,t,r){var n=r(82);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,o=!1,i=0,a=0,s="";function u(){if(!o){var r=n.trim(e.slice(i,a)),u=r.indexOf(":");if(-1!==u){var c=n.trim(r.slice(0,u)),l=n.trim(r.slice(u+1));if(c){var d=t(i,s.length,c,l,r);d&&(s+=d+"; ")}}}i=a+1}for(;a<r;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||u():"\n"===c&&u()}return n.trim(s)}},function(e,t,r){var n=r(50).FilterCSS,o=r(80),i=r(83),a=i.parseTag,s=i.parseAttr,u=r(51);function c(e){return null==e}function l(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,l=t.onTagAttr,d=t.onIgnoreTagAttr,f=t.safeAttrValue,p=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;if(t.stripIgnoreTagBody){g=o.StripTagBody(t.stripIgnoreTagBody,i);i=g.onIgnoreTag}var m=a(e,(function(e,t,o,a,g){var m,y={sourcePosition:e,position:t,isClosing:g,isWhite:r.hasOwnProperty(o)};if(!c(m=n(o,a,y)))return m;if(y.isWhite){if(y.isClosing)return"</"+o+">";var v=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=u.trim(e.slice(0,-1))),{html:e,closing:r}}(a),b=r[o],S=s(v.html,(function(e,t){var r,n=-1!==u.indexOf(b,e);return c(r=l(o,e,t,n))?n?(t=f(o,e,t,h))?e+'="'+t+'"':e:c(r=d(o,e,t,n))?void 0:r:r}));a="<"+o;return S&&(a+=" "+S),v.closing&&(a+=" /"),a+=">"}return c(m=i(o,a,y))?p(a):m}),p);return g&&(m=g.remove(m)),m},e.exports=l},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var o=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return n[t]?"#"+n[t]:e};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(158)),o=a(r(88)),i=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return function(t,r){void 0===r&&(r="16px");var a=t,s=r;if("string"==typeof t){if(!(0,n.default)(t,"px"))throw new i.default(69,e,t);a=(0,o.default)(t)}if("string"==typeof r){if(!(0,n.default)(r,"px"))throw new i.default(70,e,r);s=(0,o.default)(r)}if("string"==typeof a)throw new i.default(71,t,e);if("string"==typeof s)throw new i.default(72,r,e);return""+a/s+e}};t.default=s,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return e.substr(-t.length)===t},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){void 0===t&&(t="#000");void 0===r&&(r="#fff");return(0,n.default)(e)>.179?t:r};var n=o(r(160));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("transparent"===e)return 0;var t=(0,n.default)(e),r=Object.keys(t).map((function(e){var r=t[e]/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)})),o=r[0],i=r[1],a=r[2];return parseFloat((.2126*o+.7152*i+.0722*a).toFixed(3))};var n=o(r(28));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(54)),o=s(r(89)),i=s(r(90)),a=s(r(91));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if("transparent"===t)return t;var r=(0,i.default)(t);return(0,a.default)(u({},r,{lightness:(0,o.default)(0,1,r.lightness+parseFloat(e))}))}var l=(0,n.default)(c);t.default=l,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t,r=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(r,n,o),a=Math.min(r,n,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case r:t=(n-o)/u+(n<o?6:0);break;case n:t=(o-r)/u+2;break;default:t=(r-n)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)(e,t,r);if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)(e.hue,e.saturation,e.lightness);throw new o.default(1)};var n=i(r(92)),o=i(r(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,n.default)(e,t,r):"rgba("+(0,o.default)(e,t,r)+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,n.default)(e.hue,e.saturation,e.lightness):"rgba("+(0,o.default)(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new i.default(2)};var n=a(r(92)),o=a(r(53)),i=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(54)),o=s(r(89)),i=s(r(90)),a=s(r(91));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if("transparent"===t)return t;var r=(0,i.default)(t);return(0,a.default)(u({},r,{lightness:(0,o.default)(0,1,r.lightness-parseFloat(e))}))}var l=(0,n.default)(c);t.default=l,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){void 0===e&&(e="100%");return{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(54)),o=a(r(52)),i=a(r(28));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t,r){if("transparent"===t)return r;if("transparent"===r)return t;var n=(0,i.default)(t),a=s({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),u=(0,i.default)(r),c=s({},u,{alpha:"number"==typeof u.alpha?u.alpha:1}),l=a.alpha-c.alpha,d=2*parseFloat(e)-1,f=((d*l==-1?d:d+l)/(1+d*l)+1)/2,p=1-f,h={red:Math.floor(a.red*f+c.red*p),green:Math.floor(a.green*f+c.green*p),blue:Math.floor(a.blue*f+c.blue*p),alpha:a.alpha+(c.alpha-a.alpha)*(parseFloat(e)/1)};return(0,o.default)(h)}var c=(0,n.default)(u);t.default=c,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=c(e),i=r.match(s);if(i&&!i.every((function(e){return e===i[0]})))throw new o.default(41);return""+function(e,t){var r,i=function(e){var t={};return t.symbols=e?a({},n.default.symbols,e.symbols):a({},n.default.symbols),t}(t),s=[i.symbols["("].prefix],c=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(i.symbols).map((function(e){return i.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var d=!1;do{var f=(r=l.exec(e))||[")",void 0],p=f[0],h=f[1],g=i.symbols[p],m=g&&!g.prefix&&!g.func,y=!g||!g.postfix&&!g.infix;if(h||(d?y:m))throw new o.default(37,r?r.index:e.length,e);if(d){var v=g.postfix||g.infix;do{var b=s[s.length-1];if((v.precedence-b.precedence||b.rightToLeft)>0)break}while(u(s,c));d="postfix"===v.notation,")"!==v.symbol&&(s.push(v),d&&u(s,c))}else if(g){if(s.push(g.prefix||g.func),g.func&&(!(r=l.exec(e))||"("!==r[0]))throw new o.default(38,r?r.index:e.length,e)}else c.push(+p),d=!0}while(r&&s.length);if(s.length)throw new o.default(39,r?r.index:e.length,e);if(r)throw new o.default(40,r?r.index:e.length,e);return c.pop()}(c(r.replace(s,"")),t)+(i?c(i[0]):"")};var n=i(r(169)),o=i(r(16));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function u(e,t){var r,n=e.pop();return t.push(n.f.apply(n,(r=[]).concat.apply(r,t.splice(-n.argCount)))),n.precedence}function c(e){return e.split("").reverse().join("")}e.exports=t.default},function(e,t,r){"use strict";function n(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}t.__esModule=!0,t.default=void 0;var o={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:n,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:n,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if(console.warn("getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return."),"string"!=typeof e)return[e,""];var t=e.match(n);return t?[parseFloat(e),t[2]]:[e,void 0]};var n=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r,i,a=(0,n.default)(e);if(!t&&0!==t)throw new o.default(62);if("Top"===a||"Bottom"===a)return(r={})["border"+a+"RightRadius"]=t,r["border"+a+"LeftRadius"]=t,r;if("Left"===a||"Right"===a)return(i={})["borderTop"+a+"Radius"]=t,i["borderBottom"+a+"Radius"]=t,i;throw new o.default(63)};var n=i(r(172)),o=i(r(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.default=n,e.exports=t.default},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(174)),i=n(r(79)),a=function(){function e(e,t){var r,n=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","src","width"],audio:["autoplay","controls","loop","muted","preload","src"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,o){if("a"===e&&"href"===t){var a=n._trim(r.substring(0,r.indexOf(":")));return"/"===r||"#"===r||"#"===r[0]||n.allowedProtocols.indexOf(a.toLowerCase())>-1?i.default.escapeAttrValue(r):""}return i.default.safeAttrValue(e,t,r,o)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new i.default.FilterXSS(r)}return e.prototype.sanitize=function(e){switch(typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e);default:return null}},e.prototype.validate=function(e){var t=this.sanitize(e);return{isValid:e===t,sanitized:t}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e){var t=this;try{var r=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var o=t.validate(n);return o.isValid?e.concat([n]):(r=!0,e.concat([o.sanitized]))}),[]);else{if(!o.default(e))return null;n=Object.keys(e).reduce((function(n,o){var i=e[o],a=t.validate(i);return a.isValid?n[o]=i:(r=!0,n[o]=a.sanitized),n}),{})}return r?n:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}();t.Sanitizer=a},function(e,t){var r="[object Object]";var n,o,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString,d=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||l.call(e)!=r||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=d(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(5),i=r(6),a=r(29),s=r(22),u=r(13),c=r(39),l=r(14);function d(e,t){var r=e.appConfig,n=t.appConfig,o=Object.keys(r.widgets).filter((function(e){return!n.widgets[e]}));e=e.set("widgetsRuntimeInfo",e.widgetsRuntimeInfo.without.apply(e.widgetsRuntimeInfo,o)).set("widgetsState",e.widgetsState.without.apply(e.widgetsState,o)).set("widgetsMutableStateVersion",e.widgetsMutableStateVersion.without.apply(e.widgetsMutableStateVersion,o));var i=Object.keys(r.dataSources).filter((function(e){return!n.dataSources[e]}));e=e.set("dataSourcesInfo",e.dataSourcesInfo.without.apply(e.dataSourcesInfo,i));var a=Object.keys(r.views).filter((function(e){return!n.views[e]}));if(a.indexOf(e.appRuntimeInfo.currentViewId)>-1&&(e=e.setIn(["appRuntimeInfo","currentViewId"],void 0)),(e=e.setIn(["appRuntimeInfo","currentViewIds"],e.appRuntimeInfo.currentViewIds&&e.appRuntimeInfo.currentViewIds.filter((function(e){return a.indexOf(e)<0}))||[])).appRuntimeInfo.currentPageId&&!n.pages[e.appRuntimeInfo.currentPageId]){var s=Object.keys(n.pages).find((function(e){return n.pages[e].isDefault}));e=e.setIn(["appRuntimeInfo","currentPageId"],s)}return e=e.set("appConfig",n)}function f(e,t){var r;return r=e.appConfig&&e.appConfig.pages?e.appConfig.pages[t]:{},e.setIn(["appRuntimeInfo","activeLayout"],r.layout||null).setIn(["appRuntimeInfo","editingSectionId"],null).setIn(["appRuntimeInfo","selection"],null)}function p(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Closed)}function h(e,t){var r=e.appRuntimeInfo.selection||{},n=t||{};return r.layoutId===n.layoutId&&r.layoutItemId===n.layoutItemId&&r.autoScroll===n.autoScroll?e:(Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),e=e.setIn(["appRuntimeInfo","selection"],t))}t.default=function(e,t){var r,g;if(!e)return g={appConfig:null,portalUrl:null,portalSelf:null,widgetsRuntimeInfo:n({}),widgetsPreloadProps:n({}),dataSourcesPreloadData:n({}),appContext:null,appRuntimeInfo:n({}),isNetworkOffLine:null,browserSizeMode:null,appPath:window.location.pathname,appId:null,appInfo:n({}),appI18nMessages:n({}),queryObject:null,dataSourcesInfo:n({}),jimuMapViewsInfo:n({}),widgetsState:n({}),widgetsMutableStateVersion:n({}),dynamicModules:n({}),theme:n({}),token:null,user:null,overlays:n([])},n(g);if(t.type.indexOf("@@")>-1)return e;switch(t.type){case o.ActionKeys.InitStoreExtensionState:return function(e,t){var r=a.default.getInstance().getExtensionById(t.extensionId),n=r.getStoreKey().split(".");if(e.getIn(n))return e;return e=e.setIn(n,r.getInitLocalState())}(e,t);case o.ActionKeys.AppConfigLoaded:return function(e,t){var r=t.appConfig.attributes.portalUrl,n=t.appConfig.attributes.clientId,o=e.set("appConfig",t.appConfig);r&&o.portalUrl!==r&&(o=o.set("portalUrl",r));n&&o.clientId!==n&&(o=o.set("clientId",n));if(!o.appRuntimeInfo.currentPageId){var i=Object.keys(t.appConfig.pages).find((function(e){return t.appConfig.pages[e].isDefault}));o=o.setIn(["appRuntimeInfo","currentPageId"],i)}return o}(e,t);case o.ActionKeys.SetPortalUrl:return e.set("portalUrl",t.portalUrl);case o.ActionKeys.SetPortalInfo:return e=e.set("portalUrl",t.portalUrl),t.clientId&&(e=e.set("clientId",t.clientId)),e;case o.ActionKeys.SetPortalSelf:return e.set("portalSelf",t.portalSelf);case o.ActionKeys.AppConfigChanged:return d(e,t);case o.ActionKeys.AppPathChanged:return function(e,t){e=e.set("appPath",t.path);var r=u.parseAppPath(location.pathname).pageId;r||(r=e.appConfig&&Object.keys(e.appConfig.pages).find((function(t){return e.appConfig.pages[t].isDefault})));r&&(e=f(e=e.setIn(["appRuntimeInfo","currentPageId"],r),r));return e}(e,t);case o.ActionKeys.AppInfoChanged:return e.set("appInfo",e.appInfo.merge(t.appInfo));case o.ActionKeys.AppContextInit:return e.set("appContext",t.appContext);case o.ActionKeys.AppIdChanged:return e.set("appId",t.appId);case o.ActionKeys.I18nMessagesLoaded:return function(e,t){0;return e.set("appI18nMessages",e.appI18nMessages.merge(t.messages))}(e,t);case o.ActionKeys.QueryObjectChanged:return function(e,t){e=e.set("queryObject",n(t.query)),t.query.dlg&&(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.query.dlg));t.query.views&&(e=e.setIn(["appRuntimeInfo","currentViewIds"],t.query.views.split(",")));t.query.page&&(e=f(e=e.setIn(["appRuntimeInfo","currentPageId"],t.query.page),t.query.page));return e}(e,t);case o.ActionKeys.SetAppInBuilder:return e.set("appContext",e.appContext.merge({isInBuilder:!0}));case o.ActionKeys.WidgetClassLoaded:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"isClassLoaded"],!0).setIn(["widgetsRuntimeInfo",t,"isReadyInjectDataSource"],e.appConfig.widgets[t].manifest.properties.autoBindDataSource)}(e,t.widgetId);case o.ActionKeys.WidgetConfigLoaded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config);case o.ActionKeys.WidgetConfigUpgraded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config).setIn(["appConfig","widgets",t.widgetId,"version"],e.appConfig.widgets[t.widgetId].manifest.version);case o.ActionKeys.OpenWidget:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Opened)}(e,t.widgetId);case o.ActionKeys.CloseWidget:return p(e,t.widgetId);case o.ActionKeys.CloseWidgets:return function(e,t){return t.forEach((function(t){e=p(e,t)})),e}(e,t.widgetIds);case o.ActionKeys.SetWidgetIsInlineEditingState:return!1===t.isInlineEditing?e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!1):(Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!0));case o.ActionKeys.SetWidgetReadyInjectDataSource:return e.setIn(["widgetsRuntimeInfo",t.widgetId,"isReadyInjectDataSource"],!0);case o.ActionKeys.SetWidgetPreloadProps:return e.setIn(["widgetsPreloadProps",t.widgetId],t.props);case o.ActionKeys.SetDataSourcePreloadData:return e.setIn(["dataSourcesPreloadData",t.dataSourceId],t.data);case o.ActionKeys.LayoutClassLoaded:return e.setIn(["isLayoutClassLoaded",t.layoutName],!0);case o.ActionKeys.DataSourceInstanceStatusChanged:return t.status!==l.DataSourceStatus.NotCreated||e.appConfig.dataSources[t.dataSourceId]?e.setIn(["dataSourcesInfo",t.dataSourceId,"instanceStatus"],t.status):e.set("dataSourcesInfo",e.dataSourcesInfo.without(t.dataSourceId));case o.ActionKeys.DataSourceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"status"],t.status);case o.ActionKeys.DataSourceCountStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"countStatus"],t.countStatus);case o.ActionKeys.DataSourceSaveStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"saveStatus"],t.saveStatus);case o.ActionKeys.DataSourceVersionAdded:var m=e.dataSourcesInfo[t.dataSourceId]&&e.dataSourcesInfo[t.dataSourceId].version?e.dataSourcesInfo[t.dataSourceId].version:0;return e.setIn(["dataSourcesInfo",t.dataSourceId,"version"],m+1);case o.ActionKeys.JimuMapViewAdded:case o.ActionKeys.JimuMapViewUpdated:return e.setIn(["jimuMapViewsInfo",t.jimuMapViewId],t.jimuMapViewInfo);case o.ActionKeys.JimuMapViewRemoved:var y;return y=e.jimuMapViewsInfo.without(t.jimuMapViewId),e.setIn(["jimuMapViewsInfo"],y);case o.ActionKeys.DataSourceSelectedIndexesChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],t.selectedIndexes).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],null);case o.ActionKeys.DataSourceSelectedIdsChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],t.selectedIds).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],null);case o.ActionKeys.WidgetStatePropChange:return function(e,t){var r=t.propKey.split(".");return e.setIn(["widgetsState",t.widgetId].concat(r),t.value)}(e,t);case o.ActionKeys.WidgetMutableStatePropChange:return function(e,t){var r=t.propKey.split("."),n=e.widgetsMutableStateVersion[t.widgetId]||0;return c.default.getInstance().updateStateValue([t.widgetId].concat(r),t.value),e.setIn(["widgetsMutableStateVersion",t.widgetId],++n)}(e,t);case o.ActionKeys.SessionStart:return e.set("token",t.token);case o.ActionKeys.UserSignIn:return e.set("user",n(t.user));case o.ActionKeys.UserSignOut:return e.merge({token:null,user:null});case o.ActionKeys.BrowserSizeModeChanged:return e.set("browserSizeMode",t.browserSizeMode);case o.ActionKeys.NetworkStatusChanged:return e.set("isNetworkOffLine",t.isOffLine);case o.ActionKeys.DynamicModuleLoaded:return e.setIn(["dynamicModules",t.moduleId],!0);case o.ActionKeys.CurrentViewChanged:return(null===(r=e.appRuntimeInfo)||void 0===r?void 0:r.currentViewId)!==t.viewId?e.setIn(["appRuntimeInfo","currentViewId"],t.viewId):e;case o.ActionKeys.CurrentPageChanged:return f(e=e.setIn(["appRuntimeInfo","currentPageId"],t.pageId),t.pageId);case o.ActionKeys.SelectionChanged:return h(e,t.selection);case o.ActionKeys.AppModeChanged:return e.setIn(["appRuntimeInfo","appMode"],t.mode);case o.ActionKeys.AppRuntimeInfoInit:return e.set("appRuntimeInfo",t.info);case o.ActionKeys.UpdateStoreState:return t.state;case o.ActionKeys.ThemeVariablesChanged:return e.set("theme",n(t.theme));case o.ActionKeys.ActivePagePartChanged:return e.setIn(["appRuntimeInfo","activePagePart"],t.part);case o.ActionKeys.SetWaitingServiceWorkerFlag:return e.setIn(["appRuntimeInfo","hasWaitingServiceWorker"],t.flag);case o.ActionKeys.OpenOverlay:return e.set("overlays",e.overlays.concat([t.id]));case o.ActionKeys.CloseOverlay:return e.set("overlays",e.overlays.filter((function(e){return e!==t.id})));case o.ActionKeys.ActiveOverlay:var v=e.overlays;return v=v.filter((function(e){return e!==t.id})),e.set("overlays",v.concat([t.id]));case o.ActionKeys.SetIsBusy:return e.setIn(["appRuntimeInfo","isBusy"],t.isBusy);case o.ActionKeys.ZoomScaleChanged:return e.setIn(["appRuntimeInfo","zoomScale"],t.zoomScale);case o.ActionKeys.LayoutChanged:return h(d(e,{appConfig:t.appConfig,type:o.ActionKeys.AppConfigChanged}),t.selection);default:return function(e,t){for(var r=a.default.getInstance().getExtensions(s.ExtensionPoints.ReduxStore),n=0;n<r.length;n++){var o=r[n];if(o.getActions().indexOf(t.type)>-1){var i=o.getStoreKey().split("."),u=e.getIn(i);return e.setIn(i,o.getReducer()(u,t,e))}}return e}(e,t)}}},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}r.r(t);var o=n();o.withExtraArgument=n,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(17);function i(){if(window.jimuConfig.packagesInAppFolder)return"./resources";var e=null,t=(e=window.jimuConfig.isBuilder?n.getAppStore().getState().appStateInBuilder:n.getAppStore().getState())&&e.appId;return window.isDevEdition?window.location.origin+"/apps/"+t+"/resources":o.getHostUrlByOrgUrl(n.getAppStore().getState().portalUrl)+"/sharing/rest/content/items/"+t+"/resources"}function a(e,t){var r,n=[],o=[];function i(e){var t=e.obj,r=e.key,n={obj:t,key:r};return"number"==typeof e.i?(n.i=e.i,n.value=t[r][e.i]):n.value=t[r],n}function a(e){for(var t in e)"object"==typeof e[t]?Array.isArray(e[t])?u(e,t):a(e[t]):"string"==typeof e[t]&&s(e,t)}function s(e,a,s){"number"==typeof s?t.matchFunction(e[a][s])&&((r=t.matchHandle(i({obj:e,key:a,i:s})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r)):t.matchFunction(e[a])&&((r=t.matchHandle(i({obj:e,key:a})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r))}function u(e,t){for(var r=0;r<e[t].length;r++)"string"==typeof e[t][r]?s(e,t,r):"object"==typeof e[t][r]&&a(e[t][r])}return a(e),o.length>0?Promise.all(o).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(null)})):Promise.resolve(e)}t.getRealAppResourceUrl=i,t.appendPortalInfoToResource=function(e,t){var r=i(),n=new RegExp("^"+r),o=new RegExp("^\\$\\{appResourceUrl\\}+(.)");return a(e,{matchFunction:function(e){return o.test(e)||n.test(e)},matchHandle:function(e){var n=e.obj,o=e.key,i=null;i=(i=t?e.value+"?token="+t:e.value).replace("${appResourceUrl}",r),n=e.obj,o=e.key,"number"==typeof e.i?n[o][e.i]=i:n[o]=i}})},t.cleanPortalInfoFromResource=function(e){var t=i(),r=new RegExp("^"+t),n=new RegExp("^(.)+?token=");return a(e,{matchFunction:function(e){return n.test(e)||r.test(e)},matchHandle:function(e){var r=e.obj,n=e.key,o=e.value.split("?")[0];o=o.replace(t,"${appResourceUrl}"),"number"==typeof e.i?r[n][e.i]=o:r[n]=o}}),e},t.replaceAppConfigNodeValue=a},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(78),a=r(60);t.withTheme=a.withTheme;var s=r(15),u=r(40),c=r(99),l=r(4),d=r(35),f=r(38),p=r(28),h=r(48),g=r(100),m=r(10),y=p,v=/^var\(--(.+?)\)$/;function b(e,t,r){if(!e||!t||!r)return null;var n,o=d(r,e),i=d(r,["palette",e]),a=o&&i&&Object.keys(i).find((function(e){if(f(y(i[e]),y(o)))return e}));return a&&(n=parseInt(a)+100*t),n}function S(e,t){if("string"!=typeof e)return null;if(!t){var r=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme;t=u.default.getInstance().getThemeVariables(r)}return d(t,e)}function w(){if(window.jimuConfig.isInBuilder)return window.parent._appState}t.withStyles=function(e,t){var r=t||e.displayName||e.name||"";return i.default(e)((function(e){return u.default.getInstance().getComponentStyles(r,e)}))},t.getThemeNameFromUri=function(e){if(!e)return null;var t=e.split("/"),r=null;return t.length>1?r=t.pop():1===t.length&&(r=t[0]),r},t.lighten=function(e,t,r){if(!e||!t||!r)return null;var n=d(r,["palette",e]),o=b(e,-t,r);return o<100?r.white:n[o]},t.darken=function(e,t,r){if(!e||!t||!r)return null;var n=d(r,["palette",e]),o=b(e,t,r);return o>900?r.black:n[o]},t.valueOf=S,t.pathOf=function(e,t,r){if("string"!=typeof e)return e;if(/^var\(--(.+?)\)$/.test(e))return e;if(!r){var n=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme;r=u.default.getInstance().getThemeVariables(n)}var o=r.colors.palette;if(!o)return e;var i=e,a=[100,200,300,400,500,600,700,800,900],s=!1;return Object.keys(c.ThemeThemeColorKeys).some((function(r){r=r.toLocaleLowerCase();var n=o[r];return a.some((function(o){return n[o]===e&&(s=!0,i=t?"var(--"+r+"-"+o+")":"colors.palette."+r+"."+o,!0)})),s})),i},t.varsOf=function(e,t){return t||(t=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme),u.default.getInstance().getRawThemeVariables(t).getIn(["components",e])},t.isCSSVar=function(e){return v.test(e)},t.color=function(e,t){if("string"!=typeof e)return null;var r,n="colors";return(r=this.isCSSVar(e)?e.match(v)[1].split("-"):e.split(".")).length>1&&parseInt(r[1])%100==0&&(n="colors.palette"),S(n+"."+r.join("."),t)||e},t.withBuilderStyle=function(e,t){if(!window.jimuConfig.isInBuilder)return e;var r=function(){if(window.jimuConfig.isInBuilder)return window.parent._themeManager}(),u=w(),c=u.appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),l=t||e.displayName||e.name||"",d=i.default(e)((function(e){return r.getComponentStyles(l,e)}));return function(e){return o.createElement(a.ThemeProvider,{theme:r.getThemeVariables(u.appConfig.theme)},o.createElement(s.CacheProvider,{value:c},o.createElement(d,n({},e))))}},t.withBuilderTheme=function(e,t){if(!window.jimuConfig.isInBuilder)return e;var r=w(),i=r.appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),u=a.withTheme(e);return function(e){return o.createElement(a.ThemeProvider,{theme:r.theme},o.createElement(s.CacheProvider,{value:i},o.createElement(u,n({},e))))}},t.getBuilderThemeVariables=function(){return window.jimuConfig.isInBuilder?w().theme:null},t.getMappedShareThemeVariables=function(e){var t,r,n,o,i=null===(n=null===(r=null===(t=l.getAppStore().getState())||void 0===t?void 0:t.portalSelf)||void 0===r?void 0:r.portalProperties)||void 0===n?void 0:n.sharedTheme;if(i){var a=i.header,s=i.body,u=i.button,c=i.logo,d=i.fonts;o=m({sharedThemeVariables:{header:{bg:a.background,color:a.text},body:{bg:s.background,color:s.text,link:s.link},button:{bg:u.background,color:u.text},logo:c,fonts:d}}),e&&(o=m({colors:{primary:u.background},header:{bg:a.background,color:a.text},body:{bg:s.background,color:s.text},components:{button:{variants:{primary:{default:{color:u.text}}}}},link:{color:s.link,hover:{color:s.link}}}))}return o}},function(e,t,r){
/*!
 * Converts CSS stylesheets between left-to-right and right-to-left.
 * https://github.com/cssjanus/cssjanus
 *
 * Copyright 2008 Google Inc.
 * Copyright 2010 Trevor Parscal
 */
var n;function o(e,t){var r=[],n=0;function o(e){return r.push(e),t}function i(){return r[n++]}return{tokenize:function(t){return t.replace(e,o)},detokenize:function(e){return e.replace(new RegExp("("+t+")","g"),i)}}}n=new function(){var e="(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",t="(?:[_a-z0-9-]|[^\\u0020-\\u007e]|"+e+")",r="(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))(?:[_a-z0-9-]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))*)?",n="((?:-?"+r+")|(?:inherit|auto))",i="(#?"+t+"+|(?:rgba?|hsla?)\\([ \\d.,%-]+\\))",a="(?:[!#$%&*-~]|[^\\u0020-\\u007e]|"+e+")*?",s="(?!("+t+"|\\r?\\n|\\s|#|\\:|\\.|\\,|\\+|>|\\(|\\)|\\[|\\]|=|\\*=|~=|\\^=|'[^']*'])*?{)",u="(?!"+a+"['\"]?\\s*\\))",c="(?="+a+"['\"]?\\s*\\))",l="(\\s*(?:!important\\s*)?[;}])",d=new RegExp("`TMP`","g"),f=new RegExp("\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\/","gi"),p=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/"+s+"[^;}]+;?)","gi"),h=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/[^\\}]*?})","gi"),g=new RegExp("(direction\\s*:\\s*)ltr","gi"),m=new RegExp("(direction\\s*:\\s*)rtl","gi"),y=new RegExp("(^|[^a-zA-Z])(left)(?![a-zA-Z])"+u+s,"gi"),v=new RegExp("(^|[^a-zA-Z])(right)(?![a-zA-Z])"+u+s,"gi"),b=new RegExp("(^|[^a-zA-Z])(left)"+c,"gi"),S=new RegExp("(^|[^a-zA-Z])(right)"+c,"gi"),w=new RegExp("(^|[^a-zA-Z])(ltr)"+c,"gi"),I=new RegExp("(^|[^a-zA-Z])(rtl)"+c,"gi"),_=new RegExp("(^|[^a-zA-Z])([ns]?)e-resize","gi"),O=new RegExp("(^|[^a-zA-Z])([ns]?)w-resize","gi"),E=new RegExp("((?:margin|padding|border-width)\\s*:\\s*)"+n+"(\\s+)"+n+"(\\s+)"+n+"(\\s+)"+n+l,"gi"),C=new RegExp("((?:-color|border-style)\\s*:\\s*)"+i+"(\\s+)"+i+"(\\s+)"+i+"(\\s+)"+i+l,"gi"),P=new RegExp("(background(?:-position)?\\s*:\\s*(?:[^:;}\\s]+\\s+)*?)("+r+")","gi"),A=new RegExp("(background-position-x\\s*:\\s*)(-?(?:[0-9]*\\.[0-9]+|[0-9]+)%)","gi"),T=new RegExp("(border-radius\\s*:\\s*)"+n+"(?:(?:\\s+"+n+")(?:\\s+"+n+")?(?:\\s+"+n+")?)?(?:(?:(?:\\s*\\/\\s*)"+n+")(?:\\s+"+n+")?(?:\\s+"+n+")?(?:\\s+"+n+")?)?"+l,"gi"),x=new RegExp("(box-shadow\\s*:\\s*(?:inset\\s*)?)"+n,"gi"),j=new RegExp("(text-shadow\\s*:\\s*)"+n+"(\\s*)"+i,"gi"),M=new RegExp("(text-shadow\\s*:\\s*)"+i+"(\\s*)"+n,"gi"),D=new RegExp("(text-shadow\\s*:\\s*)"+n,"gi"),k=new RegExp("(transform\\s*:[^;}]*)(translateX\\s*\\(\\s*)"+n+"(\\s*\\))","gi"),R=new RegExp("(transform\\s*:[^;}]*)(translate\\s*\\(\\s*)"+n+"((?:\\s*,\\s*"+n+"){0,2}\\s*\\))","gi");function F(e,t,r){var n,o;return"%"===r.slice(-1)&&(-1!==(n=r.indexOf("."))?(o=r.length-n-2,r=(r=100-parseFloat(r)).toFixed(o)+"%"):r=100-parseFloat(r)+"%"),t+r}function L(e){switch(e.length){case 4:e=[e[1],e[0],e[3],e[2]];break;case 3:e=[e[1],e[0],e[1],e[2]];break;case 2:e=[e[1],e[0]];break;case 1:e=[e[0]]}return e.join(" ")}function U(e,t){var r=[].slice.call(arguments),n=r.slice(2,6).filter((function(e){return e})),o=r.slice(6,10).filter((function(e){return e})),i=r[10]||"";return t+(o.length?L(n)+" / "+L(o):L(n))+i}function N(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}function W(e,t,r){return t+N(r)}function B(e,t,r,n,o){return t+r+N(n)+o}function V(e,t,r,n,o){return t+r+n+N(o)}return{transform:function(e,t){var r=new o(p,"`NOFLIP_SINGLE`"),n=new o(h,"`NOFLIP_CLASS`"),i=new o(f,"`COMMENT`");return e=i.tokenize(n.tokenize(r.tokenize(e.replace("`","%60")))),t.transformDirInUrl&&(e=e.replace(w,"$1`TMP`").replace(I,"$1ltr").replace(d,"rtl")),t.transformEdgeInUrl&&(e=e.replace(b,"$1`TMP`").replace(S,"$1left").replace(d,"right")),e=e.replace(g,"$1`TMP`").replace(m,"$1ltr").replace(d,"rtl").replace(y,"$1`TMP`").replace(v,"$1left").replace(d,"right").replace(_,"$1$2`TMP`").replace(O,"$1$2e-resize").replace(d,"w-resize").replace(T,U).replace(x,W).replace(j,V).replace(M,V).replace(D,W).replace(k,B).replace(R,B).replace(E,"$1$2$3$8$5$6$7$4$9").replace(C,"$1$2$3$8$5$6$7$4$9").replace(P,F).replace(A,F),e=r.detokenize(n.detokenize(i.detokenize(e)))}}},e.exports?t.transform=function(e,t,r){var o;return"object"==typeof t?o=t:(o={},"boolean"==typeof t&&(o.transformDirInUrl=t),"boolean"==typeof r&&(o.transformEdgeInUrl=r)),n.transform(e,o)}:"undefined"!=typeof window&&(window.cssjanus=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(101),o=r(102);t.triggerEvent=function(e){if("undefined"!=typeof window){var t=e.key;-1!==navigator.userAgent.indexOf("Edge")&&(n.default(e)||o.default[e.keyCode]||(t="key"+t));var r=new KeyboardEvent(e.type,{key:t+"-manual",code:e.code,location:e.location,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,repeat:e.repeat,charCode:e.charCode,keyCode:e.keyCode,which:e.which});document.dispatchEvent(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(2),a=r(44),s=r(4),u=r(17),c=r(23),l=r(41),d=r(31);!function(e){e.AppList="AppList",e.Builder="Builder",e.Experience="Experience"}(n=t.CheckTarget||(t.CheckTarget={})),function(e){e.InvalidUserLevel="InvalidUserLevel",e.InvalidPrivilege="InvalidPrivilege",e.InvalidLicense="InvalidLicense",e.NullInfo=""}(o=t.InvalidInfo||(t.InvalidInfo={}));var f=null;function p(e){return v().then((function(t){var r=function(e){return window.isDevEdition||e!==n.Builder&&e!==n.AppList?Promise.resolve(!0):y().then((function(e){return!(!e||!e.orgId)})).catch((function(){return!1}))}(e),i=function(e){return h().then((function(t){return window.isDevEdition&&t&&(e===n.Builder||e===n.AppList)?y().then((function(e){return!(!e||"2"!==e.level)})).catch((function(){return!1})):Promise.resolve(!0)}))}(e),c=function(e,t){return g(t).then((function(t){var r={valid:!1,capabilities:t,invalidInfo:o.NullInfo,invalidMessage:""};if(window.isDevEdition){if(e===n.AppList)return r.valid=t.canCreateExperience,r;if(e===n.Builder)return r.valid=t.canCreateExperience,r;if(e===n.Experience)return r.valid=!0,r}else{if(e===n.AppList)return r.valid=!0,r;if(e===n.Builder)return r.valid=t.canCreateExperience,r;if(e===n.Experience)return r.valid=!0,r}}))}(e,t),l=function(e,t){var r=s.getAppStore().getState(),o=r.portalUrl;return window.isDevEdition?Promise.resolve({valid:!0,viewOnly:!1}):e===n.Builder||e===n.AppList?Promise.resolve(t):r.appId?/^\/templates\/.*\.json$/.test(r.appId)?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t){var r=m();return a.getItem(t,{portal:u.getPortalRestUrl(e),authentication:r||null}).then((function(e){return e&&"public"===e.access})).catch((function(e){var t;return console.log(e&&e.message,"You are currently signed in as: '"+(null===(t=r)||void 0===t?void 0:t.username)+"'."),Promise.reject()}))}(o,r.appId).then((function(e){return e?{valid:!0,viewOnly:!1}:t})).catch((function(e){return{valid:!0,viewOnly:!1}})):Promise.resolve({valid:!0,viewOnly:!1})}(e,t);return Promise.all([r,i,c,l])})).then((function(t){var r=t[0],i=t[1],a=t[2],s=t[3],u={valid:r&&i&&a.valid&&s.valid&&(e!==n.Builder||!s.viewOnly),capabilities:{canViewExperience:i&&a.capabilities.canViewExperience&&s.valid,canCreateExperience:i&&a.capabilities.canCreateExperience&&s.valid&&!s.viewOnly,canUpdateExperience:i&&a.capabilities.canUpdateExperience&&s.valid&&!s.viewOnly,canDeleteExperience:i&&a.capabilities.canDeleteExperience&&s.valid&&!s.viewOnly,canShareExperience:i&&a.capabilities.canShareExperience&&s.valid&&!s.viewOnly},invalidInfo:o.NullInfo,invalidMessage:""};return u.invalidInfo=function(e,t,r,i,a){var s=o.NullInfo;r?a.valid?(!i.valid||!t||e===n.Builder&&a.viewOnly)&&(s=o.InvalidPrivilege):s=o.InvalidLicense:s=o.InvalidUserLevel;return s}(e,r,i,a,s),u.invalidMessage=function(e,t){var r=l.getIntl(),i=m(),a="";i?t===o.InvalidLicense?e===n.Builder||e===n.AppList?a=r.formatMessage({id:"essentialAppsLicenseErrorForBuilder",defaultMessage:d.default.essentialAppsLicenseErrorForBuilder}):e===n.Experience&&(a=r.formatMessage({id:"essentialAppsLicenseErrorForApp",defaultMessage:d.default.essentialAppsLicenseErrorForApp})):t===o.InvalidPrivilege?a=window.isDevEdition?r.formatMessage({id:"roleError2",defaultMessage:d.default.roleError2}):r.formatMessage({id:"noEditContentPrivilegesError",defaultMessage:d.default.noEditContentPrivilegesError}):t===o.InvalidUserLevel&&(a=r.formatMessage({id:"roleError",defaultMessage:d.default.roleError})):a="";return a}(e,u.invalidInfo),u}))}function h(){return(e=s.getAppStore().getState().portalUrl,t=m(),f||(f=i.request(u.getPortalRestUrl(e)+"portals/self?f=json",{authentication:t}).then((function(e){return e})).catch((function(e){var r;return console.log(e&&e.message,"You are currently signed in as: '"+(null===(r=t)||void 0===r?void 0:r.username)+"'."),null}))),f).then((function(e){return!!(e&&e.isPortal&&Number(e.currentVersion)<=6.1)}));var e,t}function g(e){return y().then((function(e){return!!(e&&e.privileges&&e.privileges.indexOf&&e.privileges.indexOf("portal:user:createItem")>-1)})).catch((function(){return!1})).then((function(t){var r=t&&e.valid&&!e.viewOnly;return{canViewExperience:!0,canCreateExperience:r,canUpdateExperience:r,canDeleteExperience:r,canShareExperience:r}}))}function m(){return c.default.getInstance().getMainSession()}function y(){var e=m();return e?e.getUser().then((function(e){return e})).catch((function(t){return console.log(t&&t.message,"You are currently signed in as: '"+e.username+"'."),Promise.reject()})):(console.log("The user has not signed in."),Promise.reject())}function v(){var e=s.getAppStore().getState().portalUrl;return h().then((function(t){return t?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t,r){var n={valid:!1,viewOnly:!1},o=c.default.getInstance(),a=o.getSessionByUrl(e);if(a){if(o.getPortalInfo(a.portal).isWebTier)return n.valid=!0,n.viewOnly=!1,Promise.resolve(n);var s=a.portal+"/oauth2/validateAppAccess?client_id="+t;return i.request(s,{authentication:a}).then((function(e){return!1===e.valid?console.log("not-authorized","You are currently signed in as: '"+a.username+"'."):(n.valid=!0,n.viewOnly=!!e.viewOnlyUserTypeApp),n})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+a.username+"'."),Promise.resolve(n)}))}return Promise.resolve(n)}(e,"arcgisWebApps")}))}t.checkAccess=function(e){return p(e).then((function(e){return e.valid}))},t.getAccessCapabilities=function(){return v().then((function(e){return g(e)}))},t.checkExbAccess=p},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(25),s=r(4),u=r(186),c=r(55),l=r(33),d=r(60),f=r(119),p=r(15),h=r(48),g=r(100),m=a.connect((function(e){return{locale:e.appContext.locale,defaultLocale:e.appContext.locale,messages:e.appI18nMessages}}))(l.IntlProvider),y=a.connect((function(e){return{theme:e.theme}}))(d.ThemeProvider),v=function(e){function t(t){var r=e.call(this,t)||this;return r.myEmotionCache=s.getAppStore().getState().appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),r}return o(t,e),t.prototype.render=function(){return i.createElement(a.Provider,{store:s.getAppStore()},i.createElement(f.ErrorBoundary,null,i.createElement(c.HistoryProvider,null,i.createElement(m,null,i.createElement(y,null,i.createElement(p.CacheProvider,{value:this.myEmotionCache},i.createElement(u.default,null)))))))},t}(i.PureComponent);t.default=v},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(87),s=r(10),u=r(25),c=r(111),l=r(57),d=r(5),f=r(7),p=r(13),h=r(12),g=r(116),m=r(15),y=r(40),v=r(42),b=r(33),S=r(31),w=r(11),I=function(e){function t(t){var r,n,o=e.call(this,t)||this;o.getKeyboardComponent=function(){if(window.jimuConfig.isBuilder){var e=f.getModuleSync("jimu-for-builder").BuilderKeyboardComponent;return i.createElement(e,null)}return window.jimuConfig.isInBuilder?i.createElement(g.default,null):null};var a={},u=o.getPageId();return a.renderedPages=s(u?((r={})[u]=!0,r):((n={})[u]=!0,n)),o.props.dynamicModules[o.getLayoutEntryPath()]&&(a.LayoutEntryClass=f.getModuleSync(o.getLayoutEntryPath()).PageRenderer),o.props.dynamicModules["jimu-ui"]&&(a.jimuUI=f.getModuleSync("jimu-ui")),window.isNode||window.initStoreState?a.preloadWidgetsLoaded=!0:a.preloadWidgetsLoaded=!1,o.state=a,o.onDismiss=o.onDismiss.bind(o),o.updateSW=o.updateSW.bind(o),o}return o(t,e),t.prototype.getLayoutEntryPath=function(){return window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime"},t.prototype.loadLayoutEntryClass=function(){return this.props.dynamicModules[this.getLayoutEntryPath()]?Promise.resolve(f.getModuleSync(this.getLayoutEntryPath()).PageRenderer):f.loadModule(this.getLayoutEntryPath()).then((function(e){return e.PageRenderer}))},t.prototype.loadJimuUI=function(){return this.props.dynamicModules["jimu-ui"]?Promise.resolve(f.getModuleSync("jimu-ui")):f.loadModule("jimu-ui")},t.prototype.componentDidMount=function(){var e=this,t=p.getFixedRootPath()+"jimu-ui",r=this.props.isRTL?t+"/styles/base-rtl.css":t+"/styles/base.css";if(document){if(document.getElementById("jimu-base-style"))return;var n=document.createElement("link");n.setAttribute("id","jimu-base-style"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",r),document.head.appendChild(n)}var o={};this.loadLayoutEntryClass().then((function(t){return o.LayoutEntryClass=t,e.loadJimuUI()})).then((function(t){return o.jimuUI=t,c.default.getInstance({intl:e.props.intl}).loadAppConfig()})).then((function(t){return e.props.dispatch(d.appConfigLoaded(t)),window.jimuConfig.isInBuilder?w.default.getInstance().createAllDataSources().then((function(){return t})):t})).then((function(t){e.setState(o),e.loadPreloadWidgets(t.preloadWidgets),y.default.getInstance().loadTheme(t.theme).then((function(){console.log("Theme loaded.",t.theme)})).catch((function(t){console.error("Initializing theme manager failed.",t),e.setState({error:t.message})}))})).catch((function(t){console.error("Load app config error.",t),e.setState({error:t.message})}))},t.prototype.componentWillUnmount=function(){var e=document.getElementById("jimu-base-style");e&&e.remove()},t.prototype.loadPreloadWidgets=function(e){var t=this;e&&0!==e.length?Promise.all(e.asMutable().map((function(e){return v.default.getInstance().loadWidgetClass(e)}))).then((function(){t.setState({preloadWidgetsLoaded:!0})})):this.setState({preloadWidgetsLoaded:!0})},t.prototype.componentDidUpdate=function(){var e=this.getPageId(),t=this.state.renderedPages;e&&!t[e]&&(Object.keys(t).forEach((function(e){t=t.set(e,!1)})),this.setState({renderedPages:t.set(e,!0)}))},t.prototype.getPageId=function(){var e=this;if(!this.props.pages)return null;var t=p.getAppIdPageIdFromUrl();return t.pageId?t.pageId:Object.keys(this.props.pages).find((function(t){return e.props.pages[t].isDefault}))},t.prototype.render=function(){var e,t=this.state,r=t.LayoutEntryClass,n=t.renderedPages;if(this.state.error)return i.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:this.state.error}});var o=y.default.getInstance();if(!this.props.appConfigLoaded||!r||!this.state.preloadWidgetsLoaded||h.isDeepEqual(this.props.themeVariables,{}))return null;if(this.props.themeName&&!o.isThemeLoaded(this.props.themeName))return null;var a=this.getPageId();if(!a)return console.error("No page to render."),null;if(!this.props.pages[a])return console.error("Invalid page id.",a),null;if(this.props.pages[a].type===l.PageType.Folder)return console.error("This is a folder."),null;if(this.props.pages[a].linkUrl)return window.location.assign(this.props.pages[a].linkUrl),null;var s=o.getGlobalStyles(this.props.themeVariables),u=null===(e=this.state.jimuUI)||void 0===e?void 0:e.Loading;return i.createElement(i.Fragment,null,i.createElement(m.Global,{styles:s}),this.renderSWAlert(this.props.themeVariables),i.createElement(r,{pageId:a,renderedPages:n}),this.getThemeNode(),i.createElement("div",{id:"helper-nodes-container"}),this.getKeyboardComponent(),u&&this.props.isBusy&&i.createElement(u,null))},t.prototype.renderSWAlert=function(e){if(!this.props.hasWaitingServiceWorker||window.jimuConfig.isInBuilder||!this.state.jimuUI||window.jimuConfig.isSite&&"landing"===this.getPageId())return null;var t=this.state.jimuUI,r=t.Alert,n=t.Button,o=a;return i.createElement(r,{color:"info",isOpen:this.state.swUpdateVisible,toggle:this.onDismiss,className:"pl-3 pr-3",closeClassName:"mt-2",style:{position:"absolute",zIndex:999,width:"100%",paddingTop:""+o(11),paddingBottom:""+o(11),backgroundColor:""+e.colors.palette.primary[100],color:""+e.colors.black,fontSize:""+o(16)}},i.createElement(b.FormattedMessage,{id:"versionUpdateMsg",defaultMessage:S.default.versionUpdateMsg}),i.createElement(n,{size:"sm",type:"primary",className:"ml-3",onClick:this.updateSW,style:{minWidth:""+o(78),height:""+o(26),marginTop:""+o(-2)}},i.createElement(b.FormattedMessage,{id:"doUpdate",defaultMessage:S.default.doUpdate})))},t.prototype.onDismiss=function(){this.setState({swUpdateVisible:!1})},t.prototype.updateSW=function(){window.waitingServiceWorker.postMessage({type:"to_sw_skip_waiting"})},t.prototype.getThemeNode=function(){var e=null,t=this.props.themeName;if(t){var r=y.default.getInstance().getThemeManifest(t);if(r&&r.styleFiles&&r.styleFiles.css){var n=this.props.isRTL?""+p.getFixedRootPath()+t+"/style-rtl.css":""+p.getFixedRootPath()+t+"/style.css";e=i.createElement("link",{type:"text/css",rel:"stylesheet",href:n})}}return e},t}(i.PureComponent);t.default=b.injectIntl(u.connect((function(e){return e.appConfig?{appConfigLoaded:!0,customTheme:e.appConfig.customTheme,themeName:e.appConfig.theme?e.appConfig.theme:null,dynamicModules:e.dynamicModules,themeVariables:e.theme,pages:e.appConfig.pages,appPath:e.appPath,queryObject:e.queryObject,hasWaitingServiceWorker:e.appRuntimeInfo.hasWaitingServiceWorker,isRTL:e.appContext.isRTL,isBusy:e.appRuntimeInfo.isBusy}:{appConfigLoaded:!1,dynamicModules:e.dynamicModules,themeVariables:e.theme,themeName:null,customTheme:null,pages:null,appPath:e.appPath,queryObject:e.queryObject,hasWaitingServiceWorker:e.appRuntimeInfo.hasWaitingServiceWorker,isRTL:e.appContext.isRTL,isBusy:e.appRuntimeInfo.isBusy}}))(I))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(118),o=r(188),i=r(101),a=r(189),s=function(e){console.log(":keyboard event:",e)};t.default=function(e,t){if(void 0===e&&(e="keydown"),void 0===t&&(t=null),"undefined"==typeof window)return!1;var r={},u=null,c=null;null===t&&(t=window.document);var l=!n.default(t);function d(e){if(!(i.default(e)||l&&o.default(e))){c&&c(e);var t=a.default(e),n=r[t.toLowerCase()]||[];if("function"==typeof u){var s=n.length>0;u(t,s,e)}n.length&&e.preventDefault();for(var d=!0,f=n.length-1;f>=0&&(n[f]&&(d=n[f](e)),!1!==d);f--);return!!d&&void 0}}function f(){t.addEventListener(e,d)}return f(),{subscribe:function(e,t){return(e=e.toLowerCase()).replace(/\s/,""),void 0===r[e]&&(r[e]=[]),r[e].push(t),{unsubscribe:function(){var n=r[e].indexOf(t);r[e].splice(n,1)}}},setMonitor:function(e){void 0===e&&(e=null),u=!0===e?s:e},startListening:f,stopListening:function(){t.removeEventListener(e,d)},setKeyboardTriggerFunction:function(e){c=e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(118);t.default=function(e){return n.default(e.target||e.nativeEvent.target)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(102);t.default=function(e){var t="",r=[];if(-1!==navigator.userAgent.indexOf("Edge")&&-1!==e.key.indexOf("-manual"))t=e.key.replace("-manual","");else if("code"in e)t=n.default[e.code]?n.default[e.code]:e.code;else{var o=e.which;t=String.fromCharCode(o).toLowerCase(),n.default[o]&&(t=n.default[o])}return e.metaKey&&r.push("command"),e.ctrlKey&&r.push("Ctrl"),e.shiftKey&&r.push("Shift"),e.altKey&&r.push("Alt"),r.push(t),r.join("+")}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(25),s=r(14),u=r(11),c=r(20),l=r(12),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dataSourceId:null,currentQueryParam:null,queryStatus:s.DataSourceStatus.Unloaded,queryResult:null,count:null},t}return o(t,e),t.getDerivedStateFromProps=function(e,t){return e.useDataSource.dataSourceId!==t.dataSourceId?{dataSourceId:e.useDataSource.dataSourceId,currentQueryParam:null,queryStatus:s.DataSourceStatus.Unloaded,queryResult:null,count:null}:null},t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.props.query&&this.doQuery()},t.prototype.componentDidUpdate=function(e,t){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),t.queryStatus!==this.state.queryStatus&&this.props.onQueryStatusChange&&this.props.onQueryStatusChange(this.state.queryStatus),e.dataSourceInfo!==this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.props.query&&this.doQuery()},t.prototype.render=function(){var e=this.props,t=e.useDataSource,r=e.dataSource,n=e.children;return t?r?n?"function"==typeof n?n(r,this.state.queryStatus,this.state.queryResult,this.state.count):n:null:"Waiting for data source":"No data source configured."},t.prototype.doQuery=function(){var e=this,t=this.props,r=t.dataSource,n=t.query,o=t.refresh,i=t.queryCount,a=t.onQueryStart,u=this.state.currentQueryParam;if(r){var d=r;if(d.load&&d.query){var f=r.getRealQueryParams(n,"query");if((r.id!==this.state.dataSourceId||c.checkDoQuery({queryType:s.QueryType.ByQueryParam,queryValue:f,currentQuery:u,refresh:o}))&&(a&&a(),this.setState({queryStatus:s.DataSourceStatus.Loading,currentQueryParam:f}),d.query(n).then((function(t){l.isDeepEqual(t.queryParams,f)&&e.setState({queryStatus:s.DataSourceStatus.Loaded,queryResult:t})}),(function(t){console.error("query error:",t),e.setState({queryStatus:s.DataSourceStatus.LoadError,queryResult:null})})),i)){this.setState({count:null});var p=Object.assign({},n);d.queryCount(p).then((function(t){l.isDeepEqual(t.queryParams,f)&&e.setState({count:t.count})}),(function(t){console.error("query count error",t),e.setState({count:null})}))}}}},t.prototype.createDataSource=function(){var e=this;if(this.props.useDataSource){var t=this.props.dataSourceManager;if(!t.getDataSource(this.props.useDataSource.dataSourceId)){var r=this.props.dataSourceJson;if(r)!r.isOutputFromWidget&&t.createDataSource(r).then((function(e){}),(function(t){t&&e.props.dataSourceJson&&t.dataSourceId===e.props.dataSourceJson.id&&e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}));else{var n=this.props.rootDataSourceJson;if(!n)return void console.error("Can not find data source:",this.props.useDataSource.dataSourceId);!n.isOutputFromWidget&&t.createDataSource(n).then((function(e){}),(function(t){t&&e.props.rootDataSourceJson&&t.dataSourceId===e.props.rootDataSourceJson.id&&e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}))}}}},t}(i.PureComponent);t.DataQueryComponent=a.connect((function(e,t){var r=u.default.getInstance();return{dataSourceInfo:t.useDataSource&&e.dataSourcesInfo[t.useDataSource.dataSourceId],dataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.dataSourceId],rootDataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.rootDataSourceId],dataSource:t.useDataSource&&r.getDataSource(t.useDataSource.dataSourceId),dataSourceManager:r}}))(d),t.default=t.DataQueryComponent},function(e,t){e.exports=r},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(47),u=r(33),c=r(67),l=r(121);!function(e){e.Failed="RESOLVE_FAILED",e.NotMatched="DATA_SOURCES_IN_EXPRESSION_CANNOT_MATCH_DATA_SOURCES_IN_USE"}(a=t.ExpressionResolverErrorCode||(t.ExpressionResolverErrorCode={}));var d=function(e){function t(t){var r=e.call(this,t)||this;return r.dataSources=null,r.__unmount=!1,r.__resolveCount=1,r.getWhetherIsMultipleExpression=function(e){return!!e&&!(2===Object.keys(e).length&&Object.keys(e).indexOf("name")>-1&&Object.keys(e).indexOf("parts")>-1&&Array.isArray(e.parts))},r.resolveExpressions=function(e,t,n,o){if(!e)return Promise.resolve("");var a=r.getRecords(n,t);if(r.getWhetherIsMultipleExpression(e)){var s=e;Object.keys(s).forEach((function(e){r.resolveSingleExpression(s[e],a).then((function(t){var n,a=r.resultsCache;r.__unmount||o!==r.__resolveCount||(r.resultsCache=i(i({},a),((n={})[e]={isSuccessful:!0,value:t},n)),r.setState({results:r.resultsCache}))})).catch((function(t){var n,a=r.resultsCache;r.__unmount||o!==r.__resolveCount||(r.resultsCache=i(i({},a),((n={})[e]={isSuccessful:!1,value:t},n)),r.setState({results:r.resultsCache}))}))}))}else r.resolveSingleExpression(e,a).then((function(e){r.__unmount||o!==r.__resolveCount||(r.resultsCache={isSuccessful:!0,value:e},r.setState({results:r.resultsCache}))})).catch((function(e){r.__unmount||o!==r.__resolveCount||(r.resultsCache={isSuccessful:!1,value:e},r.setState({results:r.resultsCache}))}))},r.resolveSingleExpression=function(e,t){return r.getWhetherExpressionDssInUseDss(e)?c.resolveExpression(e,t,r.props.intl).catch((function(e){return Promise.reject(a.Failed)})):Promise.reject(a.NotMatched)},r.onDataSourceCreated=function(e){if(r.dataSources=e,e){var t={};Object.keys(e).forEach((function(r){r&&e[r]&&(t[r]=e[r].getInfo())})),r.setState({infos:t})}},r.onDataSourceInfoChange=function(e){r.setState({infos:e})},r.getWhetherExpressionDssInUseDss=function(e){return!e||!e.parts||!e.parts.some((function(e){return e&&e.dataSourceId&&!r.getWhetherDsIdInUseDss(e.dataSourceId)}))},r.getWhetherDsIdInUseDss=function(e){var t=r.props.useDataSources||[];return e&&t.some((function(t){return t.dataSourceId===e}))},r.getRecords=function(e,t){if(!e)return null;var n,o=null;return e.forEach((function(e){n=r.getSingleRecord(e.dataSourceId,t),e&&e.dataSourceId&&n&&(o||(o={}),o[e.dataSourceId]=n)})),o},r.getSingleRecord=function(e,t){return t&&t[e]?t[e]:r.dataSources?r.getSingleSelectedRecord(r.dataSources[e]):null},r.getSingleSelectedRecord=function(e){return e?e.getSelectedRecords()[0]:null},r.state={results:null,infos:null},r}return o(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.resolveExpressions(this.props.expression,this.props.records,this.props.useDataSources,this.__resolveCount)},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.componentDidUpdate=function(e,t){this.props.expression===e.expression&&this.props.records===e.records&&this.props.useDataSources===e.useDataSources&&this.state.infos===t.infos||(this.__resolveCount++,this.resolveExpressions(this.props.expression,this.props.records,this.props.useDataSources,this.__resolveCount)),t.results!==this.state.results&&null!==this.state.results&&this.props.onChange&&this.props.onChange(this.state.results)},t.prototype.render=function(){var e=this;return this.props.expression?s.React.createElement(l.default,{useDataSources:this.props.useDataSources||s.Immutable([]),onDataSourceCreated:this.onDataSourceCreated,onDataSourceInfoChange:this.onDataSourceInfoChange},(function(){return"function"==typeof e.props.children?e.props.children(e.state.results):e.props.children})):null},t}(s.React.PureComponent);t._ExpressionResolverComponent=d,t.ExpressionResolverComponent=u.injectIntl(d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(32);t.average=function(e){return o.getFunctionResult(e,n.ExpressionFunctions.Average)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(11),i=r(32),a=r(122);t.count=function(e,t){if(!e||0===e.length){var r=null,s=o.default.getInstance().getDataSource(t);if(s){var u=s&&s.getSchema(),c=u&&u.fields&&Object.keys(u.fields).find((function(e){return u.fields[e].esriType===a.ESRIOBJECTIDTYPE})),l=u&&u.fields&&u.fields[c];if(l)r=[{type:n.ExpressionPartType.Field,jimuFieldName:l.jimuName,dataSourceId:t,exp:"{"+(l.alias||l.name)+"}"}];else if(u&&u.fields&&Object.keys(u.fields).length>0){var d=Object.keys(u.fields)[0],f=u.fields[d];f&&(r=[{type:n.ExpressionPartType.Field,jimuFieldName:f.jimuName,dataSourceId:t,exp:"{"+(f.alias||f.name)+"}"}])}return r?i.getWhetherFunctionIncludeFieldParamFromLocalDataSource(r)?Promise.resolve(s.getRecords().length):i.getQueryResult(r,n.ExpressionFunctions.Count):Promise.reject(i.errorCode.ParamNumber)}return Promise.reject(i.errorCode.ParamNumber)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(32);t.sum=function(e){return o.getFunctionResult(e,n.ExpressionFunctions.Sum)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(32);t.max=function(e){return o.getFunctionResult(e,n.ExpressionFunctions.Max)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(32);t.min=function(e){return o.getFunctionResult(e,n.ExpressionFunctions.Min)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(11),i=function(){function e(){this.queries=[],n.observeStore(this.onDataSourceChange.bind(this),["appConfig","dataSources"]),n.observeStore(this.onWidgetChange.bind(this),["appConfig","widgets"])}return e.getInstance=function(){return e.instance||(e.instance=new e,window._widgetDataSourceQueryManager=e.instance),e.instance},e.prototype.setWidgetQueryOption=function(e,t,r){var n=this.queries.find((function(r){return r.widgetId===e&&r.dataSourceId===t}));n?n.queryOption=r:this.queries.push({widgetId:e,dataSourceId:t,queryOption:r})},e.prototype.getQueryOption=function(e,t){return this.queries.find((function(r){return r.widgetId===e&&r.dataSourceId===t}))},e.prototype.getDataSourceQueryOptions=function(e){return this.queries.filter((function(t){return t.dataSourceId===e})).map((function(e){return e.queryOption}))},e.prototype.getMergedDataSourceQueryOptions=function(e){var t={};return this.getDataSourceQueryOptions(e).forEach((function(r){t=o.default.getInstance().getDataSource(e).mergeQueryParams(t,r)})),t},e.prototype.removeQueryOptionByDataSource=function(e){this.queries=this.queries.filter((function(t){return t.dataSourceId!==e}))},e.prototype.removeQueryOptionByWidget=function(e){this.queries=this.queries.filter((function(t){return t.widgetId!==e}))},e.prototype.onDataSourceChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(n){t[n]&&t[n]===e[n]||r.removeQueryOptionByDataSource(n)}))},e.prototype.onWidgetChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(n){t[n]&&t[n]===e[n]||r.removeQueryOptionByWidget(n)}))},e}();t.default=i},function(e,t){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u,c,l=Object.prototype,d=l.hasOwnProperty,f=l.toString,p=l.propertyIsEnumerable,h=(u=Object.keys,c=Object,function(e){return u(c(e))}),g=Math.max,m=!p.call({valueOf:1},"valueOf");function y(e,t){var r=I(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_(e)}(e)&&d.call(e,"callee")&&(!p.call(e,"callee")||f.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=r.length,i=!!o;for(var a in e)!t&&!d.call(e,a)||i&&("length"==a||b(a,o))||r.push(a);return r}function v(e,t,r){var n=e[t];d.call(e,t)&&w(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function b(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function S(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||l)}function w(e,t){return e===t||e!=e&&t!=t}var I=Array.isArray;function _(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=O(e)?f.call(e):"";return t==o||t==i}(e)}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var E,C=(E=function(e,t){if(m||S(t)||_(t))!function(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;v(r,a,void 0===s?e[a]:s)}}(t,function(e){return _(e)?y(e):function(e){if(!S(e))return h(e);var t=[];for(var r in Object(e))d.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)d.call(t,r)&&v(e,r,t[r])},function(e,t){return t=g(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=g(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=i,s(e,this,a)}}((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=E.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!O(r))return!1;var n=typeof t;return!!("number"==n?_(r)&&b(t,r.length):"string"==n&&t in r)&&w(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&E(e,a,r,o)}return e})));e.exports=C},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,g=Math.min,m=function(){return f.Date.now()};function y(e,t,n){var o,i,a,s,u,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function y(t){var r=o,n=i;return o=i=void 0,l=t,s=e.apply(n,r)}function S(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-l>=a}function w(){var e=m();if(S(e))return I(e);u=setTimeout(w,function(e){var r=t-(e-c);return f?g(r,a-(e-l)):r}(e))}function I(e){return u=void 0,p&&o?y(e):(o=i=void 0,s)}function _(){var e=m(),r=S(e);if(o=arguments,i=this,c=e,r){if(void 0===u)return function(e){return l=e,u=setTimeout(w,t),d?y(e):s}(c);if(f)return u=setTimeout(w,t),y(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=b(t)||0,v(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(b(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},_.flush=function(){return void 0===u?s:I(m())},_}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),y(e,t,{leading:o,maxWait:t,trailing:i})}}).call(this,r(19))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Loading="LOADING",e.Loaded="LOADED",e.Failed="FAILED"}(t.JimuMapViewStatus||(t.JimuMapViewStatus={}))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});r(1);var o=r(7),i=r(12),a=r(13),s=r(37),u=r(4),c=r(10),l=r(5),d=r(30),f=r(42),p=r(23),h=r(17),g=r(41),m=r(123),y=r(6),v=r(203),b=r(113),S=r(31),w=r(66),I=r(204),_=r(65),O=r(125),E=r(205),C=r(40),P=r(39),A=r(2);t.translatedLocales=["en","ar","bs","ca","cs","da","de","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw"];var T=u.createAppStore(c(window.initStoreState));function x(e,t){return t&&t[e.id]?t[e.id]:e.defaultMessage}function j(){return function(){var e;if(window.jimuConfig.isInPortal)return e=h.getPortalUrlFromLocation(),Promise.resolve(e);if(window.jimuConfig.packagesInAppFolder)return Promise.resolve(null);var t=window.hostEnv||"dev",r=window.location.protocol+"//"+window.location.host+window.jimuConfig.mountPath+"builder/setting.json?env="+(window.isDevEdition?"dev":"online");return window.fetch(r).then((function(e){return e.json()})).then((function(e){var r=(window.isDevEdition?e.devEnv:e.env)[t];return r&&(r.portalUrl=h.fixPortalUrlProtocol(r.portalUrl)),r}),(function(e){return console.error("Get setting.json error.",e),Promise.resolve(null)}))}().then((function(e){if(!e)return console.warn("No portal info."),p.default.getInstance().initFromCookie(null),Promise.resolve({});p.default.getInstance().initFromCookie(e),u.getAppStore().dispatch(l.setPortalInfo(e.portalUrl,e.clientId)),b.initPortalSelf(e.portalUrl)}))}function M(){if("undefined"!=typeof document){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=i.getBrowserSizeMode({width:e,height:t});u.getAppStore().getState().browserSizeMode!==r&&u.getAppStore().dispatch(l.browserSizeModeChanged(r))}}t.init=function(){var e;e=p.default.getInstance(),A.setDefaultRequestOptions({fetch:function(t,r){var o=n({},r),i=e.getPortalInfo(t);return i&&i.portalUrl&&i.isWebTier&&(o.credentials="include"),fetch(t,o).then((function(e){return e}))}});var r=s.parse(window.location.search);return T.subscribe((function(){window._appState=u.getAppStore().getState()})),window.addEventListener&&(window.addEventListener("online",(function(){return T.dispatch(l.networkStatusChanged(!1))})),window.addEventListener("offline",(function(){return T.dispatch(l.networkStatusChanged(!0))})),window.addEventListener("resize",m(M,100)),M()),P.default.getInstance(),j().then((function(){return p.default.getInstance().getMainSession()?p.default.getInstance().getMainSession().getUser():null})).then((function(e){var n;e&&T.dispatch(l.userSignIn(e));var s=e&&e.culture,d=null===(n=function(e,t){return e.locale||t||window.jimuConfig.locale||g.getBrowserLanguage(window.navigator)}(r,s))||void 0===n?void 0:n.toLowerCase(),f=g.getTranslatedLocale(d,t.translatedLocales)||"en",p={isInPortal:window.jimuConfig.isInPortal,isInBuilder:window.jimuConfig.isInBuilder,isBuilder:window.jimuConfig.isBuilder,isSite:window.jimuConfig.isSite,locale:d,translatedLocale:f,isRTL:g.isRTLLocale(d),isTouchDevice:i.isTouchDevice(),jimuConfig:window.jimuConfig};!function(e){if(window.locale=e,"undefined"==typeof document)return;var t=document.getElementsByTagName("html")[0];t.setAttribute("lang",e),g.isRTLLocale(e)?(t.setAttribute("dir","rtl"),t.className+=" esriRtl jimu-rtl",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:"")):(t.setAttribute("dir","ltr"),t.className+=" esriLtr jimu-ltr",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:""))}(d),T.dispatch(l.initAppContext(p)),T.dispatch(l.queryObjectChanged(r)),T.dispatch(l.networkStatusChanged(!(window.navigator&&window.navigator.onLine)));var h=a.getAppIdPageIdFromUrl(),m=h.appId,v=h.pageId;return m?T.dispatch(l.appIdChanged(m)):r.config&&T.dispatch(l.appIdChanged(r.config)),T.dispatch(l.appRuntimeInfoInit(c({appMode:y.AppMode.Run,currentPageId:v,currentDialogId:r.dlg,currentViewIds:r.views?r.views.split(","):[],activePagePart:y.PagePart.Body,hasWaitingServiceWorker:!!window.waitingServiceWorker}))),function(e){var t=a.getDataSourceInfosFromQueryObject(e);Object.keys(t).forEach((function(e){var r=t[e];"index"===r.selectionType?u.getAppStore().dispatch(l.dataSourceSelectedIndexesChanged(e,r.selection)):u.getAppStore().dispatch(l.dataSourceSelectedIdsChanged(e,r.selection))}))}(r),function(e){if("en"===e)return Promise.resolve(S.default);return(e=g.getLocaleToLoad(e,t.translatedLocales))?g.loadLocaleMessages("jimu-core/lib/translations",e).then((function(e){return e})):Promise.resolve(S.default)}(f).then((function(e){return e&&T.dispatch(l.i18nMessagesLoaded("jimu-core",e)),w.default.getInstance().registerAction({id:"export-json",label:x({id:"dataAction_ExportJson",defaultMessage:S.default.dataAction_ExportJson},e),ActionClass:I.default}),_.default.getInstance().registerAction({id:"filter-data-record-action",label:x({id:"messageAction_FilterDataRecord",defaultMessage:S.default.messageAction_FilterDataRecord},e),ActionClass:O.default}),_.default.getInstance().registerAction({id:"select-data-record-action",label:x({id:"messageAction_SelectDataRecord",defaultMessage:S.default.messageAction_SelectDataRecord},e),ActionClass:E.default}),window.jimuConfig.isInBuilder?(u.getAppStore().dispatch(l.appModeChanged(y.AppMode.Design)),o.loadModule("jimu-layouts/common").then((function(e){return e.init()})).then((function(){return o.loadModule("jimu-for-builder").then((function(e){var t=e.appBuilderSync;return t.listenBuilderEvents(),u.observeStore((function(e,r){e&&r&&t.publishAppStateChangeToBuilder()})),e.loadI18nMessage()}))}))):Promise.resolve()}))}))},t.initPortal=j,t.preloadModulesForSSR=function(e){return Promise.all(d.getAllWidgets(e.appConfig).map((function(t){return i.isWidgetSupportSSR(e.appConfig,t.id,Object.keys(v.DataSourceTypes).map((function(e){return v.DataSourceTypes[e]})))&&t.manifest.properties.hasMainClass?f.default.getInstance().loadWidgetClass(t):Promise.resolve({})}))).then((function(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",o.loadModule(e)})).then((function(){return o.loadModule("jimu-ui")})).then((function(){return C.default.getInstance().loadTheme(e.appConfig.theme)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Map="MAP",e.WebMap="WEB_MAP",e.WebScene="WEB_SCENE",e.FeatureLayer="FEATURE_LAYER"}(t.DataSourceTypes||(t.DataSourceTypes={})),t.fixLayerId=function(e){return e.replace(/\s/g,"_")}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="export-json",t}return o(t,e),t.prototype.isSupported=function(e,t){return t.length>0},t.prototype.onExecute=function(e,t){var r=t.map((function(e){return e.toJson()}));return alert("see console"),console.log(r),Promise.resolve(!0)},t}(r(124).AbstractDataAction);t.default=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(68),a=r(11),s=r(20),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="select data record action",t}return o(t,e),t.prototype.filterMessageType=function(e,t){return e==i.MessageType.DataRecordsSelectionChange||e==i.MessageType.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"select-data-record-action"},t.prototype.onExecute=function(e,t){switch(e.type){case i.MessageType.DataRecordsSelectionChange:var r=null;if(t&&t.messageUseDataSource&&t.actionUseDataSource){if(e.records.length>0&&e.records[0].dataSource.id!==t.messageUseDataSource.dataSourceId)return!0;var n=a.default.getInstance().getDataSource(t.messageUseDataSource.dataSourceId),o=a.default.getInstance().getDataSource(t.actionUseDataSource.dataSourceId);if(0===e.records.length)return o&&o.selectRecordsByIds([]),!0;if(n&&o){if(t.enabledDataRelationShip){var u=null,c=null;if(t.messageUseDataSource.dataSourceId===t.actionUseDataSource.dataSourceId&&t.messageUseDataSource.rootDataSourceId===t.actionUseDataSource.rootDataSourceId){var l=n.getSchema(),d=l&&l.fields&&Object.keys(l.fields).find((function(e){return"esriFieldTypeOID"===l.fields[e].esriType}));c=u=l&&l.fields&&l.fields[d]}else{var f=t.messageUseDataSource.fields[0],p=t.actionUseDataSource.fields[0];u=n.getSchema().fields[f],c=o.getSchema().fields[p]}var h="";if(u&&c){for(var g=u.name,m=u.type,y=e,v=[],b=0;b<y.records.length;b++){var S=y.records[b].getData()[g];v.indexOf(""+this.formatValue(S,m))>-1||v.push(""+this.formatValue(y.records[b].getData()[g],m))}h=c.name+" IN ",h=v.length>0?h+"("+v.join(", ")+")":""}if(e.records.length>0)(w=t.sqlExprObj?s.getArcGISSQL(t.sqlExprObj,o).sql:null)&&(h=h?h+" AND "+w:w);else h="";r={outFields:["*"],where:h,returnGeometry:!0}}else{var w;h="";if(e.records.length>0)(w=t.sqlExprObj?s.getArcGISSQL(t.sqlExprObj,o).sql:null)&&(h=w);else h="";r={outFields:["*"],where:h,returnGeometry:!0}}o.query(r).then((function(e){var t=e&&e.records;if(t&&t.length>0){for(var r=[],n=0;n<t.length;n++){var i=t[n],a=o.getIdField();r.push(i.feature.attributes[a])}setTimeout((function(){o.selectRecordsByIds(r)}),200)}}))}}return!0}},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(i.AbstractMessageAction);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.LoadingHandler=function(e){return e.error?n.createElement("div",null,"Error! ",n.createElement("button",{onClick:e.retry},"Retry")):e.pastDelay?n.createElement("div",null,"Loading..."):null}},,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(69),a=r(129),s=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n},u=r(3);var c=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l=r(130),d="object"==typeof self&&self&&self.Object===Object&&self,f=l.a||d||Function("return this")(),p=function(){return f.Date.now()},h=f.Symbol,g=Object.prototype,m=g.hasOwnProperty,y=g.toString,v=h?h.toStringTag:void 0;var b=function(e){var t=m.call(e,v),r=e[v];try{e[v]=void 0;var n=!0}catch(e){}var o=y.call(e);return n&&(t?e[v]=r:delete e[v]),o},S=Object.prototype.toString;var w=function(e){return S.call(e)},I="[object Null]",_="[object Undefined]",O=h?h.toStringTag:void 0;var E=function(e){return null==e?void 0===e?_:I:O&&O in Object(e)?b(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e},P="[object Symbol]";var A=function(e){return"symbol"==typeof e||C(e)&&E(e)==P},T=NaN,x=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,D=/^0o[0-7]+$/i,k=parseInt;var R=function(e){if("number"==typeof e)return e;if(A(e))return T;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(x,"");var r=M.test(e);return r||D.test(e)?k(e.slice(2),r?2:8):j.test(e)?T:+e},F="Expected a function",L=Math.max,U=Math.min;var N=function(e,t,r){var n,o,i,a,s,u,l=0,d=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError(F);function g(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function m(e){var r=e-u;return void 0===u||r>=t||r<0||f&&e-l>=i}function y(){var e=p();if(m(e))return v(e);s=setTimeout(y,function(e){var r=t-(e-u);return f?U(r,i-(e-l)):r}(e))}function v(e){return s=void 0,h&&n?g(e):(n=o=void 0,a)}function b(){var e=p(),r=m(e);if(n=arguments,o=this,u=e,r){if(void 0===s)return function(e){return l=e,s=setTimeout(y,t),d?g(e):a}(u);if(f)return clearTimeout(s),s=setTimeout(y,t),g(u)}return void 0===s&&(s=setTimeout(y,t)),a}return t=R(t)||0,c(r)&&(d=!!r.leading,i=(f="maxWait"in r)?L(R(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=u=o=s=void 0},b.flush=function(){return void 0===s?a:v(p())},b},W="Expected a function";var B=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(W);return c(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),N(e,t,{leading:n,maxWait:t,trailing:o})},V={debounce:N,throttle:B},q=function(e){return V[e]},G=function(e){return"function"==typeof e},z=function(){return"undefined"==typeof window},H=function(e){return e instanceof Element||e instanceof HTMLDocument};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,Q(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.children}}])&&J(r.prototype,n),o&&J(r,o),t}(n.PureComponent);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?re(e):t}(this,te(t).call(this,e)),oe(re(r),"cancelHandler",(function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)})),oe(re(r),"rafClean",(function(){r.raf&&r.raf.cancel&&(r.raf.cancel(),r.raf=null)})),oe(re(r),"toggleObserver",(function(e){var t=r.getElement();t&&r.resizeObserver[e]&&r.resizeObserver[e](t)})),oe(re(r),"getElement",(function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(!z()){if(t)return document.querySelector(t);if(n&&H(n))return n;var o=r.element&&Object(i.findDOMNode)(r.element);if(o)return o.parentElement}})),oe(re(r),"createUpdater",(function(){return r.rafClean(),r.raf=s((function(e){var t=e.width,n=e.height,o=r.props.onResize;G(o)&&o(t,n),r.setState({width:t,height:n})})),r.raf})),oe(re(r),"createResizeHandler",(function(e){var t=r.state,n=t.width,o=t.height,i=r.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var u=r.createUpdater();e.forEach((function(e){var t=e&&e.contentRect||{},i=t.width,c=t.height,l=a&&n!==i||s&&o!==c;!r.skipOnMount&&l&&!z()&&u({width:i,height:c}),r.skipOnMount=!1}))}})),oe(re(r),"onRef",(function(e){r.element=e})),oe(re(r),"getRenderType",(function(){var e=r.props,t=e.render,o=e.children;return G(t)?"renderProp":G(o)?"childFunction":Object(n.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),oe(re(r),"getTargetComponent",(function(){var e=r.props,t=e.render,o=e.children,i=e.nodeType,a=r.state,s={width:a.width,height:a.height};switch(r.getRenderType()){case"renderProp":return Object(n.cloneElement)(t(s),{key:"resize-detector"});case"childFunction":return Object(n.cloneElement)(o(s));case"child":return Object(n.cloneElement)(o,s);case"childArray":return o.map((function(e){return!!e&&Object(n.cloneElement)(e,s)}));default:return Object(n.createElement)(i)}}));var o=e.skipOnMount,u=e.refreshMode,c=e.refreshRate,l=e.refreshOptions;r.state={width:void 0,height:void 0},r.skipOnMount=o,r.raf=null,r.element=null,r.unmounted=!1;var d=q(u);return r.resizeHandler=d?d(r.createResizeHandler,c,l):r.createResizeHandler,r.resizeObserver=new a.a(r.resizeHandler),r}var r,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),r=t,(u=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(Z,{ref:this.onRef},this.getTargetComponent())}}])&&ee(r.prototype,u),c&&ee(r,c),t}(n.PureComponent);ie.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,targetDomEl:u.any,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},ie.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var ae=ie;function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t,r){return t&&ce(e.prototype,t),r&&ce(e,r),e}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return(function(r){function n(){return ue(this,n),de(this,fe(n).apply(this,arguments))}return pe(n,r),le(n,[{key:"render",value:function(){return o.a.createElement(ae,t,o.a.createElement(e,this.props))}}]),n}(n.Component))};r.d(t,"withResizeDetector",(function(){return ge}));t.default=ae},function(e,t,r){"use strict";r.r(t);var n=r(9);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],n=t&&t.split("/")||[],a=e&&o(e),s=t&&o(t),u=a||s;if(e&&o(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var c=void 0;if(n.length){var l=n[n.length-1];c="."===l||".."===l||""===l}else c=!1;for(var d=0,f=n.length;f>=0;f--){var p=n[f];"."===p?i(n,f):".."===p?(i(n,f),d++):d&&(i(n,f),d--)}if(!u)for(;d--;d)n.unshift("..");!u||""===n[0]||n[0]&&o(n[0])||n.unshift("");var h=n.join("/");return c&&"/"!==h.substr(-1)&&(h+="/"),h},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));var n=void 0===t?"undefined":s(t);if(n!==(void 0===r?"undefined":s(r)))return!1;if("object"===n){var o=t.valueOf(),i=r.valueOf();if(o!==t||i!==r)return e(o,i);var a=Object.keys(t),u=Object.keys(r);return a.length===u.length&&a.every((function(n){return e(t[n],r[n])}))}return!1},c=!0,l="Invariant failed";var d=function(e,t){if(!e)throw c?new Error(l):new Error(l+": "+(t||""))};function f(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function y(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function v(e,t,r,o){var i;"string"==typeof e?(i=m(e)).state=t:(void 0===(i=Object(n.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(i.key=r),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function b(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function S(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,o){if(null!=e){var i="function"==typeof e?e(t,r):e;"string"==typeof i?"function"==typeof n?n(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}r.d(t,"createBrowserHistory",(function(){return C})),r.d(t,"createHashHistory",(function(){return j})),r.d(t,"createMemoryHistory",(function(){return D})),r.d(t,"createLocation",(function(){return v})),r.d(t,"locationsAreEqual",(function(){return b})),r.d(t,"parsePath",(function(){return m})),r.d(t,"createPath",(function(){return y}));var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function I(e,t){t(window.confirm(e))}var _="popstate",O="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),w||d(!1);var t,r=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,u=void 0!==s&&s,c=a.getUserConfirmation,l=void 0===c?I:c,p=a.keyLength,m=void 0===p?6:p,b=e.basename?g(f(e.basename)):"";function C(e){var t=e||{},r=t.key,n=t.state,o=window.location,i=o.pathname+o.search+o.hash;return b&&(i=h(i,b)),v(i,n,r)}function P(){return Math.random().toString(36).substr(2,m)}var A=S();function T(e){Object(n.a)(B,e),B.length=r.length,A.notifyListeners(B.location,B.action)}function x(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||D(C(e.state))}function j(){D(C(E()))}var M=!1;function D(e){if(M)M=!1,T();else{A.confirmTransitionTo(e,"POP",l,(function(t){t?T({action:"POP",location:e}):function(e){var t=B.location,r=R.indexOf(t.key);-1===r&&(r=0);var n=R.indexOf(e.key);-1===n&&(n=0);var o=r-n;o&&(M=!0,L(o))}(e)}))}}var k=C(E()),R=[k.key];function F(e){return b+y(e)}function L(e){r.go(e)}var U=0;function N(e){1===(U+=e)&&1===e?(window.addEventListener(_,x),i&&window.addEventListener(O,j)):0===U&&(window.removeEventListener(_,x),i&&window.removeEventListener(O,j))}var W=!1;var B={length:r.length,action:"POP",location:k,createHref:F,push:function(e,t){var n=v(e,t,P(),B.location);A.confirmTransitionTo(n,"PUSH",l,(function(e){if(e){var t=F(n),i=n.key,a=n.state;if(o)if(r.pushState({key:i,state:a},null,t),u)window.location.href=t;else{var s=R.indexOf(B.location.key),c=R.slice(0,-1===s?0:s+1);c.push(n.key),R=c,T({action:"PUSH",location:n})}else window.location.href=t}}))},replace:function(e,t){var n=v(e,t,P(),B.location);A.confirmTransitionTo(n,"REPLACE",l,(function(e){if(e){var t=F(n),i=n.key,a=n.state;if(o)if(r.replaceState({key:i,state:a},null,t),u)window.location.replace(t);else{var s=R.indexOf(B.location.key);-1!==s&&(R[s]=n.key),T({action:"REPLACE",location:n})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return W||(N(1),W=!0),function(){return W&&(W=!1,N(-1)),t()}},listen:function(e){var t=A.appendListener(e);return N(1),function(){N(-1),t()}}};return B}var P="hashchange",A={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:f},slash:{encodePath:f,decodePath:f}};function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function x(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function j(e){void 0===e&&(e={}),w||d(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),o=r.getUserConfirmation,i=void 0===o?I:o,a=r.hashType,s=void 0===a?"slash":a,u=e.basename?g(f(e.basename)):"",c=A[s],l=c.encodePath,p=c.decodePath;function m(){var e=p(T());return u&&(e=h(e,u)),v(e)}var _=S();function O(e){Object(n.a)(W,e),W.length=t.length,_.notifyListeners(W.location,W.action)}var E=!1,C=null;function j(){var e=T(),t=l(e);if(e!==t)x(t);else{var r=m(),n=W.location;if(!E&&b(n,r))return;if(C===y(r))return;C=null,function(e){if(E)E=!1,O();else{_.confirmTransitionTo(e,"POP",i,(function(t){t?O({action:"POP",location:e}):function(e){var t=W.location,r=R.lastIndexOf(y(t));-1===r&&(r=0);var n=R.lastIndexOf(y(e));-1===n&&(n=0);var o=r-n;o&&(E=!0,F(o))}(e)}))}}(r)}}var M=T(),D=l(M);M!==D&&x(D);var k=m(),R=[y(k)];function F(e){t.go(e)}var L=0;function U(e){1===(L+=e)&&1===e?window.addEventListener(P,j):0===L&&window.removeEventListener(P,j)}var N=!1;var W={length:t.length,action:"POP",location:k,createHref:function(e){return"#"+l(u+y(e))},push:function(e,t){var r=v(e,void 0,void 0,W.location);_.confirmTransitionTo(r,"PUSH",i,(function(e){if(e){var t=y(r),n=l(u+t);if(T()!==n){C=t,function(e){window.location.hash=e}(n);var o=R.lastIndexOf(y(W.location)),i=R.slice(0,-1===o?0:o+1);i.push(t),R=i,O({action:"PUSH",location:r})}else O()}}))},replace:function(e,t){var r=v(e,void 0,void 0,W.location);_.confirmTransitionTo(r,"REPLACE",i,(function(e){if(e){var t=y(r),n=l(u+t);T()!==n&&(C=t,x(n));var o=R.indexOf(y(W.location));-1!==o&&(R[o]=t),O({action:"REPLACE",location:r})}}))},go:F,goBack:function(){F(-1)},goForward:function(){F(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return N||(U(1),N=!0),function(){return N&&(N=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return W}function M(e,t,r){return Math.min(Math.max(e,t),r)}function D(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=S();function d(e){Object(n.a)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=M(s,0,i.length-1),h=i.map((function(e){return v(e,void 0,"string"==typeof e?f():e.key||f())})),g=y;function m(e){var t=M(b.index+e,0,b.entries.length-1),n=b.entries[t];l.confirmTransitionTo(n,"POP",r,(function(e){e?d({action:"POP",location:n,index:t}):d()}))}var b={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:g,push:function(e,t){var n=v(e,t,f(),b.location);l.confirmTransitionTo(n,"PUSH",r,(function(e){if(e){var t=b.index+1,r=b.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),d({action:"PUSH",location:n,index:t,entries:r})}}))},replace:function(e,t){var n=v(e,t,f(),b.location);l.confirmTransitionTo(n,"REPLACE",r,(function(e){e&&(b.entries[b.index]=n,d({action:"REPLACE",location:n}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}}])}));